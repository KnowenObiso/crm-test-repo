package TurnQuest.view.client;

import TurnQuest.view.Base.ADFUtils;
import TurnQuest.view.Base.ChannelManager;
import TurnQuest.view.Base.GlobalCC;
import TurnQuest.view.Base.IQuery;
import TurnQuest.view.Base.Rendering;
import TurnQuest.view.Base.Util;
import TurnQuest.view.Connect.Authorization;
import TurnQuest.view.Connect.DBConnector;
import TurnQuest.view.models.UserSystem;
import TurnQuest.view.navigation.Links;
import TurnQuest.view.utilities.CSVtoADFTableProcessor;
import TurnQuest.view.web.CbaCustomerAccountInfo;
import java.io.IOException;
import java.io.InputStream;
import java.io.PrintStream;
import java.math.BigDecimal;
import java.net.FileNameMap;
import java.net.URLConnection;
import java.sql.CallableStatement;
import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
import javax.faces.application.FacesMessage;
import javax.faces.component.UIComponent;
import javax.faces.component.UISelectItems;
import javax.faces.component.html.HtmlPanelGrid;
import javax.faces.context.ExternalContext;
import javax.faces.context.FacesContext;
import javax.faces.event.ActionEvent;
import javax.faces.event.PhaseEvent;
import javax.faces.event.ValueChangeEvent;
import javax.faces.model.SelectItem;
import javax.faces.validator.ValidatorException;
import javax.servlet.http.HttpSession;
import oracle.adf.model.binding.DCIteratorBinding;
import oracle.adf.view.rich.component.rich.RichDialog;
import oracle.adf.view.rich.component.rich.RichPopup;
import oracle.adf.view.rich.component.rich.data.RichTable;
import oracle.adf.view.rich.component.rich.data.RichTree;
import oracle.adf.view.rich.component.rich.input.RichInputDate;
import oracle.adf.view.rich.component.rich.input.RichInputFile;
import oracle.adf.view.rich.component.rich.input.RichInputNumberSpinbox;
import oracle.adf.view.rich.component.rich.input.RichInputText;
import oracle.adf.view.rich.component.rich.input.RichSelectBooleanCheckbox;
import oracle.adf.view.rich.component.rich.input.RichSelectBooleanRadio;
import oracle.adf.view.rich.component.rich.input.RichSelectItem;
import oracle.adf.view.rich.component.rich.input.RichSelectOneChoice;
import oracle.adf.view.rich.component.rich.layout.RichPanelBox;
import oracle.adf.view.rich.component.rich.layout.RichPanelFormLayout;
import oracle.adf.view.rich.component.rich.layout.RichPanelGroupLayout;
import oracle.adf.view.rich.component.rich.layout.RichPanelLabelAndMessage;
import oracle.adf.view.rich.component.rich.layout.RichPanelTabbed;
import oracle.adf.view.rich.component.rich.layout.RichShowDetailItem;
import oracle.adf.view.rich.component.rich.nav.RichCommandButton;
import oracle.adf.view.rich.component.rich.nav.RichCommandLink;
import oracle.adf.view.rich.component.rich.output.RichImage;
import oracle.adf.view.rich.component.rich.output.RichOutputLabel;
import oracle.adf.view.rich.component.rich.output.RichOutputText;
import oracle.adf.view.rich.component.rich.output.RichPanelCollection;
import oracle.adf.view.rich.event.DialogEvent;
import oracle.adf.view.rich.event.DialogEvent.Outcome;
import oracle.jbo.Row;
import oracle.jbo.uicli.binding.JUCtrlHierNodeBinding;
import oracle.jbo.uicli.binding.JUCtrlValueBinding;
import oracle.jdbc.OracleCallableStatement;
import oracle.jdbc.OracleConnection;
import oracle.jdbc.OracleResultSet;
import oracle.sql.ARRAY;
import oracle.sql.ArrayDescriptor;
import org.apache.commons.dbutils.DbUtils;
import org.apache.myfaces.trinidad.event.SelectionEvent;
import org.apache.myfaces.trinidad.model.RowKeySet;
import org.apache.myfaces.trinidad.model.RowKeySetImpl;
import org.apache.myfaces.trinidad.model.UploadedFile;
import org.apache.myfaces.trinidad.render.ExtendedRenderKitService;
import org.apache.myfaces.trinidad.util.Service;

public class BaseClientBacking
{
  HttpSession session = (HttpSession)FacesContext.getCurrentInstance().getExternalContext().getSession(false);
  Rendering renderer = new Rendering();
  public static final String[] CLIENT_TYPES = { "I", "C", "G", "F", "S", "P", "M" };
  private RichSelectOneChoice txtClientLevel;
  private RichTable tblClients;
  private RichTable tbPinRefs;
  private RichPanelBox panelCreateClient;
  private RichSelectBooleanRadio sbrIndividual;
  private RichSelectBooleanRadio sbrCorporate;
  private RichInputDate txtDateCreated;
  private RichInputText txtCreatedBy;
  private RichSelectOneChoice txtDirectClient;
  private RichInputText txtAccountNum;
  private RichInputText txtId;
  private RichSelectOneChoice txtTitle;
  private RichInputText txtSurname;
  private RichInputText txtOtherNames;
  private RichInputText txtFullNames;
  private RichInputText txtPhysicalAddress;
  private RichInputText txtPostalAddress;
  private RichInputText txtCountryCode;
  private RichInputText txtCountryName;
  private RichInputText txtTownCode;
  private RichInputText txtTownName;
  private RichInputDate txtDOB;
  private RichInputText txtBankAccNum;
  private RichInputText txtPIN;
  private RichInputText txtIdRegNum;
  private RichInputText txtEmail;
  private RichInputText txtEmail2;
  private RichInputText txtPhone1;
  private RichInputText txtSms;
  private RichInputText txtFax;
  private RichSelectOneChoice txtProposer;
  private RichInputDate txtWef;
  private RichInputDate txtWet;
  private RichInputText txtRemarks;
  private RichInputText txtWithdrawalReason;
  private RichSelectOneChoice txtStatus;
  private RichSelectOneChoice txtRunOff;
  private RichSelectOneChoice txtSpecialTerms;
  private RichSelectOneChoice txtCancelledPolicy;
  private RichSelectOneChoice txtIncreasePremium;
  private RichSelectOneChoice txtDeclinedProposal;
  private RichInputText txtBranchCode;
  private RichInputText txtBranchName;
  private RichInputText txtDivisionCode;
  private RichInputText txtDivisionName;
  private RichInputText txtAccountManager;
  private RichInputText txtSectorCode;
  private RichInputText txtSectorName;
  private RichInputText txtDomicileCountriesCode;
  private RichInputText txtDomicileCountriesName;
  private RichTable tblCountryPop;
  private RichTable tblTownPop;
  private RichInputText txtClientCode;
  private RichInputText contactName1;
  private RichInputText contactPhone1;
  private RichInputText contactEmail1;
  private RichInputText contactName2;
  private RichInputText contactPhone2;
  private RichInputText contactEmail2;
  private RichCommandButton btnShowContactPersons;
  private RichCommandLink cmdSelectPin;
  private RichInputText txtContactName1;
  private RichInputText txtContactPhone1;
  private RichInputText txtContactEmail1;
  private RichInputText txtContactName2;
  private RichInputText txtContactPhone2;
  private RichInputText txtContactEmail2;
  private RichTable tblSectorPop;
  private RichTable tblDomicileCountryPop;
  private RichTable tblAccountManagersPop;
  private RichInputText txtAccountManagerCode;
  private RichTable tblBankBranchPop;
  private RichTable tblBranchDivisionPop;
  private RichCommandButton btnCreateUpdateClient;
  private RichInputText txtAccUsername;
  private RichInputText txtAccFullNames;
  private RichInputText txtAccPassword;
  private RichInputText txtAccPersonelRank;
  private RichSelectOneChoice txtAccStatus;
  private RichSelectOneChoice txtAccAllowLogin;
  private RichInputText txtAccEmail;
  private RichInputText txtAccCode;
  private RichCommandButton btnSaveUpdateWebAccount;
  private RichTable tblwebAccounts;
  private RichPanelBox panelClientSystems;
  private RichTree treeAssignedClientSystems;
  private RichTree treeUnassignedClientSystems;
  private RichPanelBox panelDetailSystems;
  private RichInputText txtSelectedClientSystemCode;
  private RichCommandButton btnAddClientSystem;
  private RichCommandButton btnRemoveClientSystem;
  private RichTable tblRequiredDocs;
  private RichShowDetailItem tabDetailCreateClient;
  private RichShowDetailItem tabDetailSearchClients;
  private RichShowDetailItem tabClientInfo;
  private RichShowDetailItem tabClientSystems;
  private RichShowDetailItem tabClientWebAccounts;
  private RichShowDetailItem tabClientDocs;
  private RichPanelBox mainPanel;
  private RichCommandButton btnSaveRequiredDoc;
  private RichInputText txtDocCodePop;
  private RichInputText txtReqDocCodePop;
  private RichInputText txtReqDocNamePop;
  private RichInputText txtDocClientCodePop;
  private RichSelectOneChoice txtDocSubmittedPop;
  private RichInputDate txtDocDateSubmittedPop;
  private RichInputText txtDocRefNumPop;
  private RichInputText txtDocRemarkPop;
  private RichInputText txtDocUserReceivedPop;
  private RichTable tblReqDocsList;
  private RichPopup confirmationDialog;
  private RichOutputLabel clientCodeValue;
  private RichOutputLabel olConfirmMsgValue;
  private RichOutputText textToShow;
  private RichInputText txtClientTitle;
  private RichTable tblClientTitles;
  private RichInputText txtClientTitleCode;
  private RichInputText hiddenClientCode;
  private RichTable tblClientAccounts;
  private RichInputText txtAccountCode;
  private RichInputText txtAccShortDesc;
  private RichInputText txtAccName;
  private RichInputText txtAccClientCode;
  private RichInputText txtAccCreatedBy;
  private RichInputDate txtAccDateCreated;
  private RichSelectOneChoice txtClientAccStatus;
  private RichInputText txtAccRemarks;
  private RichInputDate txtAccWef;
  private RichInputDate txtAccWet;
  private RichInputText txtAccCntName;
  private RichInputText txtAccCntTitle;
  private RichInputText txtAccCntSmsNo;
  private RichInputText txtAccCntEmail;
  private RichCommandButton btnSaveUpdateClientAccount;
  private RichInputText txtPassportNo;
  private RichInputText txtBrnDivName;
  private RichTable brnDivLov;
  private RichInputText txtStateCode;
  private RichInputText txtStateName;
  private RichTable tblStates;
  private RichPanelLabelAndMessage clientTitlePan;
  private RichSelectBooleanRadio genAcSelectYes;
  private RichSelectBooleanRadio genAccNoSelect;
  private RichOutputLabel confirmDeleteAccMsg;
  private RichTable tbClientListingBasedOnNames;
  private RichDialog confirmSaveDialog;
  private RichCommandButton btnAuthorizeClient;
  private RichSelectItem selectStatusDraft;
  private RichSelectItem selectStatusInactive;
  private RichSelectItem selectStatusRejected;
  private RichSelectItem selectStatusActive;
  private RichCommandButton btnRejectClient;
  private RichCommandButton btnBackClient;
  private RichImage clientImage;
  private RichInputFile uploadComponent;
  private RichInputFile uploadPhoto;
  private RichImage clientSignature;
  private RichImage clientPhoto;
  private RichInputFile uploadedPicture;
  private RichInputFile uploadSignature;
  private RichInputText txtWebsite;
  private RichInputText txtAuditors;
  private RichInputText txtDLNo;
  private RichInputDate txtDateOfEmployment;
  private RichInputText txtInsurer;
  private RichInputText txtParentCompany;
  private RichInputText txtProjectedBusiness;
  private BigDecimal clnt_code;
  private RichCommandButton addAgencyDirectors;
  private RichCommandButton editAgencyDirectors;
  private RichCommandButton deleteAgencyDirectors;
  private RichInputText agencyDirectorId;
  private RichInputDate directYr;
  private RichInputText directQualifications;
  private RichInputNumberSpinbox directshare;
  private RichCommandButton saveAgDirectorsAction;
  private RichShowDetailItem tabDirectors;
  private RichInputText directname;
  private RichCommandButton saveAgDirectorButton;
  private RichTable agentDirectorsTable;
  private RichTable postalCodeTable;
  private RichShowDetailItem tabAuditors;
  private RichCommandButton addAgencyAuditors;
  private RichCommandButton editAgencyAuditors;
  private RichCommandButton deleteAgencyAuditors;
  private RichInputText agencyAuditorId;
  private RichCommandButton saveAgAuditorButton;
  private RichInputText directAuditorQualification;
  private RichInputText auditName;
  private RichInputText auditYr;
  private RichInputText auditYear;
  private RichInputDate auditYER;
  private RichInputText auditorTelephone;
  private RichTable agentAuditorsTable;
  private RichCommandButton addClientAuditors;
  private RichInputText txtParentCompanyCode;
  private RichPanelLabelAndMessage parentcompanyPan;
  private RichPopup tbParentCompanyPop;
  private RichTable tableParentComp;
  private RichInputNumberSpinbox txtProjectedBiz;
  private RichInputText txtRegBranchName;
  private RichInputText txtRegBranchCode;
  private RichCommandButton tblBranches;
  private RichTable tblRegBranches;
  private RichTable tblCurrencyPop;
  private RichPanelBox panelCurrencyRate;
  private RichCommandButton btnAcceptBranch;
  private RichPopup branchPop;
  private RichInputText txtGrpName;
  private RichInputNumberSpinbox txtGrpMinimum;
  private RichInputNumberSpinbox txtGrpMax;
  private RichCommandButton btnsaveGrp;
  private RichInputText txtGrpCode;
  private RichTable tblClientGroup;
  private RichTable tblClientGrpMembers;
  private RichTable tblClientPop;
  private RichCommandButton btnRemoveClientFromGroup;
  private RichCommandButton btnActionEditGroupClient;
  private RichCommandButton btnActionDeleteGroupClient;
  private RichSelectOneChoice searchCriteria;
  private RichInputText txtSearchSectorName;
  private RichSelectBooleanCheckbox columnSelect;
  private RichInputText txtSearchSector;
  private RichInputText txtSrchSectorName;
  private RichInputText txtAccountOfficerCode;
  private RichInputText txtAccountOfficerName;
  private RichTable tblAccountOfficer;
  private RichPanelGroupLayout laySignature;
  private RichPanelGroupLayout layClientImage;
  private InputStream inputstream;
  private RichCommandButton btnDeleteClient;
  private RichPanelGroupLayout searchFormHolder;
  private RichPanelFormLayout SEARCHHOLDER;
  private RichPanelLabelAndMessage statusHolder;
  private RichPanelLabelAndMessage searchClientType;
  private RichShowDetailItem tabClientAccounts;
  private RichPanelTabbed clientTab;
  private RichPanelCollection panelCollSearch;
  private RichSelectOneChoice txtGender;
  private UploadedFile pictureFile;
  private UploadedFile signatureFile;
  private static InputStream fileStream;
  private String filename;
  private long filesize;
  private static String fileContent;
  private String filetype;
  private static InputStream fileStream2;
  private String filename2;
  private long filesize2;
  private static String fileContent2;
  private String filetype2;
  private RichInputText txtClientCellNos;
  private RichInputText txtCltBankTelNo;
  private RichInputText txtCltBankCellNo;
  private RichInputText txtCltEmployerTelNo;
  private RichInputText txtCltEmployerCellNo;
  private RichPanelGroupLayout grpEmploymentDetails;
  private RichInputText txtCltOccupation;
  private RichInputText txtSpecialization;
  private HtmlPanelGrid pgridPersonnalDetails;
  private RichShowDetailItem detailEmploymentDetails;
  private RichTable tblAdminRegions;
  private RichPanelLabelAndMessage panMsgRegionTypeName;
  private RichDialog dlgAdminRegionTypes;
  private RichInputText txtAdminRegionType;
  private RichInputText txtAdminRegionName;
  private RichInputText txtAdminRegionCode;
  private RichPanelLabelAndMessage pnMsgTownName;
  private RichDialog dlgNewEditAdminUnit;
  private RichPanelLabelAndMessage lbMsgState;
  private RichInputText txtAgencyName;
  private RichInputText txtAgencyCode;
  private RichTable tblAgenciesLOV;
  private RichPanelLabelAndMessage pnLabelAgency;
  private RichTable clntContacts;
  private RichInputText conCode;
  private RichInputText conName;
  private RichInputText conAddress;
  private RichInputText conPhysi;
  private RichInputText conSect;
  private RichTable sector;
  private RichInputText legacyShtDesc;
  private RichInputText txtZipCode;
  private RichInputDate txtAnniversary;
  private RichSelectOneChoice txtCreditRting;
  private RichInputText txtHoldingCompany;
  private RichTable holdingCompanyTbl;
  private RichSelectOneChoice txtClientCategory;
  private UISelectItems clientSelected;
  private RichSelectItem selectClientSelected;
  private RichSelectOneChoice txtClientTypes;
  private RichInputText txtDrvExperience;
  private RichPanelLabelAndMessage txtHoldingCompanyCont;
  private RichCommandButton txtCommandBtn;
  private RichSelectOneChoice txtSacco;
  private RichCommandButton txtSelectClientTitle;
  private RichCommandButton txtSelectContactTitle;
  private RichDialog comfirmContinue;
  private RichInputText txtReasonForUpdate;
  private RichInputText webClientName;
  private RichInputText webClientShtDesc;
  private RichCommandButton saveShtDesc;
  private RichCommandButton addClientBranches;
  private RichCommandButton editClientBranches;
  private RichCommandButton deleteClientBranches;
  private RichTable clientBranch;
  private RichTable unAssignedBank;
  private RichSelectBooleanCheckbox unAssigned;
  private RichTable assignedBank;
  private RichSelectBooleanCheckbox assignedCheck;
  private RichInputText txtDefaultBranch;
  private RichTable defaultBranch;
  private RichInputNumberSpinbox txtDebitLimit;
  private RichInputNumberSpinbox txtCrLimits;
  private RichInputText txtWebProduct;
  private RichInputText txtUserName;
  private RichTable webProductTbl;
  private RichTable tblUser;
  private RichSelectBooleanCheckbox txtPolicyCheck;
  private RichSelectBooleanCheckbox txtEndorsCheck;
  private RichTable webProductsDetails;
  private RichCommandButton txtAgencies;
  private RichTable smsTbl;
  private RichTable emailTbl;
  private RichSelectOneChoice txtPrefix;
  private RichInputText txtClientAccount;
  private RichTable clientAccountTbl;
  private RichTable marketerTbl;
  private RichPanelLabelAndMessage labelAndMessage;
  private RichCommandButton relationShipPop;
  private RichInputText txtPrefixManager;
  private RichCommandButton prefixPop;
  private RichTable prefixTbl;
  private RichPanelFormLayout panelBinding;
  private RichSelectOneChoice txtCreditAllowed;
  private RichSelectOneChoice txtCheckedByComplianceOfficer;
  private RichInputNumberSpinbox txtCreditLimit;
  private RichInputText txtNationality;
  private RichInputText txtSurburbs;
  private RichPanelLabelAndMessage txtSurburbsLbl;
  private RichTable locationTbl;
  private RichInputText txtSector;
  private RichInputText txtSmsPrefix;
  private RichSelectOneChoice txtBouncedCheque;
  private RichSelectOneChoice txtMaritalStatus;
  private RichSelectOneChoice txtModeOfComm;
  private RichInputText txtPayroll;
  private RichInputNumberSpinbox txtMinSalary;
  private RichInputNumberSpinbox txtMaxSalary;
  private RichSelectOneChoice txtType;
  private RichInputText txtBussinessPerson;
  private RichTable bussinesPersonTbl;
  private RichTable occupationTbl;
  private RichTable specializationTbl;
  private RichDialog confirmPin;
  private RichInputDate txtDlIssueDate;
  private RichInputText txtWorkPermit;
  private RichInputFile upFile;
  private UploadedFile uploadedFile;
  private RichTable docTbl;
  private RichTable debtor;
  private RichTable prefixTbl2;
  private RichInputText txtTelPayPrefix;
  private RichInputText txtPayTel;
  private RichInputText postalCode;
  private RichTable tblCountryPop2;
  private RichInputText txtCountryName2;
  private RichInputText txtCountryCode2;
  private RichInputText txtCountryName3;
  private RichInputText txtCountryCode3;
  private RichInputText txtIntTel;
  private RichInputText txtCustomerCompany;
  private RichTable tblCountryPop3;
  private RichTable tblBankAccounts;
  private RichSelectBooleanCheckbox chkGISClient;
  private RichSelectBooleanCheckbox chkLMSClient;
  private RichInputText txtSearchCountry;
  private RichDialog dlgClientAccount;
  private RichInputText txtBACT_NAME;
  private RichInputText txtBACT_ACCOUNT_NO;
  private RichInputText txtBACT_BANK_BRANCH;
  private RichInputText txtBACT_CURRENCY;
  private RichInputText txtBACT_BANK_NAME;
  private RichInputText txtBACT_CELL_NOS;
  private RichInputText txtBACT_TEL_NOS;
  private RichInputText txtBACT_ACCOUNT_TYPE;
  private RichSelectOneChoice txtBACT_DEFAULT;
  private RichInputText txtBACT_ACC_OFFICER;
  private RichCommandButton saveBankDetailsBtn;
  private RichShowDetailItem tabBankAccounts;
  private RichPopup bankDetailsPopUp;
  private RichInputText txtBnkIBAN;
  private RichSelectOneChoice txtBACT_STATUS;
  private List<SelectItem> clientType = new ArrayList();
  private UploadedFile UploadedImageFile;
  
  public BaseClientBacking()
  {
    this.inputstream = null;
  }
  
  public void setMainPanel(RichPanelBox mainPanel)
  {
    this.mainPanel = mainPanel;
  }
  
  public RichPanelBox getMainPanel()
  {
    return this.mainPanel;
  }
  
  public void setBtnSaveRequiredDoc(RichCommandButton btnSaveRequiredDoc)
  {
    this.btnSaveRequiredDoc = btnSaveRequiredDoc;
  }
  
  public RichCommandButton getBtnSaveRequiredDoc()
  {
    return this.btnSaveRequiredDoc;
  }
  
  public void setTxtDocCodePop(RichInputText txtDocCodePop)
  {
    this.txtDocCodePop = txtDocCodePop;
  }
  
  public RichInputText getTxtDocCodePop()
  {
    return this.txtDocCodePop;
  }
  
  public void setTxtReqDocCodePop(RichInputText txtReqDocCodePop)
  {
    this.txtReqDocCodePop = txtReqDocCodePop;
  }
  
  public RichInputText getTxtReqDocCodePop()
  {
    return this.txtReqDocCodePop;
  }
  
  public void setTxtReqDocNamePop(RichInputText txtReqDocNamePop)
  {
    this.txtReqDocNamePop = txtReqDocNamePop;
  }
  
  public RichInputText getTxtReqDocNamePop()
  {
    return this.txtReqDocNamePop;
  }
  
  public void setTxtDocClientCodePop(RichInputText txtDocClientCodePop)
  {
    this.txtDocClientCodePop = txtDocClientCodePop;
  }
  
  public RichInputText getTxtDocClientCodePop()
  {
    return this.txtDocClientCodePop;
  }
  
  public void setTxtDocSubmittedPop(RichSelectOneChoice txtDocSubmittedPop)
  {
    this.txtDocSubmittedPop = txtDocSubmittedPop;
  }
  
  public RichSelectOneChoice getTxtDocSubmittedPop()
  {
    return this.txtDocSubmittedPop;
  }
  
  public void setTxtDocDateSubmittedPop(RichInputDate txtDocDateSubmittedPop)
  {
    this.txtDocDateSubmittedPop = txtDocDateSubmittedPop;
  }
  
  public RichInputDate getTxtDocDateSubmittedPop()
  {
    return this.txtDocDateSubmittedPop;
  }
  
  public void setTxtDocRefNumPop(RichInputText txtDocRefNumPop)
  {
    this.txtDocRefNumPop = txtDocRefNumPop;
  }
  
  public RichInputText getTxtDocRefNumPop()
  {
    return this.txtDocRefNumPop;
  }
  
  public void setTxtDocRemarkPop(RichInputText txtDocRemarkPop)
  {
    this.txtDocRemarkPop = txtDocRemarkPop;
  }
  
  public RichInputText getTxtDocRemarkPop()
  {
    return this.txtDocRemarkPop;
  }
  
  public void setTxtDocUserReceivedPop(RichInputText txtDocUserReceivedPop)
  {
    this.txtDocUserReceivedPop = txtDocUserReceivedPop;
  }
  
  public RichInputText getTxtDocUserReceivedPop()
  {
    return this.txtDocUserReceivedPop;
  }
  
  public void setTblClients(RichTable tblClients)
  {
    this.tblClients = tblClients;
  }
  
  public RichTable getTblClients()
  {
    return this.tblClients;
  }
  
  public void setPanelCreateClient(RichPanelBox panelCreateClient)
  {
    this.panelCreateClient = panelCreateClient;
  }
  
  public RichPanelBox getPanelCreateClient()
  {
    return this.panelCreateClient;
  }
  
  public void setSbrIndividual(RichSelectBooleanRadio sbrIndividual)
  {
    this.sbrIndividual = sbrIndividual;
  }
  
  public RichSelectBooleanRadio getSbrIndividual()
  {
    return this.sbrIndividual;
  }
  
  public void setSbrCorporate(RichSelectBooleanRadio sbrCorporate)
  {
    this.sbrCorporate = sbrCorporate;
  }
  
  public RichSelectBooleanRadio getSbrCorporate()
  {
    return this.sbrCorporate;
  }
  
  public void setTxtDateCreated(RichInputDate txtDateCreated)
  {
    this.txtDateCreated = txtDateCreated;
  }
  
  public RichInputDate getTxtDateCreated()
  {
    return this.txtDateCreated;
  }
  
  public void setTxtCreatedBy(RichInputText txtCreatedBy)
  {
    this.txtCreatedBy = txtCreatedBy;
  }
  
  public RichInputText getTxtCreatedBy()
  {
    return this.txtCreatedBy;
  }
  
  public void setTxtDirectClient(RichSelectOneChoice txtDirectClient)
  {
    this.txtDirectClient = txtDirectClient;
  }
  
  public RichSelectOneChoice getTxtDirectClient()
  {
    return this.txtDirectClient;
  }
  
  public void setTxtAccountNum(RichInputText txtAccountNum)
  {
    this.txtAccountNum = txtAccountNum;
  }
  
  public RichInputText getTxtAccountNum()
  {
    return this.txtAccountNum;
  }
  
  public void setTxtId(RichInputText txtId)
  {
    this.txtId = txtId;
  }
  
  public RichInputText getTxtId()
  {
    return this.txtId;
  }
  
  public void setTxtTitle(RichSelectOneChoice txtTitle)
  {
    this.txtTitle = txtTitle;
  }
  
  public RichSelectOneChoice getTxtTitle()
  {
    return this.txtTitle;
  }
  
  public void setTxtSurname(RichInputText txtSurname)
  {
    this.txtSurname = txtSurname;
  }
  
  public RichInputText getTxtSurname()
  {
    return this.txtSurname;
  }
  
  public void setTxtOtherNames(RichInputText txtOtherNames)
  {
    this.txtOtherNames = txtOtherNames;
  }
  
  public RichInputText getTxtOtherNames()
  {
    return this.txtOtherNames;
  }
  
  public void setTxtPhysicalAddress(RichInputText txtPhysicalAddress)
  {
    this.txtPhysicalAddress = txtPhysicalAddress;
  }
  
  public RichInputText getTxtPhysicalAddress()
  {
    return this.txtPhysicalAddress;
  }
  
  public void setTxtPostalAddress(RichInputText txtPostalAddress)
  {
    this.txtPostalAddress = txtPostalAddress;
  }
  
  public RichInputText getTxtPostalAddress()
  {
    return this.txtPostalAddress;
  }
  
  public void setTxtCountryCode(RichInputText txtCountryCode)
  {
    this.txtCountryCode = txtCountryCode;
  }
  
  public RichInputText getTxtCountryCode()
  {
    return this.txtCountryCode;
  }
  
  public void setTxtCountryName(RichInputText txtCountryName)
  {
    this.txtCountryName = txtCountryName;
  }
  
  public RichInputText getTxtCountryName()
  {
    return this.txtCountryName;
  }
  
  public void setTxtTownCode(RichInputText txtTownCode)
  {
    this.txtTownCode = txtTownCode;
  }
  
  public RichInputText getTxtTownCode()
  {
    return this.txtTownCode;
  }
  
  public void setTxtTownName(RichInputText txtTownName)
  {
    this.txtTownName = txtTownName;
  }
  
  public RichInputText getTxtTownName()
  {
    return this.txtTownName;
  }
  
  public void setTxtDOB(RichInputDate txtDOB)
  {
    this.txtDOB = txtDOB;
  }
  
  public RichInputDate getTxtDOB()
  {
    return this.txtDOB;
  }
  
  public void setTxtBankAccNum(RichInputText txtBankAccNum)
  {
    this.txtBankAccNum = txtBankAccNum;
  }
  
  public RichInputText getTxtBankAccNum()
  {
    return this.txtBankAccNum;
  }
  
  public void setTxtPIN(RichInputText txtPIN)
  {
    this.txtPIN = txtPIN;
  }
  
  public RichInputText getTxtPIN()
  {
    return this.txtPIN;
  }
  
  public void setTxtIdRegNum(RichInputText txtIdRegNum)
  {
    this.txtIdRegNum = txtIdRegNum;
  }
  
  public RichInputText getTxtIdRegNum()
  {
    return this.txtIdRegNum;
  }
  
  public void setTxtEmail(RichInputText txtEmail)
  {
    this.txtEmail = txtEmail;
  }
  
  public RichInputText getTxtEmail()
  {
    return this.txtEmail;
  }
  
  public void setTxtPhone1(RichInputText txtPhone1)
  {
    this.txtPhone1 = txtPhone1;
  }
  
  public RichInputText getTxtPhone1()
  {
    return this.txtPhone1;
  }
  
  public void setTxtSms(RichInputText txtSms)
  {
    this.txtSms = txtSms;
  }
  
  public RichInputText getTxtSms()
  {
    return this.txtSms;
  }
  
  public void setTxtFax(RichInputText txtFax)
  {
    this.txtFax = txtFax;
  }
  
  public RichInputText getTxtFax()
  {
    return this.txtFax;
  }
  
  public void setTxtProposer(RichSelectOneChoice txtProposer)
  {
    this.txtProposer = txtProposer;
  }
  
  public RichSelectOneChoice getTxtProposer()
  {
    return this.txtProposer;
  }
  
  public void setTxtWef(RichInputDate txtWef)
  {
    this.txtWef = txtWef;
  }
  
  public RichInputDate getTxtWef()
  {
    return this.txtWef;
  }
  
  public void setTxtWet(RichInputDate txtWet)
  {
    this.txtWet = txtWet;
  }
  
  public RichInputDate getTxtWet()
  {
    return this.txtWet;
  }
  
  public void setTxtRemarks(RichInputText txtRemarks)
  {
    this.txtRemarks = txtRemarks;
  }
  
  public RichInputText getTxtRemarks()
  {
    return this.txtRemarks;
  }
  
  public void setTxtWithdrawalReason(RichInputText txtWithdrawalReason)
  {
    this.txtWithdrawalReason = txtWithdrawalReason;
  }
  
  public RichInputText getTxtWithdrawalReason()
  {
    return this.txtWithdrawalReason;
  }
  
  public void setTxtStatus(RichSelectOneChoice txtStatus)
  {
    this.txtStatus = txtStatus;
  }
  
  public RichSelectOneChoice getTxtStatus()
  {
    return this.txtStatus;
  }
  
  public void setTxtRunOff(RichSelectOneChoice txtRunOff)
  {
    this.txtRunOff = txtRunOff;
  }
  
  public RichSelectOneChoice getTxtRunOff()
  {
    return this.txtRunOff;
  }
  
  public void setTxtSpecialTerms(RichSelectOneChoice txtSpecialTerms)
  {
    this.txtSpecialTerms = txtSpecialTerms;
  }
  
  public RichSelectOneChoice getTxtSpecialTerms()
  {
    return this.txtSpecialTerms;
  }
  
  public void setTxtCancelledPolicy(RichSelectOneChoice txtCancelledPolicy)
  {
    this.txtCancelledPolicy = txtCancelledPolicy;
  }
  
  public RichSelectOneChoice getTxtCancelledPolicy()
  {
    return this.txtCancelledPolicy;
  }
  
  public void setTxtIncreasePremium(RichSelectOneChoice txtIncreasePremium)
  {
    this.txtIncreasePremium = txtIncreasePremium;
  }
  
  public RichSelectOneChoice getTxtIncreasePremium()
  {
    return this.txtIncreasePremium;
  }
  
  public void setTxtDeclinedProposal(RichSelectOneChoice txtDeclinedProposal)
  {
    this.txtDeclinedProposal = txtDeclinedProposal;
  }
  
  public RichSelectOneChoice getTxtDeclinedProposal()
  {
    return this.txtDeclinedProposal;
  }
  
  public void setTxtBranchCode(RichInputText txtBranchCode)
  {
    this.txtBranchCode = txtBranchCode;
  }
  
  public RichInputText getTxtBranchCode()
  {
    return this.txtBranchCode;
  }
  
  public void setTxtBranchName(RichInputText txtBranchName)
  {
    this.txtBranchName = txtBranchName;
  }
  
  public RichInputText getTxtBranchName()
  {
    return this.txtBranchName;
  }
  
  public void setTxtDivisionCode(RichInputText txtDivisionCode)
  {
    this.txtDivisionCode = txtDivisionCode;
  }
  
  public RichInputText getTxtDivisionCode()
  {
    return this.txtDivisionCode;
  }
  
  public void setTxtDivisionName(RichInputText txtDivisionName)
  {
    this.txtDivisionName = txtDivisionName;
  }
  
  public RichInputText getTxtDivisionName()
  {
    return this.txtDivisionName;
  }
  
  public void setTxtAccountManager(RichInputText txtAccountManager)
  {
    this.txtAccountManager = txtAccountManager;
  }
  
  public RichInputText getTxtAccountManager()
  {
    return this.txtAccountManager;
  }
  
  public void setTxtSectorCode(RichInputText txtSectorCode)
  {
    this.txtSectorCode = txtSectorCode;
  }
  
  public RichInputText getTxtSectorCode()
  {
    return this.txtSectorCode;
  }
  
  public void setTxtSectorName(RichInputText txtSectorName)
  {
    this.txtSectorName = txtSectorName;
  }
  
  public RichInputText getTxtSectorName()
  {
    return this.txtSectorName;
  }
  
  public void setTxtDomicileCountriesCode(RichInputText txtDomicileCountriesCode)
  {
    this.txtDomicileCountriesCode = txtDomicileCountriesCode;
  }
  
  public RichInputText getTxtDomicileCountriesCode()
  {
    return this.txtDomicileCountriesCode;
  }
  
  public void setTxtDomicileCountriesName(RichInputText txtDomicileCountriesName)
  {
    this.txtDomicileCountriesName = txtDomicileCountriesName;
  }
  
  public RichInputText getTxtDomicileCountriesName()
  {
    return this.txtDomicileCountriesName;
  }
  
  public void setTblCountryPop(RichTable tblCountryPop)
  {
    this.tblCountryPop = tblCountryPop;
  }
  
  public RichTable getTblCountryPop()
  {
    return this.tblCountryPop;
  }
  
  public void setTblTownPop(RichTable tblTownPop)
  {
    this.tblTownPop = tblTownPop;
  }
  
  public RichTable getTblTownPop()
  {
    return this.tblTownPop;
  }
  
  public void setTxtClientCode(RichInputText txtClientCode)
  {
    this.txtClientCode = txtClientCode;
  }
  
  public RichInputText getTxtClientCode()
  {
    return this.txtClientCode;
  }
  
  public void setContactName1(RichInputText contactName1)
  {
    this.contactName1 = contactName1;
  }
  
  public RichInputText getContactName1()
  {
    return this.contactName1;
  }
  
  public void setContactPhone1(RichInputText contactPhone1)
  {
    this.contactPhone1 = contactPhone1;
  }
  
  public RichInputText getContactPhone1()
  {
    return this.contactPhone1;
  }
  
  public void setContactEmail1(RichInputText contactEmail1)
  {
    this.contactEmail1 = contactEmail1;
  }
  
  public RichInputText getContactEmail1()
  {
    return this.contactEmail1;
  }
  
  public void setContactName2(RichInputText contactName2)
  {
    this.contactName2 = contactName2;
  }
  
  public RichInputText getContactName2()
  {
    return this.contactName2;
  }
  
  public void setContactPhone2(RichInputText contactPhone2)
  {
    this.contactPhone2 = contactPhone2;
  }
  
  public RichInputText getContactPhone2()
  {
    return this.contactPhone2;
  }
  
  public void setContactEmail2(RichInputText contactEmail2)
  {
    this.contactEmail2 = contactEmail2;
  }
  
  public RichInputText getContactEmail2()
  {
    return this.contactEmail2;
  }
  
  public void setBtnShowContactPersons(RichCommandButton btnShowContactPersons)
  {
    this.btnShowContactPersons = btnShowContactPersons;
  }
  
  public RichCommandButton getBtnShowContactPersons()
  {
    return this.btnShowContactPersons;
  }
  
  public void setTxtContactName1(RichInputText txtContactName1)
  {
    this.txtContactName1 = txtContactName1;
  }
  
  public RichInputText getTxtContactName1()
  {
    return this.txtContactName1;
  }
  
  public void setTxtContactPhone1(RichInputText txtContactPhone1)
  {
    this.txtContactPhone1 = txtContactPhone1;
  }
  
  public RichInputText getTxtContactPhone1()
  {
    return this.txtContactPhone1;
  }
  
  public void setTxtContactEmail1(RichInputText txtContactEmail1)
  {
    this.txtContactEmail1 = txtContactEmail1;
  }
  
  public RichInputText getTxtContactEmail1()
  {
    return this.txtContactEmail1;
  }
  
  public void setTxtContactName2(RichInputText txtContactName2)
  {
    this.txtContactName2 = txtContactName2;
  }
  
  public RichInputText getTxtContactName2()
  {
    return this.txtContactName2;
  }
  
  public void setTxtContactPhone2(RichInputText txtContactPhone2)
  {
    this.txtContactPhone2 = txtContactPhone2;
  }
  
  public RichInputText getTxtContactPhone2()
  {
    return this.txtContactPhone2;
  }
  
  public void setTxtContactEmail2(RichInputText txtContactEmail2)
  {
    this.txtContactEmail2 = txtContactEmail2;
  }
  
  public RichInputText getTxtContactEmail2()
  {
    return this.txtContactEmail2;
  }
  
  public void setTblSectorPop(RichTable tblSectorPop)
  {
    this.tblSectorPop = tblSectorPop;
  }
  
  public RichTable getTblSectorPop()
  {
    return this.tblSectorPop;
  }
  
  public void setTblDomicileCountryPop(RichTable tblDomicileCountryPop)
  {
    this.tblDomicileCountryPop = tblDomicileCountryPop;
  }
  
  public RichTable getTblDomicileCountryPop()
  {
    return this.tblDomicileCountryPop;
  }
  
  public void setTblAccountManagersPop(RichTable tblAccountManagersPop)
  {
    this.tblAccountManagersPop = tblAccountManagersPop;
  }
  
  public RichTable getTblAccountManagersPop()
  {
    return this.tblAccountManagersPop;
  }
  
  public void setTxtAccountManagerCode(RichInputText txtAccountManagerCode)
  {
    this.txtAccountManagerCode = txtAccountManagerCode;
  }
  
  public RichInputText getTxtAccountManagerCode()
  {
    return this.txtAccountManagerCode;
  }
  
  public void setTblBankBranchPop(RichTable tblBankBranchPop)
  {
    this.tblBankBranchPop = tblBankBranchPop;
  }
  
  public RichTable getTblBankBranchPop()
  {
    return this.tblBankBranchPop;
  }
  
  public void setTblBranchDivisionPop(RichTable tblBranchDivisionPop)
  {
    this.tblBranchDivisionPop = tblBranchDivisionPop;
  }
  
  public RichTable getTblBranchDivisionPop()
  {
    return this.tblBranchDivisionPop;
  }
  
  public void setBtnCreateUpdateClient(RichCommandButton btnCreateUpdateClient)
  {
    this.btnCreateUpdateClient = btnCreateUpdateClient;
  }
  
  public RichCommandButton getBtnCreateUpdateClient()
  {
    return this.btnCreateUpdateClient;
  }
  
  public void setTxtAccUsername(RichInputText txtAccUsername)
  {
    this.txtAccUsername = txtAccUsername;
  }
  
  public RichInputText getTxtAccUsername()
  {
    return this.txtAccUsername;
  }
  
  public void setTxtAccFullNames(RichInputText txtAccFullNames)
  {
    this.txtAccFullNames = txtAccFullNames;
  }
  
  public RichInputText getTxtAccFullNames()
  {
    return this.txtAccFullNames;
  }
  
  public void setTxtAccPassword(RichInputText txtAccPassword)
  {
    this.txtAccPassword = txtAccPassword;
  }
  
  public RichInputText getTxtAccPassword()
  {
    return this.txtAccPassword;
  }
  
  public void setTxtAccPersonelRank(RichInputText txtAccPersonelRank)
  {
    this.txtAccPersonelRank = txtAccPersonelRank;
  }
  
  public RichInputText getTxtAccPersonelRank()
  {
    return this.txtAccPersonelRank;
  }
  
  public void setTxtAccStatus(RichSelectOneChoice txtAccStatus)
  {
    this.txtAccStatus = txtAccStatus;
  }
  
  public RichSelectOneChoice getTxtAccStatus()
  {
    return this.txtAccStatus;
  }
  
  public void setTxtAccAllowLogin(RichSelectOneChoice txtAccAllowLogin)
  {
    this.txtAccAllowLogin = txtAccAllowLogin;
  }
  
  public RichSelectOneChoice getTxtAccAllowLogin()
  {
    return this.txtAccAllowLogin;
  }
  
  public void setTxtAccEmail(RichInputText txtAccEmail)
  {
    this.txtAccEmail = txtAccEmail;
  }
  
  public RichInputText getTxtAccEmail()
  {
    return this.txtAccEmail;
  }
  
  public void setTxtAccCode(RichInputText txtAccCode)
  {
    this.txtAccCode = txtAccCode;
  }
  
  public RichInputText getTxtAccCode()
  {
    return this.txtAccCode;
  }
  
  public void setBtnSaveUpdateWebAccount(RichCommandButton btnSaveUpdateWebAccount)
  {
    this.btnSaveUpdateWebAccount = btnSaveUpdateWebAccount;
  }
  
  public RichCommandButton getBtnSaveUpdateWebAccount()
  {
    return this.btnSaveUpdateWebAccount;
  }
  
  public void setTxtClientTitleCode(RichInputText txtClientTitleCode)
  {
    this.txtClientTitleCode = txtClientTitleCode;
  }
  
  public RichInputText getTxtClientTitleCode()
  {
    return this.txtClientTitleCode;
  }
  
  public void setHiddenClientCode(RichInputText hiddenClientCode)
  {
    this.hiddenClientCode = hiddenClientCode;
  }
  
  public RichInputText getHiddenClientCode()
  {
    return this.hiddenClientCode;
  }
  
  public void setTblClientAccounts(RichTable tblClientAccounts)
  {
    this.tblClientAccounts = tblClientAccounts;
  }
  
  public RichTable getTblClientAccounts()
  {
    return this.tblClientAccounts;
  }
  
  public void setTxtAccountCode(RichInputText txtAccountCode)
  {
    this.txtAccountCode = txtAccountCode;
  }
  
  public RichInputText getTxtAccountCode()
  {
    return this.txtAccountCode;
  }
  
  public void setTxtAccShortDesc(RichInputText txtAccShortDesc)
  {
    this.txtAccShortDesc = txtAccShortDesc;
  }
  
  public RichInputText getTxtAccShortDesc()
  {
    return this.txtAccShortDesc;
  }
  
  public void setTxtAccName(RichInputText txtAccName)
  {
    this.txtAccName = txtAccName;
  }
  
  public RichInputText getTxtAccName()
  {
    return this.txtAccName;
  }
  
  public void setTxtAccClientCode(RichInputText txtAccClientCode)
  {
    this.txtAccClientCode = txtAccClientCode;
  }
  
  public RichInputText getTxtAccClientCode()
  {
    return this.txtAccClientCode;
  }
  
  public void setTxtAccCreatedBy(RichInputText txtAccCreatedBy)
  {
    this.txtAccCreatedBy = txtAccCreatedBy;
  }
  
  public RichInputText getTxtAccCreatedBy()
  {
    return this.txtAccCreatedBy;
  }
  
  public void setTxtAccDateCreated(RichInputDate txtAccDateCreated)
  {
    this.txtAccDateCreated = txtAccDateCreated;
  }
  
  public RichInputDate getTxtAccDateCreated()
  {
    return this.txtAccDateCreated;
  }
  
  public void setTxtClientAccStatus(RichSelectOneChoice txtClientAccStatus)
  {
    this.txtClientAccStatus = txtClientAccStatus;
  }
  
  public RichSelectOneChoice getTxtClientAccStatus()
  {
    return this.txtClientAccStatus;
  }
  
  public void setTxtAccRemarks(RichInputText txtAccRemarks)
  {
    this.txtAccRemarks = txtAccRemarks;
  }
  
  public RichInputText getTxtAccRemarks()
  {
    return this.txtAccRemarks;
  }
  
  public void setTxtAccWef(RichInputDate txtAccWef)
  {
    this.txtAccWef = txtAccWef;
  }
  
  public RichInputDate getTxtAccWef()
  {
    return this.txtAccWef;
  }
  
  public void setTxtAccWet(RichInputDate txtAccWet)
  {
    this.txtAccWet = txtAccWet;
  }
  
  public RichInputDate getTxtAccWet()
  {
    return this.txtAccWet;
  }
  
  public void setBtnSaveUpdateClientAccount(RichCommandButton btnSaveUpdateClientAccount)
  {
    this.btnSaveUpdateClientAccount = btnSaveUpdateClientAccount;
  }
  
  public RichCommandButton getBtnSaveUpdateClientAccount()
  {
    return this.btnSaveUpdateClientAccount;
  }
  
  public void setPanelDetailSystems(RichPanelBox panelDetailSystems)
  {
    this.panelDetailSystems = panelDetailSystems;
  }
  
  public RichPanelBox getPanelDetailSystems()
  {
    return this.panelDetailSystems;
  }
  
  public void setTxtSelectedClientSystemCode(RichInputText txtSelectedClientSystemCode)
  {
    this.txtSelectedClientSystemCode = txtSelectedClientSystemCode;
  }
  
  public RichInputText getTxtSelectedClientSystemCode()
  {
    return this.txtSelectedClientSystemCode;
  }
  
  public void setBtnAddClientSystem(RichCommandButton btnAddClientSystem)
  {
    this.btnAddClientSystem = btnAddClientSystem;
  }
  
  public RichCommandButton getBtnAddClientSystem()
  {
    return this.btnAddClientSystem;
  }
  
  public void setBtnRemoveClientSystem(RichCommandButton btnRemoveClientSystem)
  {
    this.btnRemoveClientSystem = btnRemoveClientSystem;
  }
  
  public RichCommandButton getBtnRemoveClientSystem()
  {
    return this.btnRemoveClientSystem;
  }
  
  public void setTxtPassportNo(RichInputText txtPassportNo)
  {
    this.txtPassportNo = txtPassportNo;
  }
  
  public RichInputText getTxtPassportNo()
  {
    return this.txtPassportNo;
  }
  
  public void setTxtBrnDivName(RichInputText txtBrnDivName)
  {
    this.txtBrnDivName = txtBrnDivName;
  }
  
  public RichInputText getTxtBrnDivName()
  {
    return this.txtBrnDivName;
  }
  
  public void setBrnDivLov(RichTable brnDivLov)
  {
    this.brnDivLov = brnDivLov;
  }
  
  public RichTable getBrnDivLov()
  {
    return this.brnDivLov;
  }
  
  public void setTxtStateCode(RichInputText txtStateCode)
  {
    this.txtStateCode = txtStateCode;
  }
  
  public RichInputText getTxtStateCode()
  {
    return this.txtStateCode;
  }
  
  public void setTxtStateName(RichInputText txtStateName)
  {
    this.txtStateName = txtStateName;
  }
  
  public RichInputText getTxtStateName()
  {
    return this.txtStateName;
  }
  
  public void setTblStates(RichTable tblStates)
  {
    this.tblStates = tblStates;
  }
  
  public RichTable getTblStates()
  {
    return this.tblStates;
  }
  
  public void tblClientsSelectionListener(SelectionEvent selectionEvent)
  {
    Object key2 = this.tblClients.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.session.setAttribute("ClientCode", nodeBinding.getAttribute("code"));
      
      this.btnDeleteClient.setDisabled(false);
      GlobalCC.refreshUI(this.btnDeleteClient);
    }
  }
  
  public String actionSelectCountryPop()
  {
    Object key2 = this.tblCountryPop.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      String country = (String)nodeBinding.getAttribute("name");
      this.txtCountryName.setValue(nodeBinding.getAttribute("name"));
      this.txtCountryCode.setValue(nodeBinding.getAttribute("code"));
      Object adminUnit = nodeBinding.getAttribute("administrativeType");
      if (adminUnit == null)
      {
        this.lbMsgState.setVisible(false);
        this.pnMsgTownName.setVisible(false);
      }
      else
      {
        this.lbMsgState.setLabel(GlobalCC.formatAdminUnitSingular(adminUnit) + ":");
        
        this.lbMsgState.setVisible(true);
        this.pnMsgTownName.setVisible(true);
        this.dlgAdminRegionTypes.setTitle(GlobalCC.formatAdminUnitPlural(adminUnit) + " List");
      }
      this.txtAdminRegionCode.setValue(null);
      this.txtAdminRegionName.setValue(null);
      this.txtTownName.setValue(null);
      this.txtTownCode.setValue(null);
      this.txtZipCode.setValue(null);
      
      this.session.setAttribute("countryCode", nodeBinding.getAttribute("code"));
      if (this.session.getAttribute("COUNTRY_NAME").toString().equalsIgnoreCase(country)) {
        this.txtWorkPermit.setVisible(false);
      } else {
        this.txtWorkPermit.setVisible(true);
      }
      GlobalCC.refreshUI(this.txtWorkPermit);
      ADFUtils.findIterator("fetchStatesByCountry1Iterator").executeQuery();
      GlobalCC.refreshUI(this.tblStates);
      
      ADFUtils.findIterator("fetchAlLMobileTypePrefixIterator").executeQuery();
      GlobalCC.refreshUI(this.txtPrefixManager);
      
      GlobalCC.refreshUI(this.lbMsgState);
      GlobalCC.refreshUI(this.pnMsgTownName);
      GlobalCC.refreshUI(this.txtCountryName);
    }
    GlobalCC.dismissPopUp("pt1", "countryPop");
    return null;
  }
  
  public String actionSelectCountryPop2()
  {
    Object key2 = this.tblCountryPop2.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding == null)
    {
      GlobalCC.sysInformation("No Record selected");
      return null;
    }
    if (nodeBinding != null)
    {
      this.txtCountryName2.setValue(nodeBinding.getAttribute("name"));
      this.txtCountryCode2.setValue(nodeBinding.getAttribute("zipCode"));
      
      this.session.setAttribute("GsmZipCode", nodeBinding.getAttribute("zipCode"));
      
      this.session.setAttribute("GsmCountryCode", nodeBinding.getAttribute("code"));
      
      GlobalCC.refreshUI(this.txtCountryName2);
      GlobalCC.refreshUI(this.txtCountryCode2);
      System.out.println(nodeBinding.getAttribute("shortDesc"));
      System.out.println("GsmCountryCode: " + this.session.getAttribute("GsmCountryCode"));
    }
    GlobalCC.dismissPopUp("pt1", "countryPop2");
    return null;
  }
  
  public String actionSelectCountryPop3()
  {
    Object key2 = this.tblCountryPop3.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.txtCountryName3.setValue(nodeBinding.getAttribute("name"));
      this.txtCountryCode3.setValue(nodeBinding.getAttribute("zipCode"));
      GlobalCC.refreshUI(this.txtCountryName3);
      GlobalCC.refreshUI(this.txtCountryCode3);
    }
    GlobalCC.dismissPopUp("pt1", "countryPop3");
    return null;
  }
  
  public String actionAcceptAgencyTown()
  {
    Object key2 = this.tblTownPop.getSelectedRowData();
    JUCtrlValueBinding n = (JUCtrlValueBinding)key2;
    if (n != null)
    {
      this.txtTownName.setValue(n.getAttribute("name"));
      this.txtTownCode.setValue(n.getAttribute("code"));
      this.session.setAttribute("townCode", n.getAttribute("code"));
      
      this.txtZipCode.setValue(n.getAttribute("postalZipCode"));
      this.txtSurburbs.setValue(n.getAttribute("postalZipCode"));
      
      GlobalCC.refreshUI(this.txtZipCode);
      GlobalCC.refreshUI(this.txtTownName);
      GlobalCC.refreshUI(this.txtSurburbs);
    }
    GlobalCC.dismissPopUp("pt1", "townPop");
    return null;
  }
  
  public String actionShowTownPopup()
  {
    BigDecimal stateCode = GlobalCC.checkBDNullValues(this.txtAdminRegionCode.getValue());
    
    this.session.setAttribute("stateCode", stateCode);
    if (stateCode == null)
    {
      GlobalCC.errorValueNotEntered("Select " + this.renderer.getDefaultAdminUnitSingular() + " first!");
      
      return null;
    }
    ADFUtils.findIterator("fetchTownsWithZipCodesByStateIterator").executeQuery();
    GlobalCC.showPopup("pt1:townPop");
    return null;
  }
  
  public String actionShowParentCompany()
  {
    GlobalCC.showPopup("pt1:parentCompanyPop");
    return null;
  }
  
  public String actionShowBranches()
  {
    try
    {
      ADFUtils.findIterator("findBranchesIterator").executeQuery();
      GlobalCC.refreshUI(this.tblRegBranches);
      GlobalCC.showPop("pt1:branchPop");
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(e);
    }
    return null;
  }
  
  public String actionFindClientDetails()
  {
    OracleConnection connection = null;
    OracleCallableStatement stmt = null;
    OracleResultSet rs = null;
    try
    {
      Authorization auth = new Authorization();
      String AccessGranted = auth.checkUserRights("CLCR", "CLAU", "CLAE", null, null);
      if ("Y".equalsIgnoreCase(AccessGranted) != true)
      {
        GlobalCC.accessDenied();
        return null;
      }
      this.txtReasonForUpdate.setVisible(true);
      
      List children = this.panelCollSearch.getChildren();
      UIComponent component = (UIComponent)children.get(0);
      
      RichTable rpt = null;
      for (int i = 0; i < children.size(); i++)
      {
        component = (UIComponent)children.get(i);
        if (component.getId().equalsIgnoreCase("t1200")) {
          rpt = (RichTable)component;
        }
      }
      Object key2 = rpt.getSelectedRowData();
      JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
      if (nodeBinding != null)
      {
        ADFUtils.findIterator("clientCodeIterator").executeQuery();
        BigDecimal clientCode = GlobalCC.checkBDNullValues(nodeBinding.getAttribute("code"));
        
        this.session.setAttribute("ClientCode", nodeBinding.getAttribute("code"));
        
        this.session.setAttribute("PayeeType", "C");
        
        this.hiddenClientCode.setValue(clientCode);
        GlobalCC.refreshUI(this.panelDetailSystems);
        this.session.setAttribute("bactAccCode", nodeBinding.getAttribute("code"));
        
        this.session.setAttribute("bactAccountType", "C");
        String type = (String)nodeBinding.getAttribute("type");
        if (type != null)
        {
          SetTxtClientTypesValue(type);
          if (type.equalsIgnoreCase("I"))
          {
            this.sbrIndividual.setSelected(true);
            this.sbrCorporate.setSelected(false);
            this.txtGender.setRendered(true);
            this.clientTitlePan.setRendered(true);
            this.txtClientTitle.setRendered(true);
            this.txtSelectClientTitle.setRendered(true);
            this.txtPhone1.setRendered(false);
            this.txtCltOccupation.setRendered(true);
            this.txtOtherNames.setRendered(true);
            this.txtDrvExperience.setRendered(true);
            this.txtDLNo.setRendered(true);
            this.txtDateOfEmployment.setRendered(true);
          }
          if (type.equalsIgnoreCase("S"))
          {
            this.sbrIndividual.setSelected(true);
            this.sbrCorporate.setSelected(false);
            this.txtGender.setRendered(true);
            this.clientTitlePan.setRendered(true);
            this.txtClientTitle.setRendered(true);
            this.txtSelectClientTitle.setRendered(true);
            this.txtPhone1.setRendered(false);
            this.txtCltOccupation.setRendered(true);
            this.txtOtherNames.setRendered(true);
            this.txtDrvExperience.setRendered(true);
            this.txtDLNo.setRendered(true);
            this.txtDateOfEmployment.setRendered(true);
          }
          if (type.equalsIgnoreCase("C"))
          {
            SetTxtClientTypesValue("Corporate");
            this.sbrCorporate.setSelected(true);
            this.sbrIndividual.setSelected(false);
            this.parentcompanyPan.setRendered(true);
            this.txtDateOfEmployment.setRendered(false);
            this.txtDLNo.setRendered(false);
            this.txtGender.setRendered(false);
            this.txtPhone1.setRendered(true);
            this.txtCltOccupation.setRendered(false);
            this.txtDrvExperience.setRendered(false);
            this.txtOtherNames.setRendered(false);
            this.clientTitlePan.setRendered(false);
            this.txtClientTitle.setRendered(false);
            this.txtSelectClientTitle.setRendered(false);
          }
          GlobalCC.refreshUI(this.txtClientTypes);
          GlobalCC.refreshUI(this.tblClientAccounts);
          GlobalCC.refreshUI(this.sbrCorporate);
          GlobalCC.refreshUI(this.sbrIndividual);
          GlobalCC.refreshUI(this.clientTitlePan);
          GlobalCC.refreshUI(this.txtCltOccupation);
          GlobalCC.refreshUI(this.txtOtherNames);
          GlobalCC.refreshUI(this.txtDrvExperience);
          GlobalCC.refreshUI(this.txtClientTitle);
          GlobalCC.refreshUI(this.txtSelectClientTitle);
          GlobalCC.refreshUI(this.txtClientTypes);
          
          ClientTypeChanged();
        }
        else
        {
          this.sbrIndividual.setSelected(true);
          this.txtGender.setRendered(true);
          this.sbrCorporate.setSelected(false);
        }
        this.txtClientCode.setValue(nodeBinding.getAttribute("code"));
        this.txtId.setValue(nodeBinding.getAttribute("shortDesc"));
        this.session.setAttribute("clientCode", clientCode);
        this.session.setAttribute("uwclientCode", clientCode);
        this.session.setAttribute("clientPRPCode", clientCode);
        this.session.setAttribute("insuredCode", clientCode);
        
        this.session.setAttribute("clientDesc", nodeBinding.getAttribute("shortDesc"));
        
        this.session.setAttribute("clientShtDesc", nodeBinding.getAttribute("shortDesc"));
        
        this.session.setAttribute("insuredShtDesc", nodeBinding.getAttribute("shortDesc"));
        
        String client = GlobalCC.checkNullValues(this.session.getAttribute("CLIENT"));
        
        this.txtSurname.setValue(nodeBinding.getAttribute("name") == null ? nodeBinding.getAttribute("name") : nodeBinding.getAttribute("name").toString());
        
        this.txtHoldingCompany.setValue(nodeBinding.getAttribute("name"));
        this.session.setAttribute("CLNT_CODE", nodeBinding.getAttribute("code"));
        
        this.txtOtherNames.setValue(nodeBinding.getAttribute("otherNames") == null ? nodeBinding.getAttribute("otherNames") : nodeBinding.getAttribute("otherNames").toString());
        
        String fullNames = this.txtSurname.getValue() + " " + this.txtOtherNames.getValue();
        
        fullNames = fullNames.replaceAll("null", "");
        fullNames = GlobalCC.checkNullValues(fullNames);
        this.txtFullNames.setValue(fullNames);
        this.session.setAttribute("ClientFullname", fullNames);
        this.session.setAttribute("insuredDesc", fullNames);
        this.session.setAttribute("clientName", fullNames);
        
        GlobalCC.refreshUI(this.txtFullNames);
        
        this.txtPhysicalAddress.setValue(nodeBinding.getAttribute("physicalAddress"));
        if (this.legacyShtDesc != null) {
          this.legacyShtDesc.setValue(nodeBinding.getAttribute("oldShtDesc"));
        }
        this.txtPayroll.setValue(nodeBinding.getAttribute("payrollNo"));
        this.txtMinSalary.setValue(nodeBinding.getAttribute("salMin"));
        this.txtMaxSalary.setValue(nodeBinding.getAttribute("salMax"));
        this.txtPostalAddress.setValue(nodeBinding.getAttribute("postalAddress"));
        this.txtCountryCode.setValue(nodeBinding.getAttribute("countryCode"));
        this.txtWorkPermit.setValue(nodeBinding.getAttribute("workPermit"));
        if (nodeBinding.getAttribute("workPermit") != null) {
          this.txtWorkPermit.setVisible(true);
        }
        this.session.setAttribute("countryCode", nodeBinding.getAttribute("countryCode"));
        
        ADFUtils.findIterator("fetchAlLMobileTypePrefixIterator").executeQuery();
        GlobalCC.refreshUI(this.txtPrefixManager);
        this.txtCountryName.setValue(nodeBinding.getAttribute("countryName"));
        this.txtAdminRegionCode.setValue(nodeBinding.getAttribute("stsCode"));
        this.txtTownCode.setValue(nodeBinding.getAttribute("townCode"));
        this.session.setAttribute("townCode", nodeBinding.getAttribute("townCode"));
        
        this.txtTownName.setValue(nodeBinding.getAttribute("townName"));
        
        this.txtZipCode.setValue(nodeBinding.getAttribute("zipCode"));
        this.txtSurburbs.setValue(nodeBinding.getAttribute("zipCode"));
        
        this.txtAdminRegionName.setValue(nodeBinding.getAttribute("stsName"));
        
        this.txtDateCreated.setValue(nodeBinding.getAttribute("dateCreated"));
        this.txtCreatedBy.setValue(nodeBinding.getAttribute("createdBy"));
        
        String d = GlobalCC.checkNullValues(nodeBinding.getAttribute("directClient"));
        
        System.out.println("directClient: " + d);
        d = d != null ? d.toUpperCase() : "C";
        d = ("B".equals(d)) || ("C".equals(d)) || ("I".equals(d)) ? d.toUpperCase() : "C";
        
        System.out.println("directClient: " + d);
        this.txtDirectClient.setValue(d);
        
        this.txtClientCellNos.setValue(nodeBinding.getAttribute("clientCell"));
        this.txtBouncedCheque.setValue(nodeBinding.getAttribute("bouncedCheque"));
        this.txtMaritalStatus.setValue(nodeBinding.getAttribute("maritalStatus"));
        this.txtModeOfComm.setValue(nodeBinding.getAttribute("defaultModeOfComm"));
        
        this.txtDlIssueDate.setValue(nodeBinding.getAttribute("dlIssueDate"));
        this.session.setAttribute("bpnCode", nodeBinding.getAttribute("clntBpnCode"));
        
        this.txtBussinessPerson.setValue(nodeBinding.getAttribute("bpnName"));
        
        Util checkClientAgency = new Util();
        String clientCheck = checkClientAgency.getClientAgencyTying();
        if (nodeBinding.getAttribute("directClient") != null) {
          if (nodeBinding.getAttribute("directClient").toString().equalsIgnoreCase("Y")) {
            this.pnLabelAgency.setVisible(false);
          } else if ((clientCheck.equals("N")) || (clientCheck != null)) {
            this.pnLabelAgency.setVisible(false);
          } else {
            this.pnLabelAgency.setVisible(true);
          }
        }
        GlobalCC.refreshUI(this.pnLabelAgency);
        GlobalCC.refreshUI(this.txtDirectClient);
        this.txtAccountNum.setValue(nodeBinding.getAttribute("accountNum"));
        this.txtClientTitleCode.setValue(nodeBinding.getAttribute("title"));
        this.txtClientTitle.setValue(nodeBinding.getAttribute("title"));
        this.txtDOB.setValue(nodeBinding.getAttribute("dob"));
        
        this.txtPassportNo.setValue(nodeBinding.getAttribute("passportNumber"));
        
        this.txtPIN.setValue(nodeBinding.getAttribute("pin"));
        this.txtIdRegNum.setValue(nodeBinding.getAttribute("idRegNo"));
        this.txtEmail.setValue(nodeBinding.getAttribute("email"));
        this.txtPhone1.setValue(nodeBinding.getAttribute("phone1"));
        this.txtCreditAllowed.setValue(nodeBinding.getAttribute("creditLimitAllowed"));
        if (nodeBinding.getAttribute("creditLimitAllowed") != null) {
          if (nodeBinding.getAttribute("creditLimitAllowed").equals("Y"))
          {
            this.txtCreditLimit.setVisible(true);
            this.txtCreditLimit.setValue(nodeBinding.getAttribute("creditLimit"));
          }
          else
          {
            this.txtCreditLimit.setValue(null);
          }
        }
        String gsmCountry = null;
        
        String prefix = null;
        String suffix = null;
        String sms1 = null;
        sms1 = GlobalCC.checkNullValues(nodeBinding.getAttribute("sms"));
        
        System.out.println("sms1 == " + sms1);
        int t = 0;
        this.session.setAttribute("zipCode", nodeBinding.getAttribute("zipCode"));
        
        String gsmZipCode = GlobalCC.checkNullValues(nodeBinding.getAttribute("couZipCode"));
        
        this.session.setAttribute("couZipCode", gsmZipCode);
        String tmpZipCode = GlobalCC.checkNullValues(nodeBinding.getAttribute("gsmZipCode"));
        if (("AIICO".equalsIgnoreCase(client)) && (tmpZipCode != null)) {
          gsmZipCode = GlobalCC.checkNullValues(tmpZipCode);
        }
        if (gsmZipCode != null) {
          gsmCountry = IQuery.fetchString("select cou_name from tqc_countries where cou_zip_code=" + gsmZipCode);
        }
        System.out.println("gsmCountry: " + gsmCountry);
        this.txtCountryName2.setValue(gsmCountry);
        this.txtCountryCode2.setValue(gsmZipCode);
        
        String szSuffix = GlobalCC.getSysParamValue("SMS_NO_LOWER_LIMIT");
        
        int nSuffix = Integer.valueOf(szSuffix).intValue();
        System.out.println("nSuffiz: " + nSuffix);
        if (sms1 != null)
        {
          sms1 = sms1.replaceAll("\\-", "");
          System.out.println("sms: " + sms1);
          if (sms1.length() >= nSuffix + 3)
          {
            int startOfSuffix = sms1.length() - nSuffix;
            suffix = sms1.substring(startOfSuffix, sms1.length());
            prefix = "0" + sms1.substring(startOfSuffix - 3, startOfSuffix);
          }
          else
          {
            prefix = null;
            suffix = null;
          }
        }
        System.out.println("prefix1: " + prefix);
        System.out.println("suffix1: " + suffix);
        
        this.txtPrefixManager.setValue(prefix);
        this.txtSms.setValue(suffix);
        prefix = null;
        suffix = null;
        t = 0;
        String sms2 = GlobalCC.checkNullValues(nodeBinding.getAttribute("telPay"));
        if (sms2 != null)
        {
          sms2 = sms2.replaceAll("\\-", "");
          System.out.println("sms: " + sms2);
          if (sms2.length() >= nSuffix + 3)
          {
            int startOfSuffix = sms2.length() - nSuffix;
            suffix = sms2.substring(startOfSuffix, sms2.length());
            prefix = "0" + sms2.substring(startOfSuffix - 3, startOfSuffix);
          }
          else
          {
            prefix = null;
            suffix = null;
          }
        }
        System.out.println("prefix2: " + prefix);
        System.out.println("suffix2: " + suffix);
        
        this.txtTelPayPrefix.setValue(prefix);
        this.txtPayTel.setValue(suffix);
        prefix = null;
        suffix = null;
        if ((client != null) && (client.equalsIgnoreCase("AIICO")))
        {
          String intTelNo = GlobalCC.checkNullValues(nodeBinding.getAttribute("clntIntTel"));
          
          String intTel = null;
          String couZip = GlobalCC.checkNullValues(nodeBinding.getAttribute("intZipCode"));
          if (intTelNo != null) {
            if (intTelNo.length() >= 4)
            {
              intTel = intTelNo.substring(3, intTelNo.length());
              if (couZip == null) {
                couZip = intTelNo.substring(0, 3);
              }
              System.out.println("intTel: " + intTel);
              System.out.println("couZip: " + couZip);
            }
          }
          String intCountry = null;
          if (couZip != null) {
            intCountry = IQuery.fetchString("select cou_name from tqc_countries where cou_zip_code=" + couZip);
          }
          this.txtIntTel.setValue(intTel);
          this.txtCountryCode3.setValue(couZip);
          this.txtCountryName3.setValue(intCountry);
          this.txtEmail2.setValue(nodeBinding.getAttribute("clntEmail2"));
        }
        this.txtFax.setValue(nodeBinding.getAttribute("fax"));
        if (this.txtProposer != null) {
          this.txtProposer.setValue(nodeBinding.getAttribute("proposer"));
        }
        this.txtWef.setValue(nodeBinding.getAttribute("wef"));
        this.txtWet.setValue(nodeBinding.getAttribute("wet"));
        this.txtRemarks.setValue(nodeBinding.getAttribute("remarks"));
        this.txtWithdrawalReason.setValue(nodeBinding.getAttribute("withdrawalReason"));
        this.txtSectorCode.setValue(nodeBinding.getAttribute("sectorCode"));
        
        this.txtSectorName.setValue(nodeBinding.getAttribute("sectorName"));
        
        this.txtStatus.setValue(nodeBinding.getAttribute("status"));
        this.session.setAttribute("client_status", nodeBinding.getAttribute("status"));
        
        this.session.setAttribute("wbProductCode", null);
        this.session.setAttribute("WebuserCode", null);
        this.session.setAttribute("WebuserName", null);
        this.session.setAttribute("webProductCode", null);
        this.session.setAttribute("clientBankCode", null);
        Object status = (String)nodeBinding.getAttribute("status");
        if (status != null) {
          if (nodeBinding.getAttribute("status").toString().equalsIgnoreCase("A"))
          {
            this.selectStatusActive.setDisabled(false);
            
            this.selectStatusInactive.setDisabled(false);
          }
          else if (nodeBinding.getAttribute("status").toString().equalsIgnoreCase("I"))
          {
            this.selectStatusInactive.setDisabled(false);
          }
          else if (nodeBinding.getAttribute("status").toString().equalsIgnoreCase("R"))
          {
            this.selectStatusRejected.setDisabled(false);
          }
          else if (nodeBinding.getAttribute("status").toString().equalsIgnoreCase("D"))
          {
            this.selectStatusDraft.setDisabled(false);
          }
        }
        this.clientSignature.setSource(null);
        this.clientPhoto.setSource(null);
        this.clientPhoto.setSource("/clientimagesservlet?id=" + nodeBinding.getAttribute("code"));
        
        this.clientSignature.setSource("/clientsignatureservlet?id=" + nodeBinding.getAttribute("code"));
        
        this.txtRunOff.setValue(nodeBinding.getAttribute("runOff"));
        this.txtSpecialTerms.setValue(nodeBinding.getAttribute("specialTerms"));
        this.txtCancelledPolicy.setValue(nodeBinding.getAttribute("policyCancelled"));
        this.txtIncreasePremium.setValue(nodeBinding.getAttribute("increasedPremium"));
        this.txtDeclinedProposal.setValue(nodeBinding.getAttribute("declinedProp"));
        
        this.txtContactName1.setValue(nodeBinding.getAttribute("contactName1"));
        this.contactName1.setValue(nodeBinding.getAttribute("contactName1"));
        this.txtContactPhone1.setValue(nodeBinding.getAttribute("contactPhone1"));
        this.contactPhone1.setValue(nodeBinding.getAttribute("contactPhone1"));
        this.txtContactEmail1.setValue(nodeBinding.getAttribute("contactEmail1"));
        this.contactEmail1.setValue(nodeBinding.getAttribute("contactEmail1"));
        this.txtContactName2.setValue(nodeBinding.getAttribute("contactName2"));
        this.contactName2.setValue(nodeBinding.getAttribute("contactName2"));
        this.txtContactPhone2.setValue(nodeBinding.getAttribute("contactPhone2"));
        this.contactPhone2.setValue(nodeBinding.getAttribute("contactPhone2"));
        this.txtContactEmail2.setValue(nodeBinding.getAttribute("contactEmail2"));
        this.contactEmail2.setValue(nodeBinding.getAttribute("contactEmail2"));
        this.txtWebsite.setValue(nodeBinding.getAttribute("website"));
        this.txtAuditors.setValue(nodeBinding.getAttribute("auditors"));
        this.txtParentCompany.setValue(nodeBinding.getAttribute("parent_company"));
        this.txtInsurer.setValue(nodeBinding.getAttribute("current_insurer"));
        this.txtProjectedBiz.setValue(nodeBinding.getAttribute("projected_business"));
        this.txtDateOfEmployment.setValue(nodeBinding.getAttribute("date_of_empl"));
        this.txtDLNo.setValue(nodeBinding.getAttribute("driving_licence"));
        
        this.txtParentCompanyCode.setValue(nodeBinding.getAttribute("parent_company_name"));
        
        this.txtRegBranchCode.setValue(nodeBinding.getAttribute("brnCode"));
        this.txtRegBranchName.setValue(nodeBinding.getAttribute("brnName"));
        this.txtAccountManagerCode.setValue(nodeBinding.getAttribute("userCode"));
        this.txtAccountManager.setValue(nodeBinding.getAttribute("username"));
        
        this.txtGender.setValue(nodeBinding.getAttribute("gender"));
        this.txtCltOccupation.setValue(nodeBinding.getAttribute("occupation"));
        this.txtAnniversary.setValue(nodeBinding.getAttribute("anniversary"));
        this.txtCreditRting.setValue(nodeBinding.getAttribute("creditRating"));
        this.txtHoldingCompany.setValue(nodeBinding.getAttribute("holdingCompany"));
        this.txtSacco.setValue(nodeBinding.getAttribute("sacco"));
        try
        {
          if ("Y".equalsIgnoreCase((String)nodeBinding.getAttribute("proposer"))) {
            this.txtCommandBtn.setDisabled(true);
          } else {
            this.txtCommandBtn.setDisabled(false);
          }
        }
        catch (Exception e)
        {
          e.printStackTrace();
        }
        this.btnCreateUpdateClient.setText("Update");
        this.session.setAttribute("client_action", "E");
        this.btnCreateUpdateClient.setDisabled(false);
        
        ADFUtils.findIterator("fetchClientAccountsIterator").executeQuery();
        
        GlobalCC.refreshUI(this.tblClientAccounts);
        GlobalCC.refreshUI(this.sbrCorporate);
        GlobalCC.refreshUI(this.sbrIndividual);
        GlobalCC.refreshUI(this.clientTitlePan);
        GlobalCC.refreshUI(this.txtClientTitle);
        GlobalCC.refreshUI(this.txtSelectClientTitle);
        GlobalCC.refreshUI(this.txtSurburbs);
        GlobalCC.refreshUI(this.txtZipCode);
        GlobalCC.refreshUI(this.txtClientTypes);
        
        ADFUtils.findIterator("fetchClientWebAccountsIterator").executeQuery();
        GlobalCC.refreshUI(this.tblwebAccounts);
        
        ADFUtils.findIterator("fetchUnallocatedClientSystemsIterator").executeQuery();
        ADFUtils.findIterator("fetchAllocatedClientSystemsIterator").executeQuery();
        GlobalCC.refreshUI(this.treeUnassignedClientSystems);
        GlobalCC.refreshUI(this.treeAssignedClientSystems);
        
        ADFUtils.findIterator("fetchClientRequiredDocsIterator").executeQuery();
        GlobalCC.refreshUI(this.tblRequiredDocs);
        ADFUtils.findIterator("fetchClientWebAccountsIterator").executeQuery();
        GlobalCC.refreshUI(this.tblwebAccounts);
        ADFUtils.findIterator("findUnassignedCompaniesIterator").executeQuery();
        GlobalCC.refreshUI(this.unAssignedBank);
        ADFUtils.findIterator("findassignedCompaniesIterator").executeQuery();
        GlobalCC.refreshUI(this.assignedBank);
        
        ADFUtils.findIterator("findWebClientBranchesIterator").executeQuery();
        GlobalCC.refreshUI(this.clientBranch);
        
        ADFUtils.findIterator("findWebProductsDetailsIterator").executeQuery();
        GlobalCC.refreshUI(this.webProductsDetails);
        
        DBConnector dbConnector = new DBConnector();
        connection = dbConnector.getDatabaseConnection();
        clientVaraibleInitialization(connection);
        String query1 = "begin ? := TQC_CLIENTS_PKG.getClientsAgent(?); end;";
        
        stmt = (OracleCallableStatement)connection.prepareCall(query1);
        stmt.registerOutParameter(1, -10);
        stmt.setBigDecimal(2, clientCode);
        
        stmt.execute();
        rs = (OracleResultSet)stmt.getObject(1);
        int k = 0;
        while (rs.next())
        {
          this.txtAgencyCode.setValue(rs.getBigDecimal(1));
          this.txtAgencyName.setValue(rs.getString(3));
          k++;
        }
        if (k == 0)
        {
          this.txtAgencyCode.setValue(null);
          this.txtAgencyName.setValue(null);
        }
        rs.close();
        stmt.close();
        connection.close();
        
        GlobalCC.refreshUI(this.txtAgencyCode);
        GlobalCC.refreshUI(this.txtAgencyName);
        
        switchClientTabs(mode.EDIT_MODE);
        GlobalCC.refreshUI(this.tabDetailCreateClient);
      }
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(connection, e);
    }
    finally
    {
      DbUtils.closeQuietly(connection);
    }
    return null;
  }
  
  public String actionAcceptContactPersons()
  {
    this.txtContactName1.setValue(this.contactName1.getValue());
    this.txtContactPhone1.setValue(this.contactPhone1.getValue());
    this.txtContactEmail1.setValue(this.contactEmail1.getValue());
    this.txtContactName2.setValue(this.contactName2.getValue());
    this.txtContactPhone2.setValue(this.contactPhone2.getValue());
    this.txtContactEmail2.setValue(this.contactEmail2.getValue());
    GlobalCC.refreshUI(this.txtContactName1);
    GlobalCC.refreshUI(this.txtContactPhone1);
    
    GlobalCC.refreshUI(this.txtContactEmail1);
    GlobalCC.refreshUI(this.txtContactName2);
    GlobalCC.refreshUI(this.txtContactPhone2);
    GlobalCC.refreshUI(this.txtContactEmail2);
    GlobalCC.dismissPopUp("pt1", "contactPersonsPopup");
    return null;
  }
  
  public String actionShowContactPersons()
  {
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:contactPersonsPopup').show(hints);");
    
    return null;
  }
  
  public String findPostalCodeSelected()
  {
    Object key = this.postalCodeTable.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key;
    if (nodeBinding == null)
    {
      GlobalCC.dismissPopUp("pt1", "postalCodePOP");
      return null;
    }
    System.out.println("nodeBinding.getAttribute(\"pstZipCode\")==" + nodeBinding.getAttribute("pstZipCode"));
    
    this.session.setAttribute("locCode", nodeBinding.getAttribute("pstZipCode"));
    
    this.txtSurburbs.setValue(nodeBinding.getAttribute("pstZipCode"));
    this.txtZipCode.setValue(nodeBinding.getAttribute("pstZipCode"));
    GlobalCC.refreshUI(this.txtSurburbs);
    GlobalCC.dismissPopUp("pt1", "postalCodePOP");
    
    return null;
  }
  
  public String actionHidePostalCode()
  {
    GlobalCC.dismissPopUp("pt1", "postalCodePOP");
    
    return null;
  }
  
  public String actionAcceptSector()
  {
    Object key2 = this.tblSectorPop.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.txtSectorName.setValue(nodeBinding.getAttribute("name"));
      
      this.txtSectorCode.setValue(nodeBinding.getAttribute("code"));
      this.session.setAttribute("sectorCode", nodeBinding.getAttribute("code"));
      
      this.session.setAttribute("sectorName", nodeBinding.getAttribute("name"));
      
      this.txtSrchSectorName.setValue(this.session.getAttribute("sectorName"));
      
      ADFUtils.findIterator("findOccupationIterator").executeQuery();
      ADFUtils.findIterator("findSpecializationsIterator").executeQuery();
      
      GlobalCC.refreshUI(this.txtSrchSectorName);
      GlobalCC.refreshUI(this.txtSectorName);
      GlobalCC.refreshUI(this.txtSectorCode);
      GlobalCC.refreshUI(this.txtCltOccupation);
      GlobalCC.refreshUI(this.occupationTbl);
      GlobalCC.refreshUI(this.specializationTbl);
      GlobalCC.hidePopup("pt1:sectorPop");
    }
    return null;
  }
  
  public String actionAcceptDomicileCountry()
  {
    Object key2 = this.tblDomicileCountryPop.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.txtDomicileCountriesName.setValue(nodeBinding.getAttribute("name"));
      this.txtDomicileCountriesCode.setValue(nodeBinding.getAttribute("code"));
      GlobalCC.refreshUI(this.txtDomicileCountriesName);
    }
    GlobalCC.dismissPopUp("pt1", "domicileCountryPop");
    return null;
  }
  
  public String actionAcceptAccountManager()
  {
    Object key2 = this.tblAccountManagersPop.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.txtAccountManagerCode.setValue(nodeBinding.getAttribute("userCode"));
      this.txtAccountManager.setValue(nodeBinding.getAttribute("userFullname"));
      GlobalCC.refreshUI(this.txtAccountManager);
    }
    GlobalCC.dismissPopUp("pt1", "accountManagersPop");
    return null;
  }
  
  public String bankBranchSelected()
  {
    Object key2 = this.tblBankBranchPop.getSelectedRowData();
    JUCtrlValueBinding n = (JUCtrlValueBinding)key2;
    if (n != null)
    {
      this.session.setAttribute("branchCode", n.getAttribute("bankBranchCode"));
      
      this.session.setAttribute("BACT_BBR_CODE", n.getAttribute("bankBranchCode"));
      if (this.txtBACT_BANK_BRANCH != null) {
        this.txtBACT_BANK_BRANCH.setValue(n.getAttribute("branchName"));
      }
      GlobalCC.refreshUI(this.txtBACT_BANK_BRANCH);
      this.txtBranchName.setValue(n.getAttribute("branchName"));
      this.txtBranchCode.setValue(n.getAttribute("bankBranchCode"));
      GlobalCC.refreshUI(this.txtBranchName);
      GlobalCC.refreshUI(this.txtBranchCode);
    }
    GlobalCC.dismissPopUp("pt1", "bankBranchPop");
    
    return null;
  }
  
  public String acceptBranchDivision()
  {
    Object key2 = this.tblBranchDivisionPop.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.txtDivisionCode.setValue(nodeBinding.getAttribute("DIV_CODE"));
      this.txtDivisionName.setValue(nodeBinding.getAttribute("DIV_NAME"));
      GlobalCC.refreshUI(this.txtDivisionCode);
      GlobalCC.refreshUI(this.txtDivisionName);
    }
    GlobalCC.dismissPopUp("pt1", "branchDivisionPop");
    
    return null;
  }
  
  public String selectABranchDivision()
  {
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:branchDivisionPop').show(hints);");
    
    return null;
  }
  
  public void selectTypeOfClient(ValueChangeEvent valueChangeEvent)
  {
    System.out.println("This is val change listner");
    if (this.sbrIndividual.isSelected())
    {
      this.clientTitlePan.setVisible(true);
      this.txtTitle.setDisabled(false);
      this.txtTitle.setVisible(false);
      this.txtSurname.setLabel("Surname Name");
      this.txtDOB.setLabel("Date of Birth");
      this.txtOtherNames.setVisible(true);
      
      this.btnShowContactPersons.setVisible(false);
      this.btnShowContactPersons.setDisabled(true);
      this.txtWebsite.setVisible(false);
      this.txtAuditors.setVisible(false);
      this.txtParentCompany.setVisible(false);
      this.parentcompanyPan.setVisible(false);
      this.tabDirectors.setVisible(false);
      this.tabAuditors.setVisible(false);
      this.txtDLNo.setVisible(true);
      this.txtDateOfEmployment.setVisible(true);
      this.layClientImage.setVisible(true);
      this.txtGender.setRendered(true);
      this.grpEmploymentDetails.setRendered(true);
      this.layClientImage.setVisible(true);
    }
    if (this.sbrCorporate.isSelected())
    {
      this.grpEmploymentDetails.setRendered(false);
      this.clientTitlePan.setVisible(false);
      this.txtTitle.setVisible(false);
      this.txtTitle.setDisabled(true);
      this.txtSurname.setLabel("Corporate Name");
      this.txtDOB.setLabel("Date of Incorporation");
      this.txtOtherNames.setVisible(false);
      
      this.layClientImage.setVisible(false);
      this.txtOtherNames.setValue(null);
      this.txtWebsite.setVisible(true);
      this.txtAuditors.setVisible(false);
      this.txtGender.setRendered(false);
      this.txtParentCompanyCode.setVisible(true);
      this.parentcompanyPan.setVisible(true);
      this.txtDLNo.setVisible(false);
      this.txtDateOfEmployment.setVisible(false);
      this.txtPassportNo.setVisible(false);
      this.tabAuditors.setVisible(true);
      this.tabDirectors.setVisible(true);
      
      this.btnShowContactPersons.setVisible(true);
      this.btnShowContactPersons.setDisabled(false);
    }
    GlobalCC.refreshUI(this.clientTab);
    GlobalCC.refreshUI(this.panelCreateClient);
    GlobalCC.refreshUI(this.mainPanel);
    this.panelCreateClient.setVisible(true);
  }
  
  public List<SelectItem> getClientType()
  {
    if (this.clientType != null) {
      this.clientType.clear();
    }
    DBConnector dbConnector = new DBConnector();
    OracleConnection conn = null;
    
    OracleCallableStatement statement = null;
    OracleCallableStatement stmt = null;
    OracleResultSet rst = null;
    String status = null;
    Boolean value = Boolean.valueOf(true);
    try
    {
      conn = dbConnector.getDatabaseConnection();
      String query1 = " SELECT clnty_clnt_type,UPPER(clnty_type)\n           FROM tqc_client_types";
      
      stmt = (OracleCallableStatement)conn.prepareCall(query1);
      rst = (OracleResultSet)stmt.executeQuery();
      clientType.add(new SelectItem("","Select Client Type"));
      while (rst.next()) {
        this.clientType.add(new SelectItem(rst.getString(2), rst.getString(1)));
      }
      rst.close();
      stmt.close();
      conn.close();
    }
    catch (SQLException ex)
    {
      GlobalCC.EXCEPTIONREPORTING(ex);
    }
    finally
    {
      DbUtils.closeQuietly(conn, stmt, rst);
    }
    return this.clientType;
  }
  
  public void actionSearchByPin(ValueChangeEvent e) {

	tbPinRefs.getSelectedRowKeys().clear();
        String v = GlobalCC.checkNullValues(e.getNewValue());
        session.setAttribute("pinNumber", v);

        ADFUtils.findIterator("fetchAllClientsByPinIterator").executeQuery();
        tbPinRefs.setVisible(false);
        if (v != null) {
            if (v.length() >= 10) {
                Integer count = (Integer)session.getAttribute("count");
                System.out.println("count: " + count);
                /*if( count == 1 ){
                    SelectionEvent p = null;
                    actionSelectClient(p); 
                    return;
                }*/
                if (count >= 1) {  
                    tbPinRefs.setVisible(true);  
                }  
            }
        }
        GlobalCC.refreshUI(tbPinRefs);
        // Add event code here...
    }
  
  public void actionSelectClient(SelectionEvent selectionEvent)
  {
    System.out.println("actionSelectClient: select client!");
    this.tbPinRefs.setVisible(false);
    JUCtrlValueBinding n = (JUCtrlValueBinding)this.tbPinRefs.getSelectedRowData();
    if (n != null)
    {
      BigDecimal clientCode = GlobalCC.checkBDNullValues(n.getAttribute("code"));
      
      System.out.println("actionSelectClient: clientCode: " + clientCode);
      HashMap m = null;
      if (clientCode != null)
      {
        m = IQuery.fetchAssociativeRow("select TWN_NAME,cou_name,cou_zip_code,nvl(clnt_name,clnt_surname) client,tqc_clients.* from tqc_clients,tqc_countries,tqc_towns\nwhere clnt_code=" + clientCode.toString() + "\n" + "  and clnt_twn_code=twn_code(+)\n" + "  and clnt_cou_code=cou_code(+)");
        System.out.println("actionSelectClient: " + m);
        if (m != null)
        {
          this.session.setAttribute("clntCode", m.get("CLNT_CODE"));
          this.txtClientCode.setValue(m.get("CLNT_CODE"));
          this.legacyShtDesc.setValue(m.get("CLNT_OLD_SHT_DESC"));
          this.txtId.setValue(m.get("CLNT_SHT_DESC"));
          this.txtFullNames.setValue(m.get("CLNT_NAME"));
          this.txtSurname.setValue(m.get("CLNT_NAME"));
          this.txtOtherNames.setValue(m.get("CLNT_OTHER_NAMES"));
          this.txtIdRegNum.setValue(m.get("CLNT_ID_REG_NO"));
          this.txtEmail.setValue(m.get("CLNT_EMAIL_ADDRS"));
          this.txtClientTitleCode.setValue(m.get("CLNT_TITLE_CODE"));
          this.txtClientTitle.setValue(m.get("CLNT_TITLE"));
          this.txtPhone1.setValue(m.get("CLNT_TEL"));
          this.txtPIN.setValue(m.get("CLNT_PIN"));
          this.txtPassportNo.setValue(m.get("CLNT_PASSPORT_NO"));
          this.txtClientCellNos.setValue(m.get("CLNT_SMS_TEL"));
          this.txtGender.setValue(m.get("CLNT_GENDER"));
          
          this.txtCountryName2.setValue(m.get("COU_NAME"));
          this.txtCountryCode2.setValue(m.get("COU_ZIP_CODE"));
          this.txtCountryName3.setValue(m.get("COU_NAME"));
          this.txtCountryCode3.setValue(m.get("CLNT_INT_ZIP_CODE"));
          
          String couZipCode = (String)m.get("COU_ZIP_CODE");
          
          System.out.println("couZipCode: " + couZipCode);
          
          String no_format = "^((\\+" + couZipCode + ")|0){0,1}\\d{9}$";
          
          String prefix = null;
          String suffix = null;
          String sms = GlobalCC.checkNullValues(m.get("CLNT_SMS_TEL"));
          
          System.out.println("sms: " + sms);
          if (sms != null)
          {
            sms = sms.replaceAll("\\-", "");
            System.out.println("sms: " + sms);
            if ((sms.length() >= 9) && ((sms.matches(no_format)) || (couZipCode == null)))
            {
              sms = sms.substring(sms.length() - 9, sms.length());
              
              prefix = "0" + sms.substring(0, 3);
              suffix = sms.substring(3, 9);
            }
            else
            {
              prefix = null;
              suffix = null;
            }
          }
          System.out.println("prefix: " + prefix);
          System.out.println("suffix: " + suffix);
          
          this.txtPrefixManager.setValue(prefix);
          this.txtSms.setValue(suffix);
          
          this.txtPostalAddress.setValue(m.get("CLNT_POSTAL_ADDRS"));
          this.txtGender.setValue(m.get("CLNT_GENDER"));
          this.txtDOB.setValue(m.get("CLNT_DOB"));
          this.txtRegBranchCode.setValue(m.get("CLNT_BRN_CODE"));
          this.txtRegBranchName.setValue(m.get("BRN_NAME"));
          
          this.txtZipCode.setValue(m.get("CLNT_POSTAL_CODE"));
          this.txtSurburbs.setValue(m.get("CLNT_POSTAL_CODE"));
          SetTxtClientTypesValue((String)m.get("CLNT_TYPE"));
          this.txtDirectClient.setValue(m.get("CLNT_DIRECT_CLIENT"));
          
          this.txtRemarks.setValue(m.get("CLNT_REMARKS"));
          this.txtDLNo.setValue(m.get("CLNT_DRIVING_LICENCE"));
          this.txtDlIssueDate.setValue(m.get("CLNT_DL_ISSUE_DATE"));
          this.txtDrvExperience.setValue(m.get("CLNT_DRV_EXPERIENCE"));
          
          this.txtAccountNum.setValue(m.get("CLNT_ACCNT_NO"));
          this.txtClientLevel.setValue(m.get("CLNT_LEVEL"));
          this.txtPhysicalAddress.setValue(m.get("CLNT_PHYSICAL_ADDRS"));
          this.txtCountryName.setValue(m.get("COU_NAME"));
          this.txtCountryCode.setValue(m.get("CLNT_COU_CODE"));
          this.txtAdminRegionCode.setValue(m.get("CLNT_STS_CODE"));
          this.txtAdminRegionName.setValue(m.get("STS_NAME"));
          this.txtTownName.setValue(m.get("TWN_NAME"));
          this.txtTownCode.setValue(m.get("CLNT_TWN_CODE"));
          this.txtWebsite.setValue(m.get("CLNT_WEBSITE"));
          this.txtWorkPermit.setValue(m.get("CLNT_WORK_PERMIT"));
          this.txtDateCreated.setValue(m.get("CLNT_DATE_CREATED"));
          this.txtEmail2.setValue(m.get("CLNT_EMAIL2"));
          this.txtIntTel.setValue(m.get("CLNT_INT_TEL"));
          
          String wef = GlobalCC.convertDate(m.get("CLNT_WEF"), "yyyy-MM-dd HH:mm:ss.S", "dd-MMM-yyyy");
          System.out.println("wef: " + wef);
          this.txtWef.setValue(wef);
          String wet = GlobalCC.convertDate(m.get("CLNT_WET"), "yyyy-MM-dd HH:mm:ss.S", "dd-MMM-yyyy");
          this.txtWet.setValue(wet);
          this.txtDivisionCode.setValue(m.get("CLNT_DIVISION"));
          this.txtDivisionName.setValue(m.get("CLNT_DIVISION"));
          this.txtDomicileCountriesCode.setValue(m.get("CLNT_DOMICILE_COUNTRIES"));
          this.txtDomicileCountriesName.setValue(m.get("CLNT_EMAIL2"));
          this.txtStatus.setValue(m.get("CLNT_STATUS"));
          this.txtMaritalStatus.setValue(m.get("CLNT_MARITAL_STATUS"));
          this.txtModeOfComm.setValue(m.get("CLNT_COMM_MODE"));
          this.txtAgencyCode.setValue(m.get("CLNT_ACC_OFFICER"));
          this.txtSectorName.setValue(m.get("SEC_NAME"));
          this.txtSectorCode.setValue(m.get("CLNT_SEC_CODE"));
          
          this.txtCltOccupation.setValue(m.get("CLNT_OCC_CODE"));
          this.txtSpecialization.setValue(m.get("CLNT_SPZ_CODE"));
          this.txtAnniversary.setValue(m.get("CLNT_ANNIVERSARY"));
          this.txtFax.setValue(m.get("CLNT_FAX"));
          
          this.txtCreditAllowed.setValue(m.get("CLNT_CREDIT_LIM_ALLOWED"));
          this.txtCreditLimit.setValue(m.get("CLNT_CREDIT_LIMIT"));
          this.txtCreditRting.setValue(m.get("CLNT_CRDT_RATING"));
          
          this.txtAccountManagerCode.setValue(m.get("CLNT_USR_CODE"));
          this.txtAccountManager.setValue(m.get("USR_NAME"));
        }
      }
    }
    GlobalCC.refreshUI(this.tabDetailCreateClient);
  }
  
  public void setClientType(List<SelectItem> clientType)
  {
    this.clientType = clientType;
  }
  
  public void selectClientTypes(ValueChangeEvent valueChangeEvent)
  {
    if ((valueChangeEvent.getNewValue() != null) && (valueChangeEvent.getNewValue() != valueChangeEvent.getOldValue()))
    {
      ClientTypeChanged();
      System.out.println("()" + this.txtPhone1.isRendered());
    }
  }
  
  public String actionNewClient()
  {
    try
    {
      Util util = new Util();
      String entity = util.getEntityApplicable();
      if (entity.equals("Y"))
      {
        this.session.setAttribute("source", "FromClient");
        
        FacesContext.getCurrentInstance().getExternalContext().redirect("entities.jspx");
        
        return null;
      }
      this.session.setAttribute("saveSaccoStatus", null);
      
      Authorization auth = new Authorization();
      String AccessGranted = auth.checkUserRights("CLCR", "CLAU", "CLAC", null, null);
      if ("Y".equalsIgnoreCase(AccessGranted) != true)
      {
        GlobalCC.accessDenied();
        return null;
      }
      this.session.removeAttribute("bactAccCode");
      this.session.removeAttribute("otherNames");
      this.session.removeAttribute("surNames");
      this.session.removeAttribute("count");
      this.session.removeAttribute("saveStatus");
      this.session.removeAttribute("pinStatus");
      
      this.session.setAttribute("client_status", "D");
      
      this.tabDetailCreateClient.setVisible(true);
      this.txtReasonForUpdate.setVisible(false);
      GlobalCC.refreshUI(this.tabDetailCreateClient);
      GlobalCC.refreshUI(this.txtReasonForUpdate);
      ADFUtils.findIterator("fetchAllClientsByNamesIterator").executeQuery();
      GlobalCC.refreshUI(this.tbClientListingBasedOnNames);
      clearClientFields();
      switchClientTabs(mode.NEW_MODE);
      GlobalCC.refreshUI(this.tabDetailCreateClient);
    }
    catch (Exception e)
    {
      e.printStackTrace();
    }
    return null;
  }
  
  public void clearClientFields()
  {
    this.txtClientCode.setValue(null);
    this.txtId.setValue(null);
    this.txtSurname.setValue(null);
    this.txtOtherNames.setValue(null);
    this.txtPhysicalAddress.setValue(null);
    
    this.session.setAttribute("pinNumber", null);
    ADFUtils.findIterator("fetchAllClientsByPinIterator").executeQuery();
    this.tbPinRefs.setVisible(false);
    if (this.legacyShtDesc != null) {
      this.legacyShtDesc.setValue(null);
    }
    System.out.println("COUNTRY_NAME=" + this.session.getAttribute("COUNTRY_NAME"));
    
    System.out.println("COUNTRY_CODE=" + this.session.getAttribute("COUNTRY_CODE"));
    
    System.out.println("CouZipCode=" + this.session.getAttribute("CouZipCode"));
    
    this.txtCountryCode.setValue(this.session.getAttribute("COUNTRY_CODE"));
    this.txtCountryName.setValue(this.session.getAttribute("COUNTRY_NAME"));
    
    this.txtCountryName2.setValue(this.session.getAttribute("COUNTRY_NAME"));
    this.txtCountryCode2.setValue(this.session.getAttribute("CouZipCode"));
    
    this.txtDomicileCountriesCode.setValue(this.session.getAttribute("COUNTRY_CODE"));
    this.txtDomicileCountriesName.setValue(this.session.getAttribute("COUNTRY_NAME"));
    if ("AIICO".equalsIgnoreCase(GlobalCC.getSysParamValue("CLIENT"))) {
      this.txtPostalAddress.setValue(null);
    } else {
      this.txtPostalAddress.setValue("P.O. BOX ");
    }
    this.txtBussinessPerson.setValue(null);
    this.txtTownCode.setValue(null);
    this.txtAdminRegionName.setValue(null);
    this.txtClientTitleCode.setValue(null);
    this.txtClientTitle.setValue(null);
    this.txtDateCreated.setValue(null);
    this.txtCreatedBy.setValue(null);
    this.txtDirectClient.setValue(null);
    this.txtAccountNum.setValue(null);
    
    this.txtDOB.setValue(null);
    
    this.txtPassportNo.setValue(null);
    this.txtPIN.setValue(null);
    this.txtIdRegNum.setValue(null);
    this.txtEmail.setValue(null);
    this.txtPhone1.setValue(null);
    this.txtSms.setValue(null);
    this.txtFax.setValue(null);
    this.txtProposer.setValue(null);
    this.txtWef.setValue(new java.util.Date());
    this.txtWet.setValue(null);
    this.txtRemarks.setValue(null);
    this.txtWithdrawalReason.setValue(null);
    
    this.selectStatusActive.setDisabled(false);
    this.selectStatusDraft.setDisabled(false);
    this.selectStatusInactive.setDisabled(false);
    this.selectStatusRejected.setDisabled(false);
    this.txtStatus.setValue("D");
    this.txtDirectClient.setValue("C");
    
    this.txtRunOff.setValue(null);
    this.txtSpecialTerms.setValue(null);
    this.txtCancelledPolicy.setValue(null);
    this.txtIncreasePremium.setValue(null);
    this.txtDeclinedProposal.setValue(null);
    this.txtAdminRegionCode.setValue(null);
    this.txtAdminRegionName.setValue(null);
    
    this.contactName1.setValue(null);
    this.contactPhone1.setValue(null);
    this.contactEmail1.setValue(null);
    this.contactName2.setValue(null);
    this.contactPhone2.setValue(null);
    this.contactEmail2.setValue(null);
    this.txtGender.setValue(null);
    if (this.renderer.isCheckedByComplianceOfficerVisible()) {
      this.txtCheckedByComplianceOfficer.setValue(null);
    }
    this.txtAgencyName.setValue(null);
    this.txtAgencyCode.setValue(null);
    this.pnLabelAgency.setVisible(false);
    
    this.sbrIndividual.setSelected(true);
    
    String defaultUserBranch = GlobalCC.getSysParamValue("DEFAULT_USER_BRANCH");
    if ((defaultUserBranch == null) || ("N".equalsIgnoreCase(defaultUserBranch)))
    {
      this.txtRegBranchCode.setValue(null);
      this.txtRegBranchName.setValue(null);
    }
    else if ("Y".equalsIgnoreCase(defaultUserBranch))
    {
      this.txtRegBranchCode.setValue(this.session.getAttribute("branchCode"));
      this.txtRegBranchName.setValue(this.session.getAttribute("branchName"));
    }
    else
    {
      this.txtRegBranchCode.setValue(null);
      this.txtRegBranchName.setValue(null);
    }
    this.session.setAttribute("date", null);
    
    this.btnCreateUpdateClient.setText("Save");
    
    session.setAttribute("typeVAl", null); 
    txtClientTypes.setValue("");
    
    this.session.setAttribute("client_action", "A");
    this.btnCreateUpdateClient.setDisabled(false);
  }
  
  public boolean check_if_uppecaseRequired()
  {
    DBConnector dbConnector = new DBConnector();
    OracleConnection conn = null;
    
    OracleCallableStatement statement = null;
    OracleCallableStatement stmt = null;
    OracleResultSet rs = null;
    String status = null;
    Boolean value = Boolean.valueOf(true);
    try
    {
      conn = dbConnector.getDatabaseConnection();
      
      conn = dbConnector.getDatabaseConnection();
      String query1 = "begin ? := TQC_SETUPS_CURSOR.checkif_UpperCase_required(); end;";
      
      stmt = (OracleCallableStatement)conn.prepareCall(query1);
      stmt.registerOutParameter(1, -10);
      
      stmt.execute();
      rs = (OracleResultSet)stmt.getObject(1);
      while (rs.next()) {
        status = rs.getString(1);
      }
      rs.close();
      conn.close();
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(conn, e);
    }
    if (status == null)
    {
      value = Boolean.valueOf(true);
      return value.booleanValue();
    }
    if (status.equalsIgnoreCase("Y"))
    {
      value = Boolean.valueOf(true);
      return value.booleanValue();
    }
    if (status.equalsIgnoreCase("N"))
    {
      value = Boolean.valueOf(false);
      return value.booleanValue();
    }
    return value.booleanValue();
  }
  
  public boolean checkIfSaccoRequired()
  {
    DBConnector dbConnector = new DBConnector();
    OracleConnection conn = null;
    
    OracleCallableStatement statement = null;
    OracleCallableStatement stmt = null;
    OracleResultSet rs = null;
    String status = null;
    Boolean value = Boolean.valueOf(true);
    try
    {
      conn = dbConnector.getDatabaseConnection();
      
      conn = dbConnector.getDatabaseConnection();
      String query1 = "begin ? := TQC_SETUPS_CURSOR.checkifSaccoRequired(); end;";
      
      stmt = (OracleCallableStatement)conn.prepareCall(query1);
      stmt.registerOutParameter(1, -10);
      
      stmt.execute();
      rs = (OracleResultSet)stmt.getObject(1);
      while (rs.next()) {
        status = rs.getString(1);
      }
      rs.close();
      conn.close();
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(conn, e);
    }
    if (status == null)
    {
      value = Boolean.valueOf(true);
      return value.booleanValue();
    }
    if (status.equalsIgnoreCase("Y"))
    {
      value = Boolean.valueOf(true);
      return value.booleanValue();
    }
    if (status.equalsIgnoreCase("N"))
    {
      value = Boolean.valueOf(false);
      return value.booleanValue();
    }
    return value.booleanValue();
  }
  
  public String check_ifclientActive()
  {
    DBConnector dbConnector = new DBConnector();
    OracleConnection conn = null;
    OracleCallableStatement statement = null;
    OracleCallableStatement stmt = null;
    OracleResultSet rs = null;
    String status = null;
    String value = null;
    try
    {
      conn = dbConnector.getDatabaseConnection();
      String query1 = "begin ? := TQC_SETUPS_CURSOR.checkif_user_Active(?); end;";
      
      stmt = (OracleCallableStatement)conn.prepareCall(query1);
      stmt.registerOutParameter(1, -10);
      stmt.setBigDecimal(2, new BigDecimal(this.session.getAttribute("ClientCode").toString()));
      
      stmt.execute();
      rs = (OracleResultSet)stmt.getObject(1);
      while (rs.next()) {
        status = rs.getString(1);
      }
      rs.close();
      conn.close();
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(conn, e);
      return null;
    }
    return status;
  }
  
  public String checkIfSSuchRecorDExist()
  {
    try
    {
      this.session.setAttribute("PayeeType", "C");
      BigDecimal amount = null;
      
      getAutoAuthirize();
      if (this.txtCreditAllowed.getValue() != null)
      {
        if (this.txtCreditAllowed.getValue().equals("Y")) {
          if (this.txtCreditLimit.getValue() != null) {
            amount = new BigDecimal(this.txtCreditLimit.getValue().toString());
          } else {
            amount = null;
          }
        }
        Authorization auth = new Authorization();
        String process = "AMA";
        String processArea = "CRLMT";
        String processSubArea = "CRDET";
        String AccessGranted = auth.checkUserRights(process, processArea, processSubArea, amount, null);
        if (!AccessGranted.equalsIgnoreCase("Y")) {
          if ((AccessGranted.equalsIgnoreCase("N")) && (this.txtCreditAllowed.getValue().equals("Y")))
          {
            GlobalCC.INFORMATIONREPORTING("You do not have the right to allow credit limits");
            return null;
          }
        }
      }
      UploadedFile _file = (UploadedFile)this.uploadedPicture.getValue();
      System.out.println("_file1 " + _file);
      String clientCode = GlobalCC.checkNullValues(this.txtClientCode.getValue());
      
      String directClient = GlobalCC.checkNullValues(this.txtDirectClient.getValue());
      
      String type = GlobalCC.checkNullValues(this.txtClientTypes.getValue());
      java.util.Date dob = GlobalCC.extractDate(this.txtDOB);
      String fullNames = GlobalCC.checkNullValues(this.txtFullNames.getValue());
      
      String surname = GlobalCC.checkNullValues(this.txtSurname.getValue());
      String otherNames = GlobalCC.checkNullValues(this.txtOtherNames.getValue());
      
      String gender = GlobalCC.checkNullValues(this.txtGender.getValue());
      String checkedByComplianceOfficer = GlobalCC.checkNullValues(this.txtCheckedByComplianceOfficer.getValue());
      
      String cellNos = GlobalCC.checkNullValues(this.txtClientCellNos.getValue());
      
      String sms = GlobalCC.checkNullValues(this.txtSms.getValue());
      String sms2 = GlobalCC.checkNullValues(this.txtPayTel.getValue());
      String intTelNo = GlobalCC.checkNullValues(this.txtIntTel.getValue());
      
      String site = GlobalCC.checkNullValues(this.session.getAttribute("DEFAULT_SITE"));
      
      String idno = GlobalCC.checkNullValues(this.txtIdRegNum.getValue());
      
      String passport = GlobalCC.checkNullValues(this.txtPassportNo.getValue());
      
      String pin = GlobalCC.checkNullValues(this.txtPIN.getValue());
      String country = GlobalCC.checkNullValues(this.txtCountryName.getValue());
      
      String wef = GlobalCC.checkNullValues(this.txtWef.getValue());
      String status = GlobalCC.checkNullValues(this.txtStatus.getValue());
      
      System.out.println("status: " + status);
      
      String stateCode = GlobalCC.checkNullValues(this.txtAdminRegionCode.getValue());
      
      String email = GlobalCC.checkNullValues(this.txtEmail.getValue());
      String email2 = GlobalCC.checkNullValues(this.txtEmail2.getValue());
      String phone1 = GlobalCC.checkNullValues(this.txtPhone1.getValue());
      String physicalAddress = GlobalCC.checkNullValues(this.txtPhysicalAddress.getValue());
      
      String postalAddress = GlobalCC.checkNullValues(this.txtPostalAddress.getValue());
      
      String cltZipCode = GlobalCC.checkNullValues(this.txtZipCode.getValue());
      
      String divisionCode = GlobalCC.checkNullValues(this.txtDivisionCode.getValue());
      
      String bankAccNum = GlobalCC.checkNullValues(this.txtBankAccNum.getValue());
      
      String branchCode = GlobalCC.checkNullValues(this.txtBranchCode.getValue());
      
      Util checkClientAgency = new Util();
      String clientAgencyTyingCheck = checkClientAgency.getClientAgencyTying();
      
      this.session.setAttribute("checkedByComplianceOfficer", checkedByComplianceOfficer != null ? checkedByComplianceOfficer : "N");
      
      boolean mand = this.renderer.isCLIENT_RELATIONSHIP_OFFICER_REQUIRED();
      
      boolean exp = this.renderer.isDriverExpNumber();
      boolean ClCountry = this.renderer.isCLIENT_COUNTRY_REQUIRED();
      
      this.session.setAttribute("ClientFullname", fullNames);
      this.session.setAttribute("ClientFullname", fullNames);
      this.session.setAttribute("insuredDesc", fullNames);
      this.session.setAttribute("clientName", fullNames);
      if ((!this.renderer.isClientForDisabled()) && (this.renderer.isClientForVisible())) {
        if ((!this.renderer.getClientForLMS().isSelected()) && (!this.renderer.getClientForGIS().isSelected()))
        {
          GlobalCC.errorValueNotEntered("Client for LMS or GIS field is mandatory");
          return null;
        }
      }
      if (type == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Select Client Type!");
        return null;
      }
      if (!Arrays.asList(CLIENT_TYPES).contains(type.toUpperCase()))
      {
        GlobalCC.errorValueNotEntered("Error Invalid Client Type!" + type);
        
        return null;
      }
      if ((directClient == null) && (this.renderer.isCLIENT_CATEGORY_REQUIRED()))
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Select Client Category!");
        return null;
      }
      if ((divisionCode == null) && (this.renderer.isCLIENT_DIVISION_REQUIRED()))
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Select Division!");
        return null;
      }
      if ((!this.renderer.isCLIENT_FULLNAME_DISABLED()) && (this.renderer.isCLIENT_FULLNAME_VISIBLE()))
      {
        if ((fullNames == null) || ("".equals(fullNames)))
        {
          GlobalCC.INFORMATIONREPORTING("Please Enter Client Full Names!");
          return null;
        }
        if (!fullNames.matches("[A-Za-z]+(\\s[A-Za-z]+){1,2}"))
        {
          GlobalCC.INFORMATIONREPORTING("'" + fullNames + "' is not a valid Full Name, Should be atleast 2,3 names starting with Surname!");
          
          return null;
        }
        int s = fullNames.trim().indexOf(" ");
        if (s > 0)
        {
          this.txtSurname.setValue(fullNames.substring(0, s));
          this.txtOtherNames.setValue(fullNames.substring(s + 1, fullNames.length()));
          
          GlobalCC.refreshUI(this.txtSurname);
          GlobalCC.refreshUI(this.txtOtherNames);
        }
      }
      if (("I".equalsIgnoreCase(type)) || ("S".equalsIgnoreCase(type)))
      {
        if ((this.renderer.isID_OR_PASSPORT_MAND()) && (idno == null) && (passport == null))
        {
          GlobalCC.EXCEPTIONREPORTING("You must either Enter Passport No or ID No  Details.. ");
          return null;
        }
        if ((this.renderer.isPIN_OR_PASS_MAND()) && (pin == null) && (passport == null))
        {
          GlobalCC.INFORMATIONREPORTING("You must either Enter Passport No or PIN No  Details..");
          return null;
        }
        if ((this.renderer.isCLIENT_ID_REG_NO_REQUIRED()) && (idno == null))
        {
          GlobalCC.EXCEPTIONREPORTING("You must Enter " + this.session.getAttribute("ID_NO_LABEL") + "! ");
          
          return null;
        }
        if ((this.renderer.isCLIENT_PASSPORT_NO_REQUIRED()) && (passport == null))
        {
          GlobalCC.EXCEPTIONREPORTING("You must Enter Passport No! ");
          return null;
        }
        if ((this.renderer.isCLIENT_PIN_REQUIRED()) && (pin == null))
        {
          GlobalCC.INFORMATIONREPORTING("Please  enter PIN!");
          return null;
        }
        if ((this.renderer.isCLIENT_CELLNOS_REQUIRED()) && (cellNos == null) && (this.txtClientCellNos.isVisible()))
        {
          GlobalCC.INFORMATIONREPORTING("Please  enter " + this.renderer.getCLIENT_CELLNOS_LABEL() + "!");
          
          return null;
        }
        if ((this.renderer.isCLIENT_POSTAL_CODE_REQUIRED()) && (cltZipCode == null))
        {
          GlobalCC.INFORMATIONREPORTING("Please enter Postal Code!");
          return null;
        }
        if (idno != null)
        {
          if ((!idno.matches("^[0-9]{7,9}$")) && ("KENYA".equalsIgnoreCase(site)))
          {
            GlobalCC.EXCEPTIONREPORTING("Invalid ID No should be a number with digits between 7 and 9! ");
            return null;
          }
          if (("ZAMBIA".equalsIgnoreCase(site)) && (!Util.validatePassport(idno, "ID")))
          {
            GlobalCC.EXCEPTIONREPORTING("Invalid " + this.session.getAttribute("ID_NO_LABEL") + " Format: You must Enter in the format " + this.session.getAttribute("ID_NO_FORMAT"));
            
            return null;
          }
        }
        if ((this.renderer.isCLIENT_GENDER_REQUIRED()) && (gender == null))
        {
          GlobalCC.errorValueNotEntered("Gender iS required!");
          return null;
        }
        String clnt = "Y";
        if (GlobalCC.checkNullValues(this.session.getAttribute("CLIENT_TITLE_MAND")) != null)
        {
          clnt = GlobalCC.checkNullValues(this.session.getAttribute("CLIENT_TITLE_MAND"));
          if ((clnt == "Y") && (this.txtClientTitleCode.getValue() == null))
          {
            GlobalCC.errorValueNotEntered("Client Title  required!");
            return null;
          }
        }
        else if (this.txtClientTitleCode.getValue() == null)
        {
          GlobalCC.errorValueNotEntered("Client Title  required!");
          return null;
        }
      }
      if ((this.renderer.isCLIENT_DL_ISSUE_DATE_REQUIRED()) && (this.txtDlIssueDate.getValue() == null))
      {
        GlobalCC.INFORMATIONREPORTING("Please enter the DL issue date");
        return null;
      }
      if ((this.renderer.isCLIENT_STATE_REQUIRED()) && (this.txtAdminRegionName.getValue() == null))
      {
        GlobalCC.INFORMATIONREPORTING("Please select State/County");
        return null;
      }
      if ((this.renderer.isCLIENT_TOWN_REQUIRED()) && (this.txtTownName.getValue() == null))
      {
        GlobalCC.INFORMATIONREPORTING("Please select Town");
        return null;
      }
      if ((this.renderer.isCLIENT_COUNTRY_REQUIRED()) && (country == null))
      {
        GlobalCC.INFORMATIONREPORTING("Please  select Country!");
        return null;
      }
      if ((this.renderer.isCLIENT_PHYSICAL_ADDRESS_REQUIRED()) && (physicalAddress == null))
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Enter the Physical Address!");
        return null;
      }
      if ((this.renderer.isCLIENT_POSTAL_ADDRESS_REQUIRED()) && (postalAddress == null))
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Enter the Postal Address  No.");
        return null;
      }
      if (this.renderer.isCLIENT_DOB_REQUIRED())
      {
        if (dob == null)
        {
          GlobalCC.errorValueNotEntered("Error Value Missing: Enter the Date of Birth/Incorporation");
          return null;
        }
        if ((("I".equalsIgnoreCase(type)) || ("S".equalsIgnoreCase(type))) && (GlobalCC.dateDiff(dob, new java.util.Date()) / 365L < 18L) && (!"I".equalsIgnoreCase(directClient)))
        {
          GlobalCC.errorValueNotEntered("Client Age should be above 18!");
          return null;
        }
      }
      if (("I".equalsIgnoreCase(type)) || ("S".equalsIgnoreCase(type)))
      {
        if ((this.renderer.isCLIENT_SECTOR_REQUIRED()) && (GlobalCC.isEmptyStr(this.txtSectorName.getValue())))
        {
          GlobalCC.INFORMATIONREPORTING("Please  select Sector!");
          return null;
        }
        if ((this.renderer.isCLIENT_OCCUPATION_REQUIRED()) && (GlobalCC.isEmptyStr(this.txtCltOccupation.getValue())))
        {
          GlobalCC.INFORMATIONREPORTING("Please  select Occupation!");
          return null;
        }
        if ((this.renderer.isCLIENT_SPECIALIZATION_REQUIRED()) && (GlobalCC.isEmptyStr(this.txtSpecialization.getValue())))
        {
          GlobalCC.INFORMATIONREPORTING("Please  select Specialization!");
          return null;
        }
      }
      if ((this.renderer.isCLIENT_BRANCH_REQUIRED()) && (GlobalCC.isEmptyStr(this.txtRegBranchName.getValue())))
      {
        GlobalCC.INFORMATIONREPORTING("Please  select Branch!");
        return null;
      }
      if ((exp == true) && (this.txtDrvExperience.getValue() != null))
      {
        String driverExp = this.txtDrvExperience.getValue().toString();
        try
        {
          new BigDecimal(driverExp);
        }
        catch (Exception e)
        {
          e.printStackTrace();
          GlobalCC.INFORMATIONREPORTING("The Driver Experience should be a number");
          return null;
        }
      }
      if (clientAgencyTyingCheck.equals("Y"))
      {
        if ((this.txtDirectClient.getValue().equals("N")) && (this.txtAgencyName.getValue() == null) && (mand == true))
        {
          GlobalCC.INFORMATIONREPORTING("Please select Agent");
          return null;
        }
        if ((this.txtDirectClient.getValue().equals("Y")) && (this.txtAccountManager.getValue() == null) && (mand == true))
        {
          GlobalCC.INFORMATIONREPORTING("Please select A Relationship Manager");
          return null;
        }
      }
      this.session.setAttribute("passportNumber", this.txtPassportNo.getValue());
      this.session.setAttribute("idRegNumber", this.txtIdRegNum.getValue());
      this.session.setAttribute("pinNumber", this.txtPIN.getValue());
      if (this.txtClientLevel != null) {
        this.session.setAttribute("clientLevel", this.txtClientLevel.getValue());
      }
      if ((this.renderer.isCLIENT_INT_TELNO_REQUIRED()) && (intTelNo == null) && ("I".equalsIgnoreCase(type)))
      {
        GlobalCC.errorValueNotEntered("Error Value Missing:Enter International No Required");
        return null;
      }
      String zipCode = GlobalCC.checkNullValues(this.session.getAttribute("GsmZipCode"));
      
      sms = GlobalCC.checkSmsNo(zipCode, this.txtPrefixManager, this.txtSms);
      
      System.out.println("email2: " + email2);
      this.session.setAttribute("EMAIL2", this.txtEmail2.getValue());
      
      boolean relation = this.renderer.isCLIENT_RELATIONSHIP_OFFICER_REQUIRED();
      if ((relation == true) && (this.txtAccountManager.getValue() == null) && (this.txtDirectClient.getValue() == "Y"))
      {
        GlobalCC.INFORMATIONREPORTING("Please select a relationship manager");
        return null;
      }
      if ((this.txtReasonForUpdate.isVisible() == true) && (this.txtReasonForUpdate.getValue() == null))
      {
        GlobalCC.errorValueNotEntered("Please enter the reason for updating client");
        return null;
      }
      if ((this.renderer.isCLIENT_EMAIL_REQUIRED()) && (email == null))
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Enter the Email Address");
        return null;
      }
      if ((this.renderer.isCLIENT_TELEPHONE_REQUIRED()) && (phone1 == null) && (this.txtPhone1.isRendered()))
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Enter the Telephone  No.");
        return null;
      }
      String sms_0 = GlobalCC.checkNullValues(this.txtSms.getValue());
      String sms_format = this.renderer.getSMS_NO_FORMAT();
      if ((this.renderer.isCLIENT_SMS_REQUIRED()) && (sms_0 == null) && ("I".equalsIgnoreCase(type)))
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Enter the SMS No.");
        return null;
      }
      if ((sms_0 != null) && (!"".equals(sms_0)) && (!sms_format.equals("[NONE]"))) {
        if (!sms_0.matches(sms_format))
        {
          GlobalCC.errorValueNotEntered("Error Invalid SMS prefix 1 No." + sms_0 + " format. Use format: " + sms_format);
          
          return null;
        }
      }
      String sms_1 = GlobalCC.checkNullValues(this.txtPayTel.getValue());
      
      System.out.println("sms2prefix: " + sms_1);
      if ((this.renderer.isCLIENT_SMS_2_REQUIRED()) && (sms_1 == null))
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Enter the SMS No2.");
        return null;
      }
      if ((sms_1 != null) && (!"".equals(sms_1)) && (!sms_format.equals("[NONE]"))) {
        if (!sms_1.matches(sms_format))
        {
          GlobalCC.errorValueNotEntered("Error Invalid SMS prefix 2 No." + sms_1 + " format. Use format: " + sms_format);
          
          return null;
        }
      }
      if (surname == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Enter Client Name");
        return null;
      }
      if (wef == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: WEF date is missing");
        return null;
      }
      if (status == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Select Parameter Status");
        return null;
      }
      if ((directClient == null) && (clientAgencyTyingCheck.equals("Y")))
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Enter Parameter Description");
        return null;
      }
      if ((this.renderer.isCLIENT_STATE_REQUIRED()) && (stateCode == null))
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Enter State");
        return null;
      }
      if ((this.renderer.isCLIENT_CREDIT_RATING_REQUIRED()) && (this.txtCreditRting.getValue() == null))
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Enter Client Credit Rating");
        return null;
      }
      if ((bankAccNum == null) && (this.renderer.isCLIENT_BANK_ACCOUNT_NO_REQUIRED()))
      {
        GlobalCC.errorValueNotEntered("Enter Bank Account number!");
        return null;
      }
      if ((branchCode == null) && (this.renderer.isCLIENT_BANK_BRANCH_REQUIRED()))
      {
        GlobalCC.errorValueNotEntered("Enter Bank Branch!");
        return null;
      }
      if (this.btnCreateUpdateClient.getText().equals("Update"))
      {
        processCreateUpdateClient();
      }
      else
      {
        String upCaseOthNames = null;
        String upCaseSurNames = null;
        if (check_if_uppecaseRequired() == true)
        {
          if (otherNames != null) {
            upCaseOthNames = otherNames.toUpperCase();
          } else {
            upCaseOthNames = otherNames;
          }
          upCaseSurNames = surname.toUpperCase();
        }
        else
        {
          upCaseSurNames = surname;
          upCaseOthNames = otherNames;
        }
        this.session.setAttribute("otherNames", upCaseOthNames);
        this.session.setAttribute("surNames", upCaseSurNames);
        this.session.setAttribute("idRegNumber", this.txtIdRegNum.getValue());
        String pinStatus = null;
        if (this.session.getAttribute("pinStatus") != null) {
          pinStatus = (String)this.session.getAttribute("pinStatus");
        } else {
          pinStatus = null;
        }
        if ((this.txtPIN.getValue() == null) && (!GlobalCC.checkNullValues(this.session.getAttribute("CLIENT")).equalsIgnoreCase("AIICO")) && ((pinStatus == null) || (pinStatus.equals("NO"))))
        {
          GlobalCC.showPopup("pt1:pinReq");
          return null;
        }
        this.tbClientListingBasedOnNames.setRendered(true);
        ADFUtils.findIterator("fetchAllClientsByNamesIterator").executeQuery();
        if (this.txtSacco.getValue() != null)
        {
          if ((checkIfSaccoRequired() == true) && (this.txtSacco.getValue().equals("N")) && (this.txtHoldingCompany.getValue() == null))
          {
            GlobalCC.showPopup("pt1:saccoReq");
            return null;
          }
          processCreateUpdateClient();
        }
        else
        {
          int counter = 0;
          
          System.out.println("This is counting the number of records" + this.session.getAttribute("count"));
          if (this.session.getAttribute("count") != null)
          {
            System.out.println("This is counting the number of records" + this.session.getAttribute("count"));
            
            String noOfRecords = this.session.getAttribute("count").toString();
            
            System.out.println("This is noOfRecords the number of records" + noOfRecords);
            
            counter = Integer.parseInt(noOfRecords);
            if (counter >= 1)
            {
              GlobalCC.showPopup("pt1:p2");
              return null;
            }
          }
          processCreateUpdateClient();
          return null;
        }
        if ((checkIfSaccoRequired() == true) && (this.txtSacco.getValue() == null) && (this.txtProposer.getValue() == null) && (this.txtHoldingCompany.getValue() == null))
        {
          GlobalCC.showPopup("pt1:saccoReq");
          return null;
        }
      }
    }
    catch (Exception e)
    {
      e.printStackTrace();
      GlobalCC.EXCEPTIONREPORTING(e);
    }
    return null;
  }
  
  public void actionAlertDateListener(ValueChangeEvent valueChangeEvent)
  {
    RichInputDate comp = (RichInputDate)valueChangeEvent.getComponent();
    this.session.setAttribute("date", comp.getValue());
  }
  
  public String processCreateUpdateClient()
  {
    String resultMessage = null;
    String creditLimitAllowed = null;
    BigDecimal creditLimit = null;
    BigDecimal locationCode = null;
    String clientLevel = null;
    
    Authorization auth = new Authorization();
    String type = GlobalCC.checkNullValues(this.txtClientTypes.getValue());
    
    String email2 = GlobalCC.checkNullValues(this.txtEmail2.getValue());
    
    String checkedByComplianceOfficer = (String)this.session.getAttribute("checkedByComplianceOfficer");
    
    System.out.println("checkedByComplianceOfficer: " + checkedByComplianceOfficer);
    if (this.txtCreditAllowed.getValue() != null) {
      if (this.txtCreditAllowed.getValue().equals("Y"))
      {
        creditLimitAllowed = "Y";
        if (this.txtCreditLimit.getValue() != null) {
          creditLimit = new BigDecimal(this.txtCreditLimit.getValue().toString());
        } else {
          creditLimit = null;
        }
      }
      else
      {
        creditLimitAllowed = "N";
      }
    }
    String sacco; 
    if (this.txtSacco.getValue() != null) {
      sacco = this.txtSacco.getValue().toString();
    } else {
      sacco = "N";
    }
    String reasonforUpdates; 
    if (this.txtReasonForUpdate.getValue() != null) {
      reasonforUpdates = this.txtReasonForUpdate.getValue().toString();
    } else {
      reasonforUpdates = null;
    }
    String DriverExperience; 
    if (this.txtDrvExperience.getValue() != null) {
      DriverExperience = this.txtDrvExperience.getValue().toString();
    } else {
      DriverExperience = null;
    }
    BigDecimal systemCode; 
    if (this.session.getAttribute("systemCode") != null) {
      systemCode = new BigDecimal(this.session.getAttribute("systemCode").toString());
    } else {
      systemCode = null;
    }
    BigDecimal clntCode = GlobalCC.checkBDNullValues(this.session.getAttribute("ClientCode"));
    if (this.session.getAttribute("locCode") != null) {
      locationCode = new BigDecimal(this.session.getAttribute("locCode").toString());
    } else {
      locationCode = null;
    }
    if (this.session.getAttribute("clientLevel") != null) {
      clientLevel = this.session.getAttribute("clientLevel").toString();
    } else {
      clientLevel = null;
    }
    System.out.println("clientLevel: " + clientLevel);
    
    String option = null;
    String code = null;
    if (this.btnCreateUpdateClient.getText().toString().equalsIgnoreCase("Update"))
    {
      option = "E";
      
      String AccessGranted = auth.checkUserRights("CLCR", "CLAU", "CLAE", null, null);
      if ("Y".equalsIgnoreCase(AccessGranted) != true)
      {
        GlobalCC.accessDenied();
        return null;
      }
      String accountNumber = GlobalCC.checkNullValues(this.txtAccountNum.getValue());
      
      String id = GlobalCC.checkNullValues(this.txtId.getValue());
      if (id == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Enter Client Id");
        return null;
      }
      code = GlobalCC.checkNullValues(this.txtClientCode.getValue());
      if (code == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing:Client code Required");
        return null;
      }
      this.session.setAttribute("ClientCode", GlobalCC.checkBDNullValues(this.txtClientCode.getValue()));
    }
    else
    {
      option = "A";
      String AccessGranted = auth.checkUserRights("CLCR", "CLAU", "CLAC", null, null);
      if ("Y".equalsIgnoreCase(AccessGranted) != true)
      {
        GlobalCC.accessDenied();
        return null;
      }
    }
    if (option != null)
    {
      String upCaseOthNames = null;
      String upCaseSurNames = null;
      
      String clientCode = GlobalCC.checkNullValues(this.txtClientCode.getValue());
      
      String directClient = GlobalCC.checkNullValues(this.txtDirectClient.getValue());
      
      String accountNumber = GlobalCC.checkNullValues(this.txtAccountNum.getValue());
      
      String id = GlobalCC.checkNullValues(this.txtId.getValue());
      String title = GlobalCC.checkNullValues(this.txtClientTitleCode.getValue());
      
      String surname = GlobalCC.checkNullValues(this.txtSurname.getValue());
      String otherNames = GlobalCC.checkNullValues(this.txtOtherNames.getValue());
      
      String physicalAddress = GlobalCC.checkNullValues(this.txtPhysicalAddress.getValue());
      
      String postalAddress = GlobalCC.checkNullValues(this.txtPostalAddress.getValue());
      
      String stateCode = GlobalCC.checkNullValues(this.txtAdminRegionCode.getValue());
      
      String countryCode = GlobalCC.checkNullValues(this.txtCountryCode.getValue());
      
      String townCode = GlobalCC.checkNullValues(this.txtTownCode.getValue());
      String dob = GlobalCC.checkNullValues(this.txtDOB.getValue());
      String bankAccNum = GlobalCC.checkNullValues(this.txtBankAccNum.getValue());
      
      String passport = GlobalCC.checkNullValues(this.txtPassportNo.getValue());
      
      String pin = GlobalCC.checkNullValues(this.txtPIN.getValue());
      String idRegNum = GlobalCC.checkNullValues(this.txtIdRegNum.getValue());
      String email = GlobalCC.checkNullValues(this.txtEmail.getValue());
      String phone1 = GlobalCC.checkNullValues(this.txtPhone1.getValue());
      String sms = GlobalCC.checkNullValues(this.txtSms.getValue());
      String prefix = GlobalCC.checkNullValues(this.txtPrefixManager.getValue());
      
      String sms2 = GlobalCC.checkNullValues(this.txtPayTel.getValue());
      String prefix2 = GlobalCC.checkNullValues(this.txtTelPayPrefix.getValue());
      
      String fax = GlobalCC.checkNullValues(this.txtFax.getValue());
      String proposer = GlobalCC.checkNullValues(this.txtProposer.getValue());
      String wef = GlobalCC.checkNullValues(this.txtWef.getValue());
      String wet = GlobalCC.checkNullValues(this.txtWet.getValue());
      String status = GlobalCC.checkNullValues(this.txtStatus.getValue());
      String createdBy = GlobalCC.checkNullValues(this.txtCreatedBy.getValue());
      
      String dateCreated = GlobalCC.checkNullValues(this.txtDateCreated.getValue());
      
      String remarks = GlobalCC.checkNullValues(this.txtRemarks.getValue());
      String withdrawalReason = GlobalCC.checkNullValues(this.txtWithdrawalReason.getValue());
      
      String runOff = GlobalCC.checkNullValues(this.txtRunOff.getValue());
      String specialTerms = GlobalCC.checkNullValues(this.txtSpecialTerms.getValue());
      
      String cancelledPolicy = GlobalCC.checkNullValues(this.txtCancelledPolicy.getValue());
      
      String increasePremium = GlobalCC.checkNullValues(this.txtIncreasePremium.getValue());
      
      String declinedProposal = GlobalCC.checkNullValues(this.txtDeclinedProposal.getValue());
      
      String branchCode = GlobalCC.checkNullValues(this.txtBranchCode.getValue());
      
      BigDecimal divisionCode = GlobalCC.checkBDNullValues(this.txtDivisionCode.getValue());
      
      String accountManagerCode = GlobalCC.checkNullValues(this.txtAccountManagerCode.getValue());
      
      String sectorCode = GlobalCC.checkNullValues(this.txtSectorCode.getValue());
      
      String sectorName = GlobalCC.checkNullValues(this.txtSectorName.getValue());
      
      String domicileCountriesCode = GlobalCC.checkNullValues(this.txtDomicileCountriesCode.getValue());
      
      String contactName1 = GlobalCC.checkNullValues(this.txtContactName1.getValue());
      
      String contactPhone1 = GlobalCC.checkNullValues(this.txtContactPhone1.getValue());
      
      String contactEmail1 = GlobalCC.checkNullValues(this.txtContactEmail1.getValue());
      
      String contactName2 = GlobalCC.checkNullValues(this.txtContactName2.getValue());
      
      String contactPhone2 = GlobalCC.checkNullValues(this.txtContactPhone2.getValue());
      
      String contactEmail2 = GlobalCC.checkNullValues(this.txtContactEmail2.getValue());
      
      String auditors = GlobalCC.checkNullValues(this.txtAuditors.getValue());
      String website = GlobalCC.checkNullValues(this.txtWebsite.getValue());
      String parentcompany = GlobalCC.checkNullValues(this.txtParentCompany.getValue());
      
      String current_insurer = GlobalCC.checkNullValues(this.txtInsurer.getValue());
      
      String projectedBiz = GlobalCC.checkNullValues(this.txtProjectedBiz.getValue());
      
      String dateofempoyment = GlobalCC.checkNullValues(this.txtDateOfEmployment.getValue());
      
      String drivingLicence = GlobalCC.checkNullValues(this.txtDLNo.getValue());
      
      String regBranchCode = GlobalCC.checkNullValues(this.txtRegBranchCode.getValue());
      
      BigDecimal accMgr = GlobalCC.checkBDNullValues(this.txtAccountOfficerCode.getValue());
      
      String gender = GlobalCC.checkNullValues(this.txtGender.getValue());
      String cltOccupation = GlobalCC.checkNullValues(this.txtCltOccupation.getValue());
      
      String cltCellNos = GlobalCC.checkNullValues(this.txtClientCellNos.getValue());
      
      String cltBankTelNo = GlobalCC.checkNullValues(this.txtCltBankTelNo.getValue());
      
      String cltBankCellNo = GlobalCC.checkNullValues(this.txtCltBankCellNo.getValue());
      
      String cltEmployerTelNo = GlobalCC.checkNullValues(this.txtCltEmployerTelNo.getValue());
      
      String cltEmployerCellNo = GlobalCC.checkNullValues(this.txtCltEmployerCellNo.getValue());
      
      String CouZipCode = GlobalCC.checkNullValues(this.txtCountryCode2.getValue());
      
      sms = GlobalCC.checkSmsNo(CouZipCode, this.txtPrefixManager, this.txtSms);
      System.out.println("SMS1=" + sms);
      
      sms2 = GlobalCC.checkSmsNo(CouZipCode, this.txtTelPayPrefix, this.txtPayTel);
      System.out.println("SMS2=" + sms2);
      
      String intNo = GlobalCC.checkNullValues(this.txtIntTel.getValue());
      
      String countryInt = null;
      if (("AIICO".equalsIgnoreCase((String)this.session.getAttribute("CLIENT"))) && (GlobalCC.checkNullValues(this.txtIntTel.getValue()) != null))
      {
        intNo = GlobalCC.checkNullValues(this.txtIntTel.getValue());
        countryInt = GlobalCC.checkNullValues(this.txtCountryCode3.getValue());
        if (countryInt != null)
        {
          if (countryInt.startsWith("+")) {
            countryInt = countryInt.replaceFirst("+", "");
          }
          intNo = countryInt + "" + intNo;
        }
      }
      if ((bankAccNum == null) && (this.renderer.isCLIENT_BANK_ACCOUNT_NO_REQUIRED()))
      {
        GlobalCC.errorValueNotEntered("Enter Bank Account number!");
        return null;
      }
      if ((branchCode == null) && (this.renderer.isCLIENT_BANK_BRANCH_REQUIRED()))
      {
        GlobalCC.errorValueNotEntered("Enter Bank Branch!");
        return null;
      }
      if (check_if_uppecaseRequired() == true)
      {
        if (otherNames != null) {
          upCaseOthNames = otherNames.toUpperCase();
        } else {
          upCaseOthNames = otherNames;
        }
        upCaseSurNames = surname.toUpperCase();
      }
      else
      {
        upCaseSurNames = surname;
        upCaseOthNames = otherNames;
      }
      DBConnector connector = new DBConnector();
      OracleCallableStatement cst = null;
      OracleConnection conn = null;
      try
      {
        String Query = "begin ? := tqc_clients_pkg.client_extended_proc(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?); end;";
        
        conn = connector.getDatabaseConnection();
        
        cst = (OracleCallableStatement)conn.prepareCall(Query);
        
        cst.registerOutParameter(1, 2);
        cst.setString(2, directClient);
        cst.setString(3, id);
        cst.setString(4, null);
        cst.setString(5, upCaseOthNames);
        cst.setString(6, upCaseSurNames);
        cst.setString(7, pin);
        cst.setString(8, postalAddress);
        cst.setString(9, physicalAddress);
        cst.setString(10, idRegNum);
        cst.setString(11, (String)this.session.getAttribute("Username"));
        cst.setDate(12, GlobalCC.extractDate(this.txtWef));
        cst.setDate(13, GlobalCC.extractDate(this.txtWet));
        cst.setString(14, title);
        cst.setDate(15, GlobalCC.extractDate(this.txtDOB));
        cst.setString(16, countryCode);
        cst.setString(17, townCode);
        cst.setObject(18, this.txtZipCode.getValue());
        cst.setString(19, email);
        cst.setString(20, phone1);
        cst.setString(21, sms);
        cst.setString(22, fax);
        cst.setString(23, sectorCode);
        cst.setString(24, sectorName);
        cst.setString(25, domicileCountriesCode);
        cst.setString(26, proposer);
        cst.setString(27, status);
        cst.setString(28, runOff);
        cst.setString(29, withdrawalReason);
        
        cst.setString(30, remarks);
        cst.setString(31, null);
        cst.setString(32, null);
        cst.setString(33, specialTerms);
        cst.setString(34, cancelledPolicy);
        cst.setString(35, increasePremium);
        cst.setString(36, declinedProposal);
        cst.setString(37, type);
        cst.setString(38, option);
        
        System.out.println("Client Code" + clntCode);
        
        cst.setBigDecimal(39, clntCode);
        
        cst.setString(40, accountManagerCode);
        cst.setString(41, contactName1);
        cst.setString(42, contactPhone1);
        cst.setString(43, contactEmail1);
        cst.setString(44, contactName2);
        cst.setString(45, contactPhone2);
        cst.setString(46, contactEmail2);
        cst.setString(47, passport);
        cst.setBigDecimal(48, stateCode == null ? null : new BigDecimal(stateCode));
        
        cst.setString(49, website);
        cst.setString(50, auditors);
        cst.setBigDecimal(51, parentcompany == null ? null : new BigDecimal(parentcompany));
        
        cst.setString(52, current_insurer);
        cst.setBigDecimal(53, projectedBiz == null ? null : new BigDecimal(projectedBiz));
        
        cst.setDate(54, GlobalCC.extractDate(this.txtDateOfEmployment));
        cst.setString(55, drivingLicence);
        cst.setString(56, regBranchCode);
        
        UploadedFile _file = (UploadedFile)this.uploadedPicture.getValue();
        
        System.out.println("_file2 " + _file);
        InputStream inp = null;
        boolean isOk = false;
        if (this.session.getAttribute("ClientCode") == null)
        {
          if (_file != null)
          {
            isOk = GlobalCC.validateUploadedImgFile(fileStream, "Client Image", fileContent).booleanValue();
            if (!isOk)
            {
              this.uploadedPicture.setValue(null);
              GlobalCC.refreshUI(this.uploadedPicture);
              
              return null;
            }
            inp = _file.getInputStream();
          }
          UploadedFile _fileSignature = (UploadedFile)this.uploadSignature.getValue();
          
          InputStream inpSign = null;
          boolean isSignOk = false;
          if (_fileSignature != null)
          {
            isOk = GlobalCC.validateUploadedImgFile(fileStream2, "signature", fileContent2).booleanValue();
            if (!isSignOk)
            {
              this.uploadSignature.setValue(null);
              GlobalCC.refreshUI(this.uploadSignature);
              
              return null;
            }
            inpSign = _fileSignature.getInputStream();
          }
          cst.setBlob(57, fileStream);
          cst.setBlob(58, fileStream2);
        }
        else
        {
          fileStream = null;
          fileStream2 = null;
          cst.setBlob(57, fileStream);
          cst.setBlob(58, fileStream2);
        }
        cst.setBigDecimal(59, accMgr);
        cst.setString(60, gender);
        cst.setString(61, cltOccupation);
        cst.setString(62, cltBankTelNo);
        cst.setString(63, cltBankCellNo);
        cst.setString(64, cltEmployerTelNo);
        cst.setString(65, cltEmployerCellNo);
        cst.setString(66, cltCellNos);
        cst.setString(67, type);
        cst.registerOutParameter(68, 2);
        
        cst.registerOutParameter(69, 12);
        String oldShtDesc = GlobalCC.checkNullValues(this.legacyShtDesc.getValue());
        
        cst.setString(70, oldShtDesc);
        cst.setDate(71, this.txtAnniversary.getValue() != null ? GlobalCC.extractDate(this.txtAnniversary) : null);
        
        cst.setObject(72, this.txtCreditRting.getValue() != null ? this.txtCreditRting.getValue() : null);
        
        cst.setBigDecimal(73, systemCode);
        cst.setString(74, DriverExperience);
        cst.setString(75, sacco);
        cst.setBigDecimal(76, clntCode);
        cst.setString(77, reasonforUpdates);
        cst.setString(78, creditLimitAllowed);
        cst.setObject(79, creditLimit);
        cst.setObject(80, locationCode);
        cst.setObject(81, this.session.getAttribute("occupationCode"));
        cst.setObject(82, this.txtBouncedCheque.getValue());
        cst.setObject(83, this.txtMaritalStatus.getValue());
        cst.setObject(84, this.txtModeOfComm.getValue());
        cst.setObject(85, this.txtPayroll.getValue());
        cst.setObject(86, this.txtMinSalary.getValue());
        cst.setObject(87, this.txtMaxSalary.getValue());
        cst.setDate(88, GlobalCC.extractDate(this.txtDlIssueDate));
        cst.setObject(89, this.txtWorkPermit.getValue());
        cst.setString(90, null);
        cst.setString(91, clientLevel);
        cst.setString(92, sms2);
        cst.setObject(93, GlobalCC.checkNullValues(this.session.getAttribute("EMAIL2")));
        
        cst.setString(94, intNo);
        cst.setString(95, checkedByComplianceOfficer);
        cst.setObject(96, this.txtDirectClient.getValue());
        cst.setObject(97, this.txtPrefixManager.getValue());
        cst.setObject(98, this.session.getAttribute("SPZ_CODE"));
        cst.setBigDecimal(99, divisionCode);
        cst.setBigDecimal(100, GlobalCC.checkBDNullValues(this.txtCountryCode2.getValue()));
        
        cst.setBigDecimal(101, GlobalCC.checkBDNullValues(this.txtCountryCode3.getValue()));
        
        cst.execute();
        
        BigDecimal returnedClientCode = cst.getBigDecimal(68);
        this.session.setAttribute("bactAccCode", returnedClientCode);
        this.session.setAttribute("ClientCode", returnedClientCode);
        this.session.setAttribute("clientCode", returnedClientCode);
        this.session.setAttribute("uwclientCode", returnedClientCode);
        this.session.setAttribute("clientPRPCode", returnedClientCode);
        this.session.setAttribute("insuredCode", returnedClientCode);
        
        String returnedShortDesc = cst.getString(69);
        this.session.setAttribute("clientDesc", returnedShortDesc);
        this.session.setAttribute("insuredShtDesc", returnedShortDesc);
        if (this.txtAgencyCode.getValue() != null)
        {
          Query = "begin TQC_CLIENTS_PKG.clientAgent(?,?,?); end; ";
          cst = (OracleCallableStatement)conn.prepareCall(Query);
          cst.setString(1, option);
          cst.setBigDecimal(2, returnedClientCode);
          cst.setObject(3, this.txtAgencyCode.getValue());
          
          cst.execute();
        }
        ADFUtils.findIterator("fetchAllClientsIterator").executeQuery();
        
        this.uploadSignature.setValue(null);
        GlobalCC.refreshUI(this.uploadSignature);
        this.uploadedPicture.setValue(null);
        GlobalCC.refreshUI(this.uploadedPicture);
        
        cst.close();
        conn.commit();
        conn.close();
        java.util.Date date = new java.util.Date();
        this.txtDateCreated.setValue(date);
        this.txtCreatedBy.setValue(this.session.getAttribute("Username"));
        GlobalCC.refreshUI(this.txtDateCreated);
        GlobalCC.refreshUI(this.txtCreatedBy);
        
        this.btnCreateUpdateClient.setDisabled(false);
        if (option.equalsIgnoreCase("A"))
        {
          String message = "New Client Record CREATED successfully!";
          GlobalCC.INFORMATIONREPORTING(message);
          GlobalCC.INFORMATIONREPORTING("U can now Submit Required Documents");
          ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
          
          erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:p2').hide(hints);");
          
          this.session.setAttribute("ClientCode", returnedClientCode);
          this.clientPhoto.setSource("/clientimagesservlet?id=" + this.session.getAttribute("ClientCode"));
          
          this.clientSignature.setSource("/clientsignatureservlet?id=" + this.session.getAttribute("ClientCode"));
          
          this.txtId.setValue(returnedShortDesc);
          this.txtClientCode.setValue(returnedClientCode);
          this.session.setAttribute("clientShtDesc", returnedShortDesc);
          this.session.setAttribute("clientName", upCaseOthNames + " " + upCaseSurNames);
          
          GlobalCC.refreshUI(this.clientPhoto);
          GlobalCC.refreshUI(this.clientSignature);
          
          GlobalCC.refreshUI(this.txtClientCode);
          
          refreshTabsForNewClient();
          
          fileStream = null;
          fileContent = null;
          fileStream2 = null;
          fileContent2 = null;
        }
        else
        {
          ADFUtils.findIterator("fetchClientsByCriteriaIterator").executeQuery();
          
          this.uploadSignature.setValue(null);
          GlobalCC.refreshUI(this.uploadSignature);
          this.uploadedPicture.setValue(null);
          GlobalCC.refreshUI(this.uploadedPicture);
          this.clientPhoto.setSource("/clientimagesservlet?id=" + this.session.getAttribute("ClientCode"));
          
          this.clientSignature.setSource("/clientsignatureservlet?id=" + this.session.getAttribute("ClientCode"));
          
          String message = "New Client Updated  successfully!";
          GlobalCC.INFORMATIONREPORTING(message);
          fileStream = null;
          fileContent = null;
          fileStream2 = null;
          fileContent2 = null;
        }
      }
      catch (SQLException e)
      {
        GlobalCC.EXCEPTIONREPORTING(conn, e);
        e.printStackTrace();
      }
      catch (IOException e)
      {
        GlobalCC.EXCEPTIONREPORTING(null, e);
        e.printStackTrace();
      }
    }
    return null;
  }
  
  public void refreshTabsForNewClient()
  {
    BigDecimal clientCode = new BigDecimal(this.session.getAttribute("ClientCode").toString());
    
    this.hiddenClientCode.setValue(clientCode);
    GlobalCC.refreshUI(this.panelDetailSystems);
    
    this.btnCreateUpdateClient.setText("Update");
    this.session.setAttribute("client_action", "E");
    this.btnCreateUpdateClient.setDisabled(false);
    
    ADFUtils.findIterator("fetchClientAccountsIterator").executeQuery();
    GlobalCC.refreshUI(this.tblClientAccounts);
    
    ADFUtils.findIterator("fetchClientWebAccountsIterator").executeQuery();
    GlobalCC.refreshUI(this.tblwebAccounts);
    
    ADFUtils.findIterator("fetchUnallocatedClientSystemsIterator").executeQuery();
    ADFUtils.findIterator("fetchAllocatedClientSystemsIterator").executeQuery();
    GlobalCC.refreshUI(this.treeUnassignedClientSystems);
    GlobalCC.refreshUI(this.treeAssignedClientSystems);
    
    ADFUtils.findIterator("fetchClientRequiredDocsIterator").executeQuery();
    GlobalCC.refreshUI(this.tblRequiredDocs);
    
    switchClientTabs(mode.EDIT_MODE);
  }
  
  public String actionDeleteClient()
  {
    if (this.session.getAttribute("ClientCode") != null)
    {
      this.clientCodeValue.setValue(this.session.getAttribute("ClientCode").toString());
      String msg = "Are you sure you wish to DELETE Client number " + this.session.getAttribute("ClientCode").toString();
      
      this.olConfirmMsgValue.setValue(msg);
      
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:confirmationDialog').show(hints);");
    }
    else
    {
      GlobalCC.errorValueNotEntered("You need to select a Client first!");
    }
    return null;
  }
  
  public String actionNewWebAccount()
  {
    if (this.session.getAttribute("ClientCode") != null)
    {
      this.txtAccUsername.setValue(null);
      this.txtAccUsername.setDisabled(false);
      this.txtAccFullNames.setRendered(false);
      this.txtAccPassword.setValue(null);
      this.txtAccEmail.setValue(null);
      this.txtAccCode.setValue(null);
      this.txtAccPersonelRank.setValue(null);
      this.txtAccPassword.setRendered(true);
      this.btnSaveUpdateWebAccount.setText("Save");
      
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:webAccountPop').show(hints);");
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("No client Selected::");
    }
    return null;
  }
  
  public String actionSaveUpdateWebAccount()
  {
    if (this.btnSaveUpdateWebAccount.getText().equals("Update"))
    {
      actionUpdateWebAccount();
    }
    else
    {
      String accCode = null;
      String accUsername = GlobalCC.checkNullValues(this.txtAccUsername.getValue());
      
      String accPassword = GlobalCC.checkNullValues(this.txtAccPassword.getValue());
      
      String accPersonelRank = GlobalCC.checkNullValues(this.txtAccPersonelRank.getValue());
      
      String accStatus = GlobalCC.checkNullValues(this.txtAccStatus.getValue());
      
      String accAllowLogin = GlobalCC.checkNullValues(this.txtAccAllowLogin.getValue());
      
      String accEmail = GlobalCC.checkNullValues(this.txtAccEmail.getValue());
      if (accUsername == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Username is Empty");
        return null;
      }
      if (accPassword == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Password field is missing");
        return null;
      }
      if (accPersonelRank == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Enter Personel Rank");
        return null;
      }
      if (accStatus == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Select a status");
        return null;
      }
      String Query = "begin tqc_clients_pkg.create_client_web_account(?,?,?,?,?,?,?,?,?,?,?,?,?); end;";
      
      DBConnector connector = new DBConnector();
      OracleCallableStatement cst = null;
      OracleConnection conn = null;
      try
      {
        conn = connector.getDatabaseConnection();
        cst = (OracleCallableStatement)conn.prepareCall(Query);
        
        cst.setString(1, accUsername);
        cst.setString(2, accPassword);
        cst.setString(3, accAllowLogin);
        cst.setString(4, null);
        cst.setString(5, null);
        cst.setString(6, accPersonelRank);
        cst.setString(7, accStatus);
        cst.setBigDecimal(8, new BigDecimal(this.session.getAttribute("ClientCode").toString()));
        
        cst.setString(9, (String)this.session.getAttribute("Username"));
        cst.setString(10, accEmail);
        cst.setString(11, "A");
        cst.setBigDecimal(12, null);
        if (this.session.getAttribute("clientTypes").equals("C")) {
          cst.setString(13, "G");
        } else {
          cst.setString(13, "I");
        }
        cst.execute();
        
        cst.close();
        conn.commit();
        conn.close();
        
        ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
        
        erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:webAccountPop').hide(hints);");
        
        String message = "Web Account Saved Successfully!";
        FacesContext.getCurrentInstance().addMessage(null, new FacesMessage(message));
        
        ADFUtils.findIterator("fetchClientWebAccountsIterator").executeQuery();
        GlobalCC.refreshUI(this.tblwebAccounts);
      }
      catch (Exception e)
      {
        GlobalCC.EXCEPTIONREPORTING(conn, e);
      }
    }
    return null;
  }
  
  public String actionUpdateWebAccount()
  {
    String accCode = GlobalCC.checkNullValues(this.txtAccCode.getValue());
    String accUsername = GlobalCC.checkNullValues(this.txtAccUsername.getValue());
    
    String accPassword = GlobalCC.checkNullValues(this.txtAccPassword.getValue());
    
    String accPersonelRank = GlobalCC.checkNullValues(this.txtAccPersonelRank.getValue());
    
    String accStatus = GlobalCC.checkNullValues(this.txtAccStatus.getValue());
    String accAllowLogin = GlobalCC.checkNullValues(this.txtAccAllowLogin.getValue());
    
    String accEmail = GlobalCC.checkNullValues(this.txtAccEmail.getValue());
    if (accCode == null)
    {
      GlobalCC.errorValueNotEntered("Error Value Missing: Account Code is Empty");
      return null;
    }
    if (accUsername == null)
    {
      GlobalCC.errorValueNotEntered("Error Value Missing: Username is Empty");
      return null;
    }
    if (accPersonelRank == null)
    {
      GlobalCC.errorValueNotEntered("Error Value Missing: Enter Personel Rank");
      return null;
    }
    if (accStatus == null)
    {
      GlobalCC.errorValueNotEntered("Error Value Missing: Select a status");
      return null;
    }
    String Query = "begin tqc_clients_pkg.create_client_web_account(?,?,?,?,?,?,?,?,?,?,?,?,?); end;";
    
    DBConnector connector = new DBConnector();
    OracleCallableStatement cst = null;
    OracleConnection conn = null;
    try
    {
      conn = connector.getDatabaseConnection();
      cst = (OracleCallableStatement)conn.prepareCall(Query);
      
      cst.setString(1, accUsername);
      cst.setString(2, accPassword);
      cst.setString(3, accAllowLogin);
      cst.setString(4, null);
      cst.setString(5, null);
      cst.setString(6, accPersonelRank);
      cst.setString(7, accStatus);
      cst.setBigDecimal(8, new BigDecimal(this.session.getAttribute("ClientCode").toString()));
      
      cst.setString(9, (String)this.session.getAttribute("Username"));
      cst.setString(10, accEmail);
      cst.setString(11, "E");
      cst.setBigDecimal(12, new BigDecimal(accCode));
      if (this.session.getAttribute("clientTypes").equals("C")) {
        cst.setString(13, "G");
      } else {
        cst.setString(13, "I");
      }
      cst.execute();
      
      cst.close();
      conn.commit();
      conn.close();
      
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:webAccountPop').hide(hints);");
      
      String message = "Web Account Edited Successfully!";
      FacesContext.getCurrentInstance().addMessage(null, new FacesMessage(message));
      
      ADFUtils.findIterator("fetchClientWebAccountsIterator").executeQuery();
      GlobalCC.refreshUI(this.tblwebAccounts);
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(conn, e);
    }
    return null;
  }
  
  public void setTblwebAccounts(RichTable tblwebAccounts)
  {
    this.tblwebAccounts = tblwebAccounts;
  }
  
  public RichTable getTblwebAccounts()
  {
    return this.tblwebAccounts;
  }
  
  public String actionDeleteWebAccount()
  {
    Object key2 = this.tblwebAccounts.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:confirmDeleteClientWebAccount').show(hints);");
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("No Record selected.");
      return null;
    }
    return null;
  }
  
  public void actionConfirmDeleteWebAcc(DialogEvent dialogEvent)
  {
    if (!dialogEvent.getOutcome().equals(DialogEvent.Outcome.no)) {
      if (dialogEvent.getOutcome().equals(DialogEvent.Outcome.yes))
      {
        Object key2 = this.tblwebAccounts.getSelectedRowData();
        JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
        
        BigDecimal clientAccountCode = null;
        clientAccountCode = (BigDecimal)nodeBinding.getAttribute("clientAccCode");
        
        String Query = "begin tqc_clients_pkg.create_client_web_account(?,?,?,?,?,?,?,?,?,?,?,?,?); end;";
        
        DBConnector connector = new DBConnector();
        OracleCallableStatement cst = null;
        OracleConnection conn = null;
        try
        {
          conn = connector.getDatabaseConnection();
          cst = (OracleCallableStatement)conn.prepareCall(Query);
          
          cst.setString(1, null);
          cst.setString(2, null);
          cst.setString(3, null);
          cst.setString(4, null);
          cst.setString(5, null);
          cst.setString(6, null);
          cst.setString(7, null);
          cst.setBigDecimal(8, null);
          cst.setString(9, null);
          cst.setString(10, null);
          cst.setString(11, "D");
          cst.setBigDecimal(12, clientAccountCode);
          if (this.session.getAttribute("clientTypes").equals("C")) {
            cst.setString(13, "G");
          } else {
            cst.setString(13, "I");
          }
          cst.execute();
          
          cst.close();
          conn.commit();
          conn.close();
          
          ADFUtils.findIterator("fetchClientWebAccountsIterator").executeQuery();
          GlobalCC.refreshUI(this.tblwebAccounts);
          
          String message = "Web Account Deleted Successfully!";
          GlobalCC.INFORMATIONREPORTING(message);
        }
        catch (Exception e)
        {
          GlobalCC.EXCEPTIONREPORTING(conn, e);
        }
      }
    }
  }
  
  public void actionConfirmDeleteRequiredDocs(DialogEvent dialogEvent)
  {
    if (!dialogEvent.getOutcome().equals(DialogEvent.Outcome.no)) {
      if (dialogEvent.getOutcome().equals(DialogEvent.Outcome.yes))
      {
        Object key2 = this.tblRequiredDocs.getSelectedRowData();
        JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
        String Query = "begin TQC_WEB_PKG.saveClientDocuments(?,?,?,?,?,?,?,?,?); end;";
        
        DBConnector connector = new DBConnector();
        OracleCallableStatement cst = null;
        OracleConnection conn = null;
        try
        {
          conn = connector.getDatabaseConnection();
          cst = (OracleCallableStatement)conn.prepareCall(Query);
          
          cst.setString(1, "D");
          cst.setBigDecimal(2, new BigDecimal(nodeBinding.getAttribute("CDOCR_CODE").toString()));
          
          cst.setBigDecimal(3, new BigDecimal(nodeBinding.getAttribute("CDOCR_RDOC_CODE").toString()));
          
          cst.setString(4, null);
          cst.setString(5, null);
          cst.setDate(6, null);
          cst.setString(7, null);
          cst.setString(8, null);
          cst.setString(9, this.session.getAttribute("Username").toString());
          
          cst.execute();
          
          cst.close();
          conn.commit();
          conn.close();
        }
        catch (Exception e)
        {
          GlobalCC.EXCEPTIONREPORTING(conn, e);
        }
        ADFUtils.findIterator("fetchClientRequiredDocsIterator").executeQuery();
        GlobalCC.refreshUI(this.tblRequiredDocs);
      }
    }
  }
  
  public String actionEditWebAccount()
  {
    Object key2 = this.tblwebAccounts.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.txtAccUsername.setValue(nodeBinding.getAttribute("clientAccUserName"));
      this.txtAccUsername.setDisabled(true);
      this.txtAccFullNames.setValue(nodeBinding.getAttribute("clientAccName"));
      this.txtAccFullNames.setRendered(false);
      this.txtAccPassword.setRendered(false);
      this.txtAccEmail.setValue(nodeBinding.getAttribute("clientAccEmail"));
      this.txtAccCode.setValue(nodeBinding.getAttribute("clientAccCode"));
      this.txtAccPersonelRank.setValue(nodeBinding.getAttribute("clientAccPersonelRank"));
      this.txtAccStatus.setValue(nodeBinding.getAttribute("clientAccStatus"));
      this.txtAccAllowLogin.setValue(nodeBinding.getAttribute("clientAccLoginAllowed"));
      
      this.btnSaveUpdateWebAccount.setText("Update");
      
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:webAccountPop').show(hints);");
    }
    return null;
  }
  
  public void setPanelClientSystems(RichPanelBox panelClientSystems)
  {
    this.panelClientSystems = panelClientSystems;
  }
  
  public RichPanelBox getPanelClientSystems()
  {
    return this.panelClientSystems;
  }
  
  public void setTreeAssignedClientSystems(RichTree treeAssignedClientSystems)
  {
    this.treeAssignedClientSystems = treeAssignedClientSystems;
  }
  
  public RichTree getTreeAssignedClientSystems()
  {
    return this.treeAssignedClientSystems;
  }
  
  public void setTreeUnassignedClientSystems(RichTree treeUnassignedClientSystems)
  {
    this.treeUnassignedClientSystems = treeUnassignedClientSystems;
  }
  
  public RichTree getTreeUnassignedClientSystems()
  {
    return this.treeUnassignedClientSystems;
  }
  
  public void unassignedClientSystemSelectionListener(SelectionEvent selectionEvent)
  {
    if (selectionEvent.getAddedSet() != selectionEvent.getRemovedSet())
    {
      RowKeySet keys = selectionEvent.getAddedSet();
      if ((keys != null) && (keys.getSize() > 0)) {
        for (Object treeRowKey : keys)
        {
          this.treeUnassignedClientSystems.setRowKey(treeRowKey);
          JUCtrlHierNodeBinding nd = (JUCtrlHierNodeBinding)this.treeUnassignedClientSystems.getRowData();
          
          this.txtSelectedClientSystemCode.setValue(nd.getRow().getAttribute("sysCode"));
        }
      }
    }
    GlobalCC.refreshUI(this.panelDetailSystems);
  }
  
  public void assignedClientSystemSelectionListener(SelectionEvent selectionEvent)
  {
    if (selectionEvent.getAddedSet() != selectionEvent.getRemovedSet())
    {
      RowKeySet keys = selectionEvent.getAddedSet();
      if ((keys != null) && (keys.getSize() > 0)) {
        for (Object treeRowKey : keys)
        {
          this.treeAssignedClientSystems.setRowKey(treeRowKey);
          JUCtrlHierNodeBinding nd = (JUCtrlHierNodeBinding)this.treeAssignedClientSystems.getRowData();
          
          this.txtSelectedClientSystemCode.setValue(nd.getRow().getAttribute("sysCode"));
        }
      }
    }
    GlobalCC.refreshUI(this.panelDetailSystems);
  }
  
  public void switchClientTabs(mode mode)
  {
    switch (mode)
    {
    case EDIT_MODE: 
      this.tabClientSystems.setRendered(true);
      this.tabClientWebAccounts.setRendered(true);
      this.tabClientDocs.setRendered(true);
      this.tabDetailCreateClient.setDisclosed(true);
      this.tabDetailSearchClients.setDisclosed(false);
      this.tabDetailCreateClient.setVisible(true);
      this.tabClientAccounts.setVisible(true);
      GlobalCC.refreshUI(this.tabDetailCreateClient);
      GlobalCC.refreshUI(this.tabClientAccounts);
      if (this.sbrCorporate.isSelected())
      {
        this.tabDirectors.setVisible(true);
        this.tabAuditors.setVisible(true);
        
        this.txtParentCompanyCode.setVisible(true);
        
        this.layClientImage.setVisible(false);
      }
      else
      {
        this.tabDirectors.setVisible(false);
        this.tabAuditors.setVisible(false);
        this.layClientImage.setVisible(true);
      }
      GlobalCC.refreshUI(this.mainPanel);
      break;
    case NEW_MODE: 
      this.tabClientSystems.setRendered(false);
      this.tabClientWebAccounts.setRendered(false);
      this.tabClientDocs.setRendered(true);
      this.tabDetailCreateClient.setDisclosed(true);
      this.tabDetailSearchClients.setDisclosed(false);
      this.tabDetailCreateClient.setVisible(true);
      GlobalCC.refreshUI(this.tabDetailCreateClient);
      this.session.setAttribute("ClientCode", null);
      
      this.sbrIndividual.setSelected(true);
      this.layClientImage.setVisible(true);
      
      this.clientSignature.setSource(null);
      this.clientPhoto.setSource(null);
      GlobalCC.refreshUI(this.mainPanel);
      break;
    case DEFAULT_MODE: 
      this.tabDetailSearchClients.setDisclosed(true);
      GlobalCC.refreshUI(this.mainPanel);
    }
  }
  
  public String processAddClientSystem()
  {
    boolean processStatusOK = true;
    if ((this.session.getAttribute("ClientCode") == null) || (this.session.getAttribute("ClientCode") == ""))
    {
      processStatusOK = false;
      GlobalCC.errorValueNotEntered("You need to select a Client first.");
    }
    if ((this.txtSelectedClientSystemCode.getValue() == null) || (this.txtSelectedClientSystemCode.getValue() == ""))
    {
      processStatusOK = false;
      GlobalCC.errorValueNotEntered("You need to select a System first.");
    }
    String status = check_ifclientActive();
    if (!status.equals("A"))
    {
      GlobalCC.INFORMATIONREPORTING("The Client Status Should be Active::");
      return null;
    }
    if (processStatusOK)
    {
      DBConnector connector = new DBConnector();
      OracleConnection connection = null;
      try
      {
        connection = connector.getDatabaseConnection();
        
        String query = "begin tqc_clients_pkg.alloc_clnt_system(?,?); end;";
        
        OracleCallableStatement statement = null;
        
        statement = (OracleCallableStatement)connection.prepareCall(query);
        
        statement.setBigDecimal(1, new BigDecimal(this.hiddenClientCode.getValue().toString()));
        
        statement.setString(2, this.txtSelectedClientSystemCode.getValue().toString());
        
        statement.execute();
        connection.close();
      }
      catch (Exception e)
      {
        GlobalCC.EXCEPTIONREPORTING(connection, e);
      }
    }
    this.txtSelectedClientSystemCode.setValue(null);
    
    ADFUtils.findIterator("fetchUnallocatedClientSystemsIterator").executeQuery();
    ADFUtils.findIterator("fetchAllocatedClientSystemsIterator").executeQuery();
    GlobalCC.refreshUI(this.treeUnassignedClientSystems);
    GlobalCC.refreshUI(this.treeAssignedClientSystems);
    
    return null;
  }
  
  public String processRemoveClientSystem()
  {
    boolean processStatusOK = true;
    if ((this.session.getAttribute("ClientCode") == null) || (this.session.getAttribute("ClientCode") == ""))
    {
      processStatusOK = false;
      GlobalCC.errorValueNotEntered("You need to select a Client first.");
    }
    if ((this.txtSelectedClientSystemCode.getValue() == null) || (this.txtSelectedClientSystemCode.getValue() == ""))
    {
      processStatusOK = false;
      GlobalCC.errorValueNotEntered("You need to select a System first.");
    }
    if (processStatusOK)
    {
      DBConnector connector = new DBConnector();
      OracleConnection connection = null;
      try
      {
        connection = connector.getDatabaseConnection();
        
        String query = "begin tqc_clients_pkg.unalloc_clnt_system(?,?); end;";
        
        OracleCallableStatement statement = null;
        
        statement = (OracleCallableStatement)connection.prepareCall(query);
        
        statement.setBigDecimal(1, new BigDecimal(this.session.getAttribute("ClientCode").toString()));
        
        statement.setBigDecimal(2, new BigDecimal(this.txtSelectedClientSystemCode.getValue().toString()));
        
        statement.execute();
        
        statement.close();
        connection.commit();
        connection.close();
      }
      catch (Exception e)
      {
        GlobalCC.EXCEPTIONREPORTING(connection, e);
      }
    }
    this.txtSelectedClientSystemCode.setValue(null);
    
    ADFUtils.findIterator("fetchUnallocatedClientSystemsIterator").executeQuery();
    ADFUtils.findIterator("fetchAllocatedClientSystemsIterator").executeQuery();
    GlobalCC.refreshUI(this.treeUnassignedClientSystems);
    GlobalCC.refreshUI(this.treeAssignedClientSystems);
    
    return null;
  }
  
  public void setTblRequiredDocs(RichTable tblRequiredDocs)
  {
    this.tblRequiredDocs = tblRequiredDocs;
  }
  
  public RichTable getTblRequiredDocs()
  {
    return this.tblRequiredDocs;
  }
  
  public void setTabDetailCreateClient(RichShowDetailItem tabDetailCreateClient)
  {
    this.tabDetailCreateClient = tabDetailCreateClient;
  }
  
  public RichShowDetailItem getTabDetailCreateClient()
  {
    return this.tabDetailCreateClient;
  }
  
  public void setTabDetailSearchClients(RichShowDetailItem tabDetailSearchClients)
  {
    this.tabDetailSearchClients = tabDetailSearchClients;
  }
  
  public RichShowDetailItem getTabDetailSearchClients()
  {
    return this.tabDetailSearchClients;
  }
  
  public void setTabClientInfo(RichShowDetailItem tabClientInfo)
  {
    this.tabClientInfo = tabClientInfo;
  }
  
  public RichShowDetailItem getTabClientInfo()
  {
    return this.tabClientInfo;
  }
  
  public void setTabClientSystems(RichShowDetailItem tabClientSystems)
  {
    this.tabClientSystems = tabClientSystems;
  }
  
  public RichShowDetailItem getTabClientSystems()
  {
    return this.tabClientSystems;
  }
  
  public void setTabClientWebAccounts(RichShowDetailItem tabClientWebAccounts)
  {
    this.tabClientWebAccounts = tabClientWebAccounts;
  }
  
  public RichShowDetailItem getTabClientWebAccounts()
  {
    return this.tabClientWebAccounts;
  }
  
  public void setTabClientDocs(RichShowDetailItem tabClientDocs)
  {
    this.tabClientDocs = tabClientDocs;
  }
  
  public RichShowDetailItem getTabClientDocs()
  {
    return this.tabClientDocs;
  }
  
  public String actionEditRequiredDoc()
  {
    Object key2 = this.tblRequiredDocs.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.txtDocCodePop.setValue(nodeBinding.getAttribute("CDOCR_CODE"));
      this.txtReqDocCodePop.setValue(nodeBinding.getAttribute("CDOCR_RDOC_CODE"));
      this.txtReqDocNamePop.setValue(nodeBinding.getAttribute("ROC_DESC"));
      this.txtDocClientCodePop.setValue(nodeBinding.getAttribute("CDOCR_CLNT_CODE"));
      this.txtDocSubmittedPop.setValue(nodeBinding.getAttribute("CDOCR_SUBMITED"));
      this.txtDocDateSubmittedPop.setValue(nodeBinding.getAttribute("CDOCR_DATE_S"));
      this.txtDocRefNumPop.setValue(nodeBinding.getAttribute("CDOCR_REF_NO"));
      this.txtDocRemarkPop.setValue(nodeBinding.getAttribute("CDOCR_RMRK"));
      this.txtDocUserReceivedPop.setValue(nodeBinding.getAttribute("CDOCR_USER_RECEIVD"));
      
      this.btnSaveRequiredDoc.setText("Edit");
      
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:requiredDocsPop').show(hints);");
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("No record selected.");
      return null;
    }
    return null;
  }
  
  public String actionNewRequiredDoc()
  {
    if (this.session.getAttribute("ClientCode") != null)
    {
      this.txtDocCodePop.setValue(null);
      this.txtReqDocCodePop.setValue(null);
      this.txtReqDocNamePop.setValue(null);
      this.txtDocClientCodePop.setValue(this.session.getAttribute("ClientCode"));
      
      this.txtDocDateSubmittedPop.setValue(null);
      this.txtDocRefNumPop.setValue(null);
      this.txtDocRemarkPop.setValue(null);
      this.txtDocUserReceivedPop.setValue(this.session.getAttribute("Username"));
      
      this.btnSaveRequiredDoc.setText("Save");
      
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:requiredDocsPop').show(hints);");
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("No Client Selected:");
    }
    return null;
  }
  
  public String actionDeleteRequiredDoc()
  {
    Object key2 = this.tblRequiredDocs.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:confirmDeleteClientRequiredDocs').show(hints);");
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("No Record selected.");
      return null;
    }
    return null;
  }
  
  public String actionAcceptRequireddDoc()
  {
    Object key2 = this.tblReqDocsList.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.txtReqDocCodePop.setValue(nodeBinding.getAttribute("code"));
      this.txtReqDocNamePop.setValue(nodeBinding.getAttribute("description"));
      GlobalCC.refreshUI(this.txtReqDocNamePop);
      
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:requiredDocsPop').show(hints);");
    }
    System.out.println("txtReqDocCodePop " + this.txtReqDocCodePop.getValue());
    GlobalCC.dismissPopUp("pt1", "requiredDocsListPop");
    return null;
  }
  
  public String actionRejectRequiredDoc()
  {
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:requiredDocsPop').show(hints);");
    
    return null;
  }
  
  public void setTblReqDocsList(RichTable tblReqDocsList)
  {
    this.tblReqDocsList = tblReqDocsList;
  }
  
  public RichTable getTblReqDocsList()
  {
    return this.tblReqDocsList;
  }
  
  public String actionSaveRequiredDoc()
  {
    String status;
    if (this.btnSaveRequiredDoc.getText().equals("Edit"))
    {
      status = actionEditClientRequiredDoc();
    }
    else
    {
      String docCode = null;
      String docReqDocCode = GlobalCC.checkNullValues(this.txtReqDocCodePop.getValue());
      
      String docClientCode = GlobalCC.checkNullValues(this.txtDocClientCodePop.getValue());
      
      String docSubmitted = GlobalCC.checkNullValues(this.txtDocSubmittedPop.getValue());
      
      String docDateSubmit = GlobalCC.checkNullValues(this.txtDocDateSubmittedPop.getValue());
      
      String docRefNum = GlobalCC.checkNullValues(this.txtDocRefNumPop.getValue());
      
      String docRemark = GlobalCC.checkNullValues(this.txtDocRemarkPop.getValue());
      if (docReqDocCode == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Required Document is Empty");
        return null;
      }
      if (docClientCode == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: You need to select a client");
        return null;
      }
      if (docSubmitted == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Specify if Submitted");
        return null;
      }
      if (docDateSubmit == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Enter Personel Rank");
        return null;
      }
      String Query = "begin TQC_WEB_PKG.saveClientDocuments(?,?,?,?,?,?,?,?,?); end;";
      
      DBConnector connector = new DBConnector();
      OracleCallableStatement cst = null;
      OracleConnection conn = null;
      try
      {
        conn = connector.getDatabaseConnection();
        cst = (OracleCallableStatement)conn.prepareCall(Query);
        
        DateFormat df = new SimpleDateFormat("MM/dd/yyyy");
        
        java.util.Date docSubmitDate = new java.util.Date();
        if ((this.txtDocDateSubmittedPop.getValue() != null) && (!this.txtDocDateSubmittedPop.getValue().equals("")))
        {
          String date1 = df.format(this.txtDocDateSubmittedPop.getValue());
          
          docSubmitDate = df.parse(date1);
        }
        cst.setString(1, "A");
        cst.setBigDecimal(2, null);
        cst.setString(3, docReqDocCode);
        cst.setString(4, docClientCode);
        cst.setString(5, docSubmitted);
        cst.setDate(6, new java.sql.Date(docSubmitDate.getTime()));
        cst.setString(7, docRefNum);
        cst.setString(8, docRemark);
        cst.setString(9, (String)this.session.getAttribute("Username"));
        
        cst.execute();
        cst.close();
        conn.close();
        ADFUtils.findIterator("fetchClientRequiredDocsIterator").executeQuery();
        GlobalCC.refreshUI(this.tblRequiredDocs);
        
        GlobalCC.dismissPopUp("pt1", "requiredDocsPop");
      }
      catch (Exception e)
      {
        GlobalCC.EXCEPTIONREPORTING(conn, e);
      }
    }
    return null;
  }
  
  public String actionEditClientRequiredDoc()
  {
    String docCode = GlobalCC.checkNullValues(this.txtDocCodePop.getValue());
    
    String docReqDocCode = GlobalCC.checkNullValues(this.txtReqDocCodePop.getValue());
    
    String docClientCode = GlobalCC.checkNullValues(this.txtDocClientCodePop.getValue());
    
    String docSubmitted = GlobalCC.checkNullValues(this.txtDocSubmittedPop.getValue());
    
    String docDateSubmit = GlobalCC.checkNullValues(this.txtDocDateSubmittedPop.getValue());
    
    String docRefNum = GlobalCC.checkNullValues(this.txtDocRefNumPop.getValue());
    
    String docRemark = GlobalCC.checkNullValues(this.txtDocRemarkPop.getValue());
    if (docReqDocCode == null)
    {
      GlobalCC.errorValueNotEntered("Error Value Missing: Code is Empty");
      return null;
    }
    if (docReqDocCode == null)
    {
      GlobalCC.errorValueNotEntered("Error Value Missing: Required Document is Empty");
      return null;
    }
    if (docClientCode == null)
    {
      GlobalCC.errorValueNotEntered("Error Value Missing: You need to select a client");
      return null;
    }
    if (docSubmitted == null)
    {
      GlobalCC.errorValueNotEntered("Error Value Missing: Specify if Submitted");
      return null;
    }
    if (docDateSubmit == null)
    {
      GlobalCC.errorValueNotEntered("Error Value Missing: Enter Personel Rank");
      return null;
    }
    String Query = "begin TQC_WEB_PKG.saveClientDocuments(?,?,?,?,?,?,?,?,?); end;";
    
    DBConnector connector = new DBConnector();
    OracleCallableStatement cst = null;
    OracleConnection conn = null;
    try
    {
      conn = connector.getDatabaseConnection();
      cst = (OracleCallableStatement)conn.prepareCall(Query);
      
      DateFormat df = new SimpleDateFormat("MM/dd/yyyy");
      
      java.util.Date docSubmitDate = new java.util.Date();
      if ((this.txtDocDateSubmittedPop.getValue() != null) && (!this.txtDocDateSubmittedPop.getValue().equals("")))
      {
        String date1 = df.format(this.txtDocDateSubmittedPop.getValue());
        
        docSubmitDate = df.parse(date1);
      }
      cst.setString(1, "E");
      cst.setBigDecimal(2, new BigDecimal(docCode));
      cst.setString(3, docReqDocCode);
      cst.setString(4, docClientCode);
      cst.setString(5, docSubmitted);
      cst.setDate(6, new java.sql.Date(docSubmitDate.getTime()));
      cst.setString(7, docRefNum);
      cst.setString(8, docRemark);
      cst.setString(9, (String)this.session.getAttribute("Username"));
      
      cst.execute();
      
      cst.close();
      conn.commit();
      conn.close();
      
      ADFUtils.findIterator("fetchClientRequiredDocsIterator").executeQuery();
      GlobalCC.refreshUI(this.tblRequiredDocs);
      GlobalCC.dismissPopUp("pt1", "requiredDocsPop");
      String message = "Record UPDATED Successfully!";
      GlobalCC.INFORMATIONREPORTING(message);
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(conn, e);
    }
    return null;
  }
  
  public void setConfirmationDialog(RichPopup confirmationDialog)
  {
    this.confirmationDialog = confirmationDialog;
  }
  
  public RichPopup getConfirmationDialog()
  {
    return this.confirmationDialog;
  }
  
  public void confirmationDialogListener(DialogEvent dialogEvent)
  {
    if (!dialogEvent.getOutcome().equals(DialogEvent.Outcome.no)) {
      if (dialogEvent.getOutcome().equals(DialogEvent.Outcome.yes))
      {
        String Query = "begin ? := tqc_clients_pkg.delete_client(?,?";
        DBConnector connector = new DBConnector();
        OracleCallableStatement cst = null;
        OracleConnection conn = null;
        try
        {
          conn = connector.getDatabaseConnection();
          cst = (OracleCallableStatement)conn.prepareCall(Query);
          
          cst.registerOutParameter(1, 12);
          
          cst.setBigDecimal(2, new BigDecimal(this.session.getAttribute("ClientCode").toString()));
          
          cst.execute();
          String err = cst.getString(1);
          cst.close();
          conn.commit();
          conn.close();
          if (err != null)
          {
            GlobalCC.INFORMATIONREPORTING(err);
          }
          else
          {
            this.session.removeAttribute("ClientCode");
            ADFUtils.findIterator("fetchClientsByCriteriaIterator").executeQuery();
            GlobalCC.refreshUI(this.tblClients);
            
            String message = "Client DELETED Successfully!";
            GlobalCC.INFORMATIONREPORTING(message);
          }
        }
        catch (Exception e)
        {
          GlobalCC.EXCEPTIONREPORTING(conn, e);
        }
      }
    }
  }
  
  public void showMessagePopup(String msgToDisplay)
  {
    this.textToShow.setValue(null);
    this.textToShow.setValue(msgToDisplay);
    
    FacesContext context = FacesContext.getCurrentInstance();
    UIComponent source = this.tblClients;
    String alignId = source.getClientId(context);
    String popupId = "pt1:ServerMessage";
    
    StringBuilder script = new StringBuilder();
    script.append("var popup = AdfPage.PAGE.findComponent('").append(popupId).append("'); ").append("if (!popup.isPopupVisible()) { ").append("var hints = {}; ").append("hints[AdfRichPopup.HINT_ALIGN_ID] = '").append(alignId).append("'; ").append("hints[AdfRichPopup.HINT_ALIGN] = AdfRichPopup.ALIGN_AFTER_START; ").append("popup.show(hints);}");
    ExtendedRenderKitService erks = (ExtendedRenderKitService)Service.getService(context.getRenderKit(), ExtendedRenderKitService.class);
    
    erks.addScript(context, script.toString());
  }
  
  public void setClientCodeValue(RichOutputLabel clientCodeValue)
  {
    this.clientCodeValue = clientCodeValue;
  }
  
  public RichOutputLabel getClientCodeValue()
  {
    return this.clientCodeValue;
  }
  
  public void setOlConfirmMsgValue(RichOutputLabel olConfirmMsgValue)
  {
    this.olConfirmMsgValue = olConfirmMsgValue;
  }
  
  public RichOutputLabel getOlConfirmMsgValue()
  {
    return this.olConfirmMsgValue;
  }
  
  public void setTextToShow(RichOutputText textToShow)
  {
    this.textToShow = textToShow;
  }
  
  public RichOutputText getTextToShow()
  {
    return this.textToShow;
  }
  
  public void setTxtClientTitle(RichInputText txtClientTitle)
  {
    this.txtClientTitle = txtClientTitle;
  }
  
  public RichInputText getTxtClientTitle()
  {
    return this.txtClientTitle;
  }
  
  public void setTblClientTitles(RichTable tblClientTitles)
  {
    this.tblClientTitles = tblClientTitles;
  }
  
  public RichTable getTblClientTitles()
  {
    return this.tblClientTitles;
  }
  
  public String actionAcceptClientTitle()
  {
    Object key2 = this.tblClientTitles.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.txtClientTitleCode.setValue(nodeBinding.getAttribute("shortDesc"));
      this.txtClientTitle.setValue(nodeBinding.getAttribute("description"));
      GlobalCC.refreshUI(this.txtClientTitle);
    }
    GlobalCC.dismissPopUp("pt1", "clientTitlePop");
    return null;
  }
  
  public String actionUpdateClientAccount()
    throws Exception
  {
    DBConnector connector = new DBConnector();
    OracleCallableStatement cst = null;
    OracleConnection conn = null;
    try
    {
      String accCode = GlobalCC.checkNullValues(this.txtAccountCode.getValue());
      
      String accShtDesc = GlobalCC.checkNullValues(this.txtAccShortDesc.getValue());
      
      String accName = GlobalCC.checkNullValues(this.txtAccName.getValue());
      String accClientCode = GlobalCC.checkNullValues(this.txtAccClientCode.getValue());
      
      String accCreatedBy = GlobalCC.checkNullValues(this.txtAccCreatedBy.getValue());
      
      String accDateCreated = GlobalCC.checkNullValues(this.txtAccDateCreated.getValue());
      
      String accStatus = GlobalCC.checkNullValues(this.txtClientAccStatus.getValue());
      
      String accRemarks = GlobalCC.checkNullValues(this.txtAccRemarks.getValue());
      
      String accWef = GlobalCC.checkNullValues(this.txtAccWef.getValue());
      String accWet = GlobalCC.checkNullValues(this.txtAccWet.getValue());
      String accCntName = GlobalCC.checkNullValues(this.txtAccCntName.getValue());
      
      String accCntTitle = GlobalCC.checkNullValues(this.txtAccCntTitle.getValue());
      
      String accCntSmsNo = GlobalCC.checkNullValues(this.txtAccCntSmsNo.getValue());
      
      String accCntEmail = GlobalCC.checkNullValues(this.txtAccCntEmail.getValue());
      String str1;
      if (accCode == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Code is Empty");
        return null;
      }
      if (accShtDesc == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Short Description is Empty");
        return null;
      }
      if (accName == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Name is Empty");
        return null;
      }
      if (accWef == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: WEF date is missing");
        return null;
      }
      if (accStatus == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Select a status");
        return null;
      }
      if (accCntName == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Contact Name!");
        return null;
      }
      if (accCntTitle == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Contact Title!");
        return null;
      }
      if (accCntSmsNo == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Contact SmsNo!");
        return null;
      }
      if (accCntEmail == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Contact Email!");
        return null;
      }
      GlobalCC.hidePopup("pt1:clientAccountPopup");
      
      String message = "Client Account UPDATED Successfully!";
      showMessagePopup(message);
      
      ADFUtils.findIterator("fetchClientAccountsIterator").executeQuery();
      GlobalCC.refreshUI(this.tblClientAccounts);
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(conn, e);
    }
    finally
    {
      DbUtils.closeQuietly(conn, cst, null);
    }
    return null;
  }
  
  public String actionSaveUpdateClientAccount()
  {
    DBConnector connector = new DBConnector();
    OracleCallableStatement cst = null;
    OracleConnection conn = null;
    try
    {
      BigDecimal accCode = GlobalCC.checkBDNullValues(this.txtAccountCode.getValue());
      
      String accName = GlobalCC.checkNullValues(this.txtAccName.getValue());
      String accClientCode = GlobalCC.checkNullValues(this.txtAccClientCode.getValue());
      
      String shortDesc = GlobalCC.checkNullValues(this.txtAccShortDesc.getValue());
      
      String accCreatedBy = GlobalCC.checkNullValues(this.txtAccCreatedBy.getValue());
      
      String accDateCreated = GlobalCC.checkNullValues(this.txtAccDateCreated.getValue());
      
      String accStatus = GlobalCC.checkNullValues(this.txtClientAccStatus.getValue());
      
      String accRemarks = GlobalCC.checkNullValues(this.txtAccRemarks.getValue());
      
      String accWef = GlobalCC.checkNullValues(this.txtAccWef.getValue());
      String accWet = GlobalCC.checkNullValues(this.txtAccWet.getValue());
      String cltCellNos = GlobalCC.checkNullValues(this.txtClientCellNos.getValue());
      
      String accCntName = GlobalCC.checkNullValues(this.txtAccCntName.getValue());
      
      String accCntTitle = GlobalCC.checkNullValues(this.txtAccCntTitle.getValue());
      
      String accCntSmsNo = GlobalCC.checkNullValues(this.txtAccCntSmsNo.getValue());
      
      String accCntEmail = GlobalCC.checkNullValues(this.txtAccCntEmail.getValue());
      if (this.txtBrnDivName.getValue() == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing Select Branch Division");
        return null;
      }
      if (accName == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Name is Empty");
        return null;
      }
      if (accWef == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: WEF date is missing");
        return null;
      }
      if (accStatus == null)
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Select a status");
        return null;
      }
      if ((accCntName == null) && (this.renderer.isCLIENT_CONTACT_NAME_REQUIRED()))
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Contact Name!");
        return null;
      }
      if ((accCntTitle == null) && (this.renderer.isCLIENT_CONTACT_TITLE_REQUIRED()))
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Contact Title!");
        return null;
      }
      if ((accCntSmsNo == null) && (this.renderer.isCLIENT_CONTACT_SMSNO_REQUIRED()))
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Contact SmsNo!");
        return null;
      }
      if ((accCntEmail == null) && (this.renderer.isCLIENT_CONTACT_EMAIL_REQUIRED()))
      {
        GlobalCC.errorValueNotEntered("Error Value Missing: Contact Email!");
        return null;
      }
      String Query = "begin tqc_clients_pkg.create_client_account(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?); end;";
      
      conn = connector.getDatabaseConnection();
      cst = (OracleCallableStatement)conn.prepareCall(Query);
      
      String checkNullValues = GlobalCC.checkNullValues(this.session.getAttribute("ClientCode"));
      
      this.session.getAttribute("ClientCode");
      
      cst.setString(1, (String)this.session.getAttribute("clientAccountAction"));
      
      cst.setBigDecimal(2, accCode);
      cst.setString(3, shortDesc);
      cst.setString(4, accName);
      cst.setObject(5, this.session.getAttribute("ClientCode"));
      cst.setString(6, (String)this.session.getAttribute("Username"));
      cst.setDate(7, new java.sql.Date(new java.util.Date().getTime()));
      cst.setString(8, accStatus);
      cst.setString(9, accRemarks);
      cst.setDate(10, GlobalCC.extractDate(this.txtAccWef));
      cst.setDate(11, GlobalCC.extractDate(this.txtAccWet));
      cst.setBigDecimal(12, (BigDecimal)this.session.getAttribute("BrnDivCode"));
      
      cst.setBigDecimal(13, (BigDecimal)this.session.getAttribute("branchCode"));
      
      cst.setString(14, accCntName);
      cst.setString(15, accCntTitle);
      cst.setString(16, accCntSmsNo);
      cst.setString(17, accCntEmail);
      cst.execute();
      
      cst.close();
      conn.commit();
      conn.close();
      
      GlobalCC.hidePopup("pt1:clientAccountPopup");
      String message = "Client Account ADDED Successfully!";
      showMessagePopup(message);
      
      ADFUtils.findIterator("fetchClientAccountsIterator").executeQuery();
      GlobalCC.refreshUI(this.tblClientAccounts);
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(conn, e);
      e.printStackTrace();
    }
    return null;
  }
  
  public void clearClientAccountFields()
  {
    this.txtAccountCode.setValue(null);
    this.txtAccShortDesc.setValue(null);
    if (this.txtSurname.getValue() != null) {
      this.txtAccName.setValue(this.txtSurname.getValue());
    } else {
      this.txtAccName.setValue(null);
    }
    if (this.txtWef.getValue() != null) {
      this.txtAccWef.setValue(this.txtWef.getValue());
    } else {
      this.txtAccWef.setValue(null);
    }
    if (this.session.getAttribute("ClientCode") != null) {
      this.txtAccClientCode.setValue(this.session.getAttribute("ClientCode").toString());
    } else {
      this.txtAccClientCode.setValue(null);
    }
    this.txtAccCreatedBy.setValue(null);
    this.txtAccDateCreated.setValue(null);
    
    this.txtAccRemarks.setValue(null);
    
    this.txtAccWet.setValue(null);
    this.txtClientAccStatus.setDisabled(false);
  }
  
  public String actionNewClientAccount()
  {
    try
    {
      if (this.session.getAttribute("ClientCode") != null)
      {
        clearClientAccountFields();
        this.btnSaveUpdateClientAccount.setText("Save");
        this.session.setAttribute("clientAccountAction", "A");
        this.txtAccCntName.setValue(null);
        this.txtAccCntTitle.setValue(null);
        this.txtAccCntSmsNo.setValue(null);
        this.txtAccCntEmail.setValue(null);
        this.session.setAttribute("client_account_status", "ACTIVE");
        
        GlobalCC.showPopup("pt1:clientAccountPopup");
      }
      else
      {
        GlobalCC.INFORMATIONREPORTING("No client Selected::");
      }
    }
    catch (Exception e)
    {
      e.printStackTrace();
    }
    return null;
  }
  
  public void genAccNo(ValueChangeEvent evt)
  {
    if ((evt.getNewValue() != evt.getOldValue()) && (evt.getNewValue() != null)) {
      if (this.genAcSelectYes.isSelected())
      {
        this.txtAccShortDesc.setDisabled(true);
        this.txtAccShortDesc.setValue(null);
        GlobalCC.refreshUI(this.txtAccShortDesc);
      }
      else if (this.genAccNoSelect.isSelected())
      {
        this.txtAccShortDesc.setDisabled(false);
        GlobalCC.refreshUI(this.txtAccShortDesc);
      }
    }
  }
  
  public String actionEditClientAccount()
  {
    Object key2 = this.tblClientAccounts.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.session.setAttribute("clientAccountAction", "E");
      this.txtAccountCode.setValue(nodeBinding.getAttribute("code"));
      this.txtAccShortDesc.setValue(nodeBinding.getAttribute("shortDesc"));
      this.txtAccName.setValue(nodeBinding.getAttribute("name"));
      this.txtAccClientCode.setValue(nodeBinding.getAttribute("clientCode"));
      this.txtAccCreatedBy.setValue(nodeBinding.getAttribute("createdBy"));
      this.txtAccDateCreated.setValue(nodeBinding.getAttribute("dateCreated"));
      this.txtClientAccStatus.setValue(nodeBinding.getAttribute("status"));
      this.session.setAttribute("client_account_status", nodeBinding.getAttribute("status"));
      
      this.txtAccRemarks.setValue(nodeBinding.getAttribute("remarks"));
      this.txtAccWef.setValue(nodeBinding.getAttribute("wef"));
      this.txtAccWet.setValue(nodeBinding.getAttribute("wet"));
      this.txtBrnDivName.setValue(nodeBinding.getAttribute("divName"));
      this.txtAccCntName.setValue(nodeBinding.getAttribute("contactName"));
      this.txtAccCntTitle.setValue(nodeBinding.getAttribute("contactTitle"));
      this.txtAccCntSmsNo.setValue(nodeBinding.getAttribute("contactSmsNo"));
      this.txtAccCntEmail.setValue(nodeBinding.getAttribute("contactEmail"));
      
      this.btnSaveUpdateClientAccount.setText("Update");
      this.session.setAttribute("BrnDivCode", nodeBinding.getAttribute("bdivCode"));
      
      Authorization auth = new Authorization();
      String process = "AMA";
      String processArea = "AMAC";
      String processSubArea = "AMACDA";
      String AccessGranted = auth.checkUserRightsNoError(process, processArea, processSubArea, null, null);
      if (AccessGranted.equalsIgnoreCase("Y")) {
        this.txtClientAccStatus.setDisabled(false);
      } else {
        this.txtClientAccStatus.setDisabled(true);
      }
      GlobalCC.showPopup("pt1:clientAccountPopup");
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("No record selected.");
      return null;
    }
    return null;
  }
  
  public String actionDeleteClientAccount()
  {
    Object key2 = this.tblClientAccounts.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      String accCode = nodeBinding.getAttribute("code").toString();
      this.session.setAttribute("ClientAccountCode", accCode);
      
      String msg = "Are you sure you wish to DELETE Client Account No " + this.session.getAttribute("ClientAccountCode").toString();
      
      this.confirmDeleteAccMsg.setValue(msg);
      
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:confirmDeleteClientAcc').show(hints);");
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("No Record selected.");
      return null;
    }
    return null;
  }
  
  public void branchDivSelected(DialogEvent dialogEvent)
  {
    if (dialogEvent.getOutcome() == DialogEvent.Outcome.ok)
    {
      Object key2 = this.brnDivLov.getSelectedRowData();
      JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
      if (nodeBinding != null)
      {
        this.txtBrnDivName.setValue(nodeBinding.getAttribute("DIV_NAME"));
        GlobalCC.refreshUI(this.txtBrnDivName);
        this.session.setAttribute("BrnDivCode", nodeBinding.getAttribute("DIV_CODE"));
      }
    }
  }
  
  public String actionShowadminRegions()
  {
    if (this.txtCountryCode.getValue() == null)
    {
      GlobalCC.INFORMATIONREPORTING("You need to select a Country first to proceed.");
      return null;
    }
    this.session.setAttribute("countryCode", this.txtCountryCode.getValue());
    
    ADFUtils.findIterator("fetchStatesByCountry1Iterator").executeQuery();
    GlobalCC.refreshUI(this.tblStates);
    ADFUtils.findIterator("fetchAlLMobileTypePrefixIterator").executeQuery();
    GlobalCC.refreshUI(this.prefixTbl);
    
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:adminRegionsPop').show(hints);");
    
    return null;
  }
  
  public String actionAcceptAdminRegion()
  {
    Object key2 = this.tblStates.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.txtAdminRegionCode.setValue(nodeBinding.getAttribute("stateCode"));
      this.txtAdminRegionName.setValue(nodeBinding.getAttribute("stateName"));
      this.txtTownName.setValue(null);
      this.txtTownCode.setValue(null);
      this.txtZipCode.setValue(null);
      
      GlobalCC.refreshUI(this.panelCreateClient);
    }
    GlobalCC.dismissPopUp("pt1", "adminRegionsPop");
    return null;
  }
  
  public void setClientTitlePan(RichPanelLabelAndMessage clientTitlePan)
  {
    this.clientTitlePan = clientTitlePan;
  }
  
  public RichPanelLabelAndMessage getClientTitlePan()
  {
    return this.clientTitlePan;
  }
  
  public void setGenAcSelectYes(RichSelectBooleanRadio genAcSelectYes)
  {
    this.genAcSelectYes = genAcSelectYes;
  }
  
  public RichSelectBooleanRadio getGenAcSelectYes()
  {
    return this.genAcSelectYes;
  }
  
  public void setGenAccNoSelect(RichSelectBooleanRadio genAccNoSelect)
  {
    this.genAccNoSelect = genAccNoSelect;
  }
  
  public RichSelectBooleanRadio getGenAccNoSelect()
  {
    return this.genAccNoSelect;
  }
  
  public void deleteClientAccountsListener(DialogEvent dialogEvent)
  {
    if (!dialogEvent.getOutcome().equals(DialogEvent.Outcome.no)) {
      if (dialogEvent.getOutcome().equals(DialogEvent.Outcome.yes))
      {
        String accCode = this.session.getAttribute("ClientAccountCode").toString();
        
        String Query = "DELETE FROM tqc_client_accounts WHERE clna_code = ? ";
        
        DBConnector connector = new DBConnector();
        OracleCallableStatement cst = null;
        OracleConnection conn = null;
        try
        {
          conn = connector.getDatabaseConnection();
          cst = (OracleCallableStatement)conn.prepareCall(Query);
          
          cst.setBigDecimal(1, new BigDecimal(accCode));
          cst.execute();
          
          cst.close();
          conn.commit();
          conn.close();
          
          ADFUtils.findIterator("fetchClientAccountsIterator").executeQuery();
          GlobalCC.refreshUI(this.tblClientAccounts);
          
          String message = "Client Account DELETED Successfully!";
          showMessagePopup(message);
        }
        catch (Exception e)
        {
          e.printStackTrace();
          GlobalCC.EXCEPTIONREPORTING(conn, e);
        }
      }
    }
  }
  
  public void setConfirmDeleteAccMsg(RichOutputLabel confirmDeleteAccMsg)
  {
    this.confirmDeleteAccMsg = confirmDeleteAccMsg;
  }
  
  public RichOutputLabel getConfirmDeleteAccMsg()
  {
    return this.confirmDeleteAccMsg;
  }
  
  public void setTbClientListingBasedOnNames(RichTable tbClientListingBasedOnNames)
  {
    this.tbClientListingBasedOnNames = tbClientListingBasedOnNames;
  }
  
  public RichTable getTbClientListingBasedOnNames()
  {
    return this.tbClientListingBasedOnNames;
  }
  
  public void confirmSavingOfTheAcc(DialogEvent dialogEvent)
  {
    this.session.setAttribute("saveStatus", null);
    if (dialogEvent.getOutcome().equals(DialogEvent.Outcome.no))
    {
      this.session.setAttribute("saveStatus", "NO");
    }
    else if (dialogEvent.getOutcome().equals(DialogEvent.Outcome.yes))
    {
      this.session.setAttribute("saveStatus", "YES");
      processCreateUpdateClient();
    }
  }
  
  public void confirmSaccoContinue(DialogEvent dialogEvent)
  {
    this.session.setAttribute("saveSaccoStatus", null);
    if (dialogEvent.getOutcome().equals(DialogEvent.Outcome.no))
    {
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:saccoReq').hide(hints);");
      
      this.session.setAttribute("saveSaccoStatus", "NO");
    }
    else if (dialogEvent.getOutcome().equals(DialogEvent.Outcome.yes))
    {
      this.session.setAttribute("saveSaccoStatus", "YES");
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:saccoReq').hide(hints);");
      
      int counter = 0;
      if (this.session.getAttribute("count") != null)
      {
        String noOfRecords = this.session.getAttribute("count").toString();
        
        counter = Integer.parseInt(noOfRecords);
        if (counter >= 1)
        {
          erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
          
          erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:p2').show(hints);");
        }
        else
        {
          processCreateUpdateClient();
        }
      }
      else
      {
        processCreateUpdateClient();
      }
    }
  }
  
  public void setConfirmSaveDialog(RichDialog confirmSaveDialog)
  {
    this.confirmSaveDialog = confirmSaveDialog;
  }
  
  public RichDialog getConfirmSaveDialog()
  {
    return this.confirmSaveDialog;
  }
  
  public void confirmSaveAgencyDialogListener(DialogEvent dialogEvent) {}
  
  public String actionAuthorizeClient()
  {
    Authorization auth = new Authorization();
    String process = "CLCR";
    String processArea = "CLAU";
    String processSubArea = "CLAU";
    String AccessGranted = auth.checkUserRights(process, processArea, processSubArea, null, null);
    if (!AccessGranted.equalsIgnoreCase("Y"))
    {
      GlobalCC.INFORMATIONREPORTING("Sorry. You Do not Have The Rights to authorize a client.");
      return null;
    }
    if (this.session.getAttribute("ClientCode") != null)
    {
      String status = check_ifclientActive();
      System.out.println("status: " + status);
      if (status != null)
      {
        if ((status.equalsIgnoreCase("D")) || (status.equalsIgnoreCase("R")))
        {
          DBConnector dbConnector = new DBConnector();
          OracleConnection conn = null;
          
          String Query = "BEGIN TQC_CLIENTS_PKG.authorise_client(?,?,?);END;";
          
          DBConnector connector = new DBConnector();
          OracleCallableStatement cst = null;
          try
          {
            conn = connector.getDatabaseConnection();
            cst = (OracleCallableStatement)conn.prepareCall(Query);
            
            cst.registerOutParameter(1, 12);
            
            cst.setBigDecimal(2, new BigDecimal(this.session.getAttribute("ClientCode").toString()));
            
            cst.setString(3, "A");
            cst.execute();
            String err = cst.getString(1);
            if (err != null)
            {
              GlobalCC.INFORMATIONREPORTING(err);
            }
            else
            {
              this.selectStatusActive.setDisabled(false);
              this.selectStatusDraft.setDisabled(false);
              this.selectStatusInactive.setDisabled(false);
              this.selectStatusRejected.setDisabled(false);
              this.txtStatus.setValue("D");
              
              String message = "Client   Authorised  Successfully!";
              
              this.txtStatus.setValue("A");
              GlobalCC.refreshUI(this.txtStatus);
              
              GlobalCC.INFORMATIONREPORTING(message);
            }
          }
          catch (Exception e)
          {
            e.printStackTrace();
            GlobalCC.EXCEPTIONREPORTING(conn, e);
          }
        }
        else
        {
          if (status.equalsIgnoreCase("A"))
          {
            GlobalCC.INFORMATIONREPORTING("The Client Status is Already Authorised::");
            return null;
          }
          if (status.equalsIgnoreCase("I"))
          {
            GlobalCC.INFORMATIONREPORTING("The Client Status is Inactive::You can only set it to Active");
            return null;
          }
          if (status.equalsIgnoreCase("R"))
          {
            GlobalCC.INFORMATIONREPORTING("The Client status is  Rejected::");
            return null;
          }
        }
      }
      else
      {
        GlobalCC.INFORMATIONREPORTING("The Client Status is Not set::");
        return null;
      }
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("Client Code Required::");
      return null;
    }
    return null;
  }
  
  public String actionRejectClient()
  {
    Authorization auth = new Authorization();
    String process = "CLAU";
    String processArea = "CLAU";
    String processSubArea = "CLAU";
    String AccessGranted = auth.checkUserRights(process, processArea, processSubArea, null, null);
    if (!AccessGranted.equalsIgnoreCase("Y"))
    {
      GlobalCC.INFORMATIONREPORTING("Sorry. You Do not Have The Rights to reject a client.");
      return null;
    }
    if (this.session.getAttribute("ClientCode") != null)
    {
      if (checkIfUserAlowedToAuthorize())
      {
        String status = check_ifclientActive();
        if (status != null)
        {
          if (status.equalsIgnoreCase("D"))
          {
            String Query = "BEGIN TQC_CLIENTS_PKG.authorise_client(?,?,?);END;";
            
            DBConnector connector = new DBConnector();
            OracleCallableStatement cst = null;
            OracleConnection conn = null;
            try
            {
              conn = connector.getDatabaseConnection();
              
              cst = (OracleCallableStatement)conn.prepareCall(Query);
              
              cst.registerOutParameter(1, 12);
              
              cst.setBigDecimal(2, new BigDecimal(this.session.getAttribute("ClientCode").toString()));
              
              cst.setString(3, "R");
              cst.execute();
              String err = cst.getString(1);
              if (err != null)
              {
                GlobalCC.INFORMATIONREPORTING(err);
              }
              else
              {
                String message = "Client Rejected Successfully!";
                
                this.txtStatus.setValue("R");
                this.selectStatusRejected.setDisabled(false);
                this.selectStatusDraft.setDisabled(true);
                GlobalCC.refreshUI(this.txtStatus);
                GlobalCC.INFORMATIONREPORTING(message);
              }
            }
            catch (Exception e)
            {
              e.printStackTrace();
              GlobalCC.EXCEPTIONREPORTING(conn, e);
            }
          }
          else
          {
            if (status.equalsIgnoreCase("A"))
            {
              GlobalCC.INFORMATIONREPORTING("The Client Status is Already Authorised:: You can only set it to InActive ");
              return null;
            }
            if (status.equalsIgnoreCase("I"))
            {
              GlobalCC.INFORMATIONREPORTING("The Client Status is Inactive::You can only set it to Active");
              return null;
            }
            if (status.equalsIgnoreCase("R"))
            {
              GlobalCC.INFORMATIONREPORTING("The Client status is Already Rejected::");
              return null;
            }
          }
        }
        else {
          return null;
        }
      }
      else
      {
        GlobalCC.INFORMATIONREPORTING("You don't have permission to Authorise");
        return null;
      }
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("Client Code Required::");
      return null;
    }
    return null;
  }
  
  public String actionBackClient()
  {
    try
    {
      String back_url = GlobalCC.checkNullValues(this.session.getAttribute("back_url"));
      if (back_url != null)
      {
        if (!back_url.contains("sn=")) {
          back_url = back_url + "&sn=" + this.renderer.getSessionUrl();
        }
        System.out.println("back_url: " + back_url);
        Links.navigate(back_url);
      }
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(e);
    }
    return null;
  }
  
  public BigDecimal getClientCode()
  {
    return GlobalCC.checkBDNullValues(this.session.getAttribute("ClientCode"));
  }
  
  public void setBtnAuthorizeClient(RichCommandButton btnAuthorizeClient)
  {
    this.btnAuthorizeClient = btnAuthorizeClient;
  }
  
  public RichCommandButton getBtnAuthorizeClient()
  {
    return this.btnAuthorizeClient;
  }
  
  public void setSelectStatusDraft(RichSelectItem selectStatusDraft)
  {
    this.selectStatusDraft = selectStatusDraft;
  }
  
  public RichSelectItem getSelectStatusDraft()
  {
    return this.selectStatusDraft;
  }
  
  public void setSelectStatusInactive(RichSelectItem selectStatusInactive)
  {
    this.selectStatusInactive = selectStatusInactive;
  }
  
  public RichSelectItem getSelectStatusInactive()
  {
    return this.selectStatusInactive;
  }
  
  public void setSelectStatusRejected(RichSelectItem selectStatusRejected)
  {
    this.selectStatusRejected = selectStatusRejected;
  }
  
  public RichSelectItem getSelectStatusRejected()
  {
    return this.selectStatusRejected;
  }
  
  public void setSelectStatusActive(RichSelectItem selectStatusActive)
  {
    this.selectStatusActive = selectStatusActive;
  }
  
  public RichSelectItem getSelectStatusActive()
  {
    return this.selectStatusActive;
  }
  
  public boolean checkIfUserAlowedToAuthorize()
  {
    DBConnector dbConnector = new DBConnector();
    OracleConnection conn = null;
    OracleCallableStatement statement = null;
    OracleConnection connection = null;
    OracleCallableStatement stmt = null;
    OracleResultSet rs = null;
    String status = null;
    try
    {
      connection = dbConnector.getDatabaseConnection();
      String query1 = "begin ? := TQC_INTERFACES_PKG.check_user_rights(?,?,?,?,?,?,?); end;";
      
      stmt = (OracleCallableStatement)connection.prepareCall(query1);
      stmt.registerOutParameter(1, 12);
      stmt.setString(2, this.session.getAttribute("Username").toString());
      stmt.setBigDecimal(3, new BigDecimal(0));
      stmt.setString(4, "CLCR");
      stmt.setString(5, "CLAU");
      stmt.setString(6, "CLAU");
      stmt.setBigDecimal(7, null);
      stmt.setString(8, null);
      
      stmt.execute();
      
      status = stmt.getString(1);
      if (status.equalsIgnoreCase("Y")) {
        return true;
      }
      if (status.equalsIgnoreCase("N")) {
        return false;
      }
      rs.close();
      
      stmt.close();
      connection.commit();
      connection.close();
    }
    catch (Exception e)
    {
      e.printStackTrace();
      GlobalCC.EXCEPTIONREPORTING(conn, e);
    }
    return false;
  }
  
  public String actionSearchClient()
  {
    if (this.session.getAttribute("grpCode") != null)
    {
      this.session.setAttribute("grpCode", null);
      
      this.session.setAttribute("_search", "false");
      List child = this.panelCollSearch.getChildren();
      UIComponent comp = (UIComponent)child.get(0);
      for (int i = 0; i < child.size(); i++)
      {
        comp = (UIComponent)child.get(i);
        if (comp.getId().equalsIgnoreCase("t11")) {}
      }
      List children = this.SEARCHHOLDER.getChildren();
      UIComponent component = (UIComponent)children.get(0);
      for (int i = 0; i < children.size(); i++)
      {
        component = (UIComponent)children.get(i);
        if ((component.getId().equalsIgnoreCase("it19")) || (component.getId().equalsIgnoreCase("it20")) || (component.getId().equalsIgnoreCase("it21")) || (component.getId().equalsIgnoreCase("it18")) || (component.getId().equalsIgnoreCase("it25")) || (component.getId().equalsIgnoreCase("it26")))
        {
          RichInputText rpt = (RichInputText)component;
          rpt.setValue(null);
          
          GlobalCC.refreshUI(rpt);
        }
        if ((component.getId().equalsIgnoreCase("id4")) || (component.getId().equalsIgnoreCase("id5")))
        {
          RichInputDate rsc = (RichInputDate)component;
          
          rsc.setValue(null);
          GlobalCC.refreshUI(rsc);
        }
      }
      children = this.statusHolder.getChildren();
      component = (UIComponent)children.get(0);
      for (int i = 0; i < children.size(); i++)
      {
        component = (UIComponent)children.get(i);
        if (component.getId().equalsIgnoreCase("soc2"))
        {
          RichSelectOneChoice rsc = (RichSelectOneChoice)component;
          
          rsc.setValue(null);
          GlobalCC.refreshUI(rsc);
        }
      }
      children = this.searchClientType.getChildren();
      component = (UIComponent)children.get(0);
      for (int i = 0; i < children.size(); i++)
      {
        component = (UIComponent)children.get(i);
        if (component.getId().equalsIgnoreCase("soc1"))
        {
          RichSelectOneChoice rsc = (RichSelectOneChoice)component;
          
          rsc.setValue(null);
          GlobalCC.refreshUI(rsc);
        }
      }
      this.session.setAttribute("searchCriteria", null);
    }
    ADFUtils.findIterator("fetchClientsByCriteriaIterator").executeQuery();
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:searchClientPop').show(hints);");
    
    return null;
  }
  
  public void setBtnRejectClient(RichCommandButton btnRejectClient)
  {
    this.btnRejectClient = btnRejectClient;
  }
  
  public RichCommandButton getBtnRejectClient()
  {
    return this.btnRejectClient;
  }
  
  public void setUploadedImageFile(UploadedFile UploadedImageFile)
  {
    this.UploadedImageFile = UploadedImageFile;
    try
    {
      long Val = UploadedImageFile.getLength();
      InputStream Reader = UploadedImageFile.getInputStream();
      byte[] ImageBytes = new byte[Reader.available()];
      
      InsertClientImage(Reader, Val);
    }
    catch (IOException e)
    {
      e.printStackTrace();
    }
  }
  
  public UploadedFile getUploadedImageFile()
  {
    return this.UploadedImageFile;
  }
  
  public void ImageUploadedListener(ValueChangeEvent valueChangeEvent)
  {
    if (this.session.getAttribute("ClientCode") != null)
    {
      System.out.println(" CLient code == " + this.session.getAttribute("ClientCode"));
      if (valueChangeEvent.getNewValue() != valueChangeEvent.getOldValue())
      {
        UploadedFile _file = (UploadedFile)valueChangeEvent.getNewValue();
        
        this.UploadedImageFile = _file;
        try
        {
          long Val = this.UploadedImageFile.getLength();
          InputStream Reader = this.UploadedImageFile.getInputStream();
          byte[] ImageBytes = new byte[Reader.available()];
          
          Boolean isOk = GlobalCC.validateUploadedImg(this.UploadedImageFile, "Client Image");
          
          System.out.println("isOk " + isOk);
          if (isOk.booleanValue() == true)
          {
            InsertClientImage(Reader, Val);
            this.clientPhoto.setSource("/clientimagesservlet?id=" + this.session.getAttribute("ClientCode"));
            
            GlobalCC.refreshUI(this.clientPhoto);
          }
          else
          {
            this.uploadedPicture.setValue(null);
            
            GlobalCC.refreshUI(this.uploadedPicture);
          }
        }
        catch (Exception e)
        {
          GlobalCC.EXCEPTIONREPORTING(null, e);
        }
      }
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("Client code is required to upload image ");
    }
  }
  
  public void ImageSignatureUploadedListener(ValueChangeEvent valueChangeEvent)
  {
    if (valueChangeEvent.getNewValue() != valueChangeEvent.getOldValue())
    {
      UploadedFile _file = (UploadedFile)valueChangeEvent.getNewValue();
      if (this.session.getAttribute("ClientCode") != null)
      {
        this.UploadedImageFile = _file;
        try
        {
          long Val = this.UploadedImageFile.getLength();
          InputStream Reader = this.UploadedImageFile.getInputStream();
          byte[] ImageBytes = new byte[Reader.available()];
          
          Boolean isOk = GlobalCC.validateUploadedImg(this.UploadedImageFile, "Client Image");
          if (isOk.booleanValue() == true)
          {
            InsertSignatureImage(Reader, Val);
            
            this.clientSignature.setSource("/clientsignatureservlet?id=" + this.session.getAttribute("ClientCode"));
            
            GlobalCC.refreshUI(this.clientSignature);
          }
          else
          {
            this.uploadSignature.setValue(null);
            GlobalCC.refreshUI(this.uploadSignature);
          }
        }
        catch (Exception e)
        {
          GlobalCC.EXCEPTIONREPORTING(null, e);
        }
      }
      else
      {
        GlobalCC.INFORMATIONREPORTING("Client code is required to upload image ");
      }
    }
  }
  
  public void setClientImage(RichImage clientImage)
  {
    this.clientImage = clientImage;
  }
  
  public RichImage getClientImage()
  {
    return this.clientImage;
  }
  
  public void InsertClientImage(InputStream Image, long BytesLength)
  {
    OracleConnection conn = null;
    try
    {
      DBConnector connector = new DBConnector();
      conn = connector.getDatabaseConnection();
      String systemsQuery = "BEGIN TQC_CLIENTS_PKG.update_image(?,?);END;";
      
      CallableStatement cst = null;
      cst = conn.prepareCall(systemsQuery);
      cst.setBlob(1, Image, BytesLength);
      cst.setBigDecimal(2, new BigDecimal(this.session.getAttribute("ClientCode").toString()));
      
      cst.execute();
      
      GlobalCC.refreshUI(this.uploadedPicture);
      
      conn.close();
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(conn, e);
    }
  }
  
  public void InsertSignatureImage(InputStream Image, long BytesLength)
  {
    DBConnector connector = new DBConnector();
    OracleConnection conn = connector.getDatabaseConnection();
    try
    {
      String systemsQuery = "BEGIN TQC_CLIENTS_PKG.update_signature(?,?);END;";
      
      OracleCallableStatement cst = null;
      cst = (OracleCallableStatement)conn.prepareCall(systemsQuery);
      cst.setBlob(1, Image, BytesLength);
      cst.setBigDecimal(2, new BigDecimal(this.session.getAttribute("ClientCode").toString()));
      
      cst.execute();
      
      conn.close();
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(conn, e);
    }
  }
  
  public void setUploadComponent(RichInputFile uploadComponent)
  {
    this.uploadComponent = uploadComponent;
  }
  
  public RichInputFile getUploadComponent()
  {
    return this.uploadComponent;
  }
  
  public void setUploadPhoto(RichInputFile uploadPhoto)
  {
    this.uploadPhoto = uploadPhoto;
  }
  
  public RichInputFile getUploadPhoto()
  {
    return this.uploadPhoto;
  }
  
  public void setClientSignature(RichImage clientSignature)
  {
    this.clientSignature = clientSignature;
  }
  
  public RichImage getClientSignature()
  {
    return this.clientSignature;
  }
  
  public void setClientPhoto(RichImage clientPhoto)
  {
    this.clientPhoto = clientPhoto;
  }
  
  public RichImage getClientPhoto()
  {
    return this.clientPhoto;
  }
  
  public void setUploadedPicture(RichInputFile uploadedPicture)
  {
    this.uploadedPicture = uploadedPicture;
  }
  
  public RichInputFile getUploadedPicture()
  {
    return this.uploadedPicture;
  }
  
  public void setUploadSignature(RichInputFile uploadSignature)
  {
    this.uploadSignature = uploadSignature;
  }
  
  public RichInputFile getUploadSignature()
  {
    return this.uploadSignature;
  }
  
  public void setTxtWebsite(RichInputText txtWebsite)
  {
    this.txtWebsite = txtWebsite;
  }
  
  public RichInputText getTxtWebsite()
  {
    return this.txtWebsite;
  }
  
  public void setTxtAuditors(RichInputText txtAuditors)
  {
    this.txtAuditors = txtAuditors;
  }
  
  public RichInputText getTxtAuditors()
  {
    return this.txtAuditors;
  }
  
  public void setTxtDLNo(RichInputText txtDLNo)
  {
    this.txtDLNo = txtDLNo;
  }
  
  public RichInputText getTxtDLNo()
  {
    return this.txtDLNo;
  }
  
  public void setTxtDateOfEmployment(RichInputDate txtDateOfEmployment)
  {
    this.txtDateOfEmployment = txtDateOfEmployment;
  }
  
  public RichInputDate getTxtDateOfEmployment()
  {
    return this.txtDateOfEmployment;
  }
  
  public void setTxtInsurer(RichInputText txtInsurer)
  {
    this.txtInsurer = txtInsurer;
  }
  
  public RichInputText getTxtInsurer()
  {
    return this.txtInsurer;
  }
  
  public void setTxtParentCompany(RichInputText txtParentCompany)
  {
    this.txtParentCompany = txtParentCompany;
  }
  
  public RichInputText getTxtParentCompany()
  {
    return this.txtParentCompany;
  }
  
  public void setTxtProjectedBusiness(RichInputText txtProjectedBusiness)
  {
    this.txtProjectedBusiness = txtProjectedBusiness;
  }
  
  public RichInputText getTxtProjectedBusiness()
  {
    return this.txtProjectedBusiness;
  }
  
  public void setAddAgencyDirectors(RichCommandButton addAgencyDirectors)
  {
    this.addAgencyDirectors = addAgencyDirectors;
  }
  
  public RichCommandButton getAddAgencyDirectors()
  {
    return this.addAgencyDirectors;
  }
  
  public void setEditAgencyDirectors(RichCommandButton editAgencyDirectors)
  {
    this.editAgencyDirectors = editAgencyDirectors;
  }
  
  public RichCommandButton getEditAgencyDirectors()
  {
    return this.editAgencyDirectors;
  }
  
  public void setDeleteAgencyDirectors(RichCommandButton deleteAgencyDirectors)
  {
    this.deleteAgencyDirectors = deleteAgencyDirectors;
  }
  
  public RichCommandButton getDeleteAgencyDirectors()
  {
    return this.deleteAgencyDirectors;
  }
  
  public void setAgencyDirectorId(RichInputText agencyDirectorId)
  {
    this.agencyDirectorId = agencyDirectorId;
  }
  
  public RichInputText getAgencyDirectorId()
  {
    return this.agencyDirectorId;
  }
  
  public void setDirectYr(RichInputDate directYr)
  {
    this.directYr = directYr;
  }
  
  public RichInputDate getDirectYr()
  {
    return this.directYr;
  }
  
  public void setDirectQualifications(RichInputText directQualifications)
  {
    this.directQualifications = directQualifications;
  }
  
  public RichInputText getDirectQualifications()
  {
    return this.directQualifications;
  }
  
  public void setDirectshare(RichInputNumberSpinbox directshare)
  {
    this.directshare = directshare;
  }
  
  public RichInputNumberSpinbox getDirectshare()
  {
    return this.directshare;
  }
  
  public void setSaveAgDirectorsAction(RichCommandButton saveAgDirectorsAction)
  {
    this.saveAgDirectorsAction = saveAgDirectorsAction;
  }
  
  public RichCommandButton getSaveAgDirectorsAction()
  {
    return this.saveAgDirectorsAction;
  }
  
  public void setTabDirectors(RichShowDetailItem tabDirectors)
  {
    this.tabDirectors = tabDirectors;
  }
  
  public RichShowDetailItem getTabDirectors()
  {
    return this.tabDirectors;
  }
  
  public String addAgencyDirectors()
  {
    if (this.session.getAttribute("ClientCode") != null)
    {
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:agentDirectorsPop').show(hints);");
      
      this.directYr.setValue(null);
      this.directname.setValue(null);
      this.directQualifications.setValue(null);
      this.directshare.setValue(null);
      this.saveAgDirectorButton.setText("Save");
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("CLIENT CODE REQUIRED");
      return null;
    }
    return null;
  }
  
  public String saveAgDirectorsAction()
  {
    DBConnector connection = new DBConnector();
    String query = "begin TQC_CLIENTS_PKG.TQC_CLIENT_DIRECTORS_PRC(?,?,?,?,?,?,?,?,?);end;";
    
    ARRAY array = null;
    OracleConnection conn = null;
    OracleCallableStatement stmt = null;
    String drYear = null;
    String drName = null;
    String qual = null;
    String share = null;
    drYear = GlobalCC.checkNullValues(this.directYr.getValue());
    drName = GlobalCC.checkNullValues(this.directname.getValue());
    qual = GlobalCC.checkNullValues(this.directQualifications.getValue());
    share = GlobalCC.checkNullValues(this.directshare.getValue());
    if (drYear == null)
    {
      GlobalCC.errorValueNotEntered("YEAR Required::");
      return null;
    }
    if (drName == null)
    {
      GlobalCC.errorValueNotEntered("Auditor  Name Required::");
      return null;
    }
    if (this.saveAgDirectorButton.getText().equals("Save"))
    {
      BigDecimal yr = null;
      java.util.Date year = (java.util.Date)this.directYr.getValue();
      if ((year != null) && (this.directYr.getValue() != "")) {
        yr = new BigDecimal(new SimpleDateFormat("yyyy").format(year));
      }
      try
      {
        conn = connection.getDatabaseConnection();
        stmt = (OracleCallableStatement)conn.prepareCall(query);
        
        stmt.setString(1, "A");
        stmt.setBigDecimal(2, null);
        stmt.setBigDecimal(3, new BigDecimal(this.session.getAttribute("ClientCode").toString()));
        
        stmt.setBigDecimal(4, yr);
        stmt.setString(5, drName);
        stmt.setString(6, qual);
        stmt.setBigDecimal(7, share == null ? null : new BigDecimal(share));
        
        stmt.setString(8, "");
        
        stmt.registerOutParameter(9, 12);
        
        stmt.execute();
        
        String error = stmt.getString(9);
        if (error == null)
        {
          GlobalCC.INFORMATIONREPORTING("RECORD SAVED SUCCESSFULLY");
          ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
          
          erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:agentDirectorsPop').hide(hints);");
          
          stmt.close();
          conn.close();
          ADFUtils.findIterator("findClientsDirectorsIterator").executeQuery();
          GlobalCC.refreshUI(this.agentDirectorsTable);
          return null;
        }
        GlobalCC.INFORMATIONREPORTING(error);
        return null;
      }
      catch (Exception e)
      {
        GlobalCC.EXCEPTIONREPORTING(conn, e);
        return null;
      }
    }
    if (this.saveAgDirectorButton.getText().equals("Update"))
    {
      BigDecimal yr = null;
      java.util.Date year = null;
      if (this.directYr.getValue() != null) {
        year = (java.util.Date)this.directYr.getValue();
      }
      if ((year != null) && (this.directYr.getValue() != "")) {
        yr = new BigDecimal(new SimpleDateFormat("yyyy").format(year));
      }
      try
      {
        conn = connection.getDatabaseConnection();
        stmt = (OracleCallableStatement)conn.prepareCall(query);
        
        stmt.setString(1, "E");
        
        stmt.setBigDecimal(2, new BigDecimal(this.agencyDirectorId.getValue().toString()));
        
        stmt.setBigDecimal(3, new BigDecimal(this.session.getAttribute("ClientCode").toString()));
        
        stmt.setBigDecimal(4, yr);
        stmt.setString(5, drName);
        stmt.setString(6, qual);
        stmt.setBigDecimal(7, qual == null ? null : new BigDecimal(qual));
        
        stmt.setString(8, qual);
        
        stmt.registerOutParameter(9, 12);
        
        stmt.execute();
        String error = stmt.getString(9);
        if (error == null)
        {
          GlobalCC.INFORMATIONREPORTING("RECORD UPDATED SUCCESSFULLY");
          ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
          
          erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:agentDirectorsPop').hide(hints);");
          
          stmt.close();
          conn.close();
          ADFUtils.findIterator("findClientsDirectorsIterator").executeQuery();
          GlobalCC.refreshUI(this.agentDirectorsTable);
          return null;
        }
        GlobalCC.INFORMATIONREPORTING(error);
        return null;
      }
      catch (Exception e)
      {
        GlobalCC.EXCEPTIONREPORTING(conn, e);
        return null;
      }
    }
    return null;
  }
  
  public String editAgencyDirectors()
  {
    Object key2 = this.agentDirectorsTable.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.agencyDirectorId.setValue(nodeBinding.getAttribute("clntdir_code"));
      
      this.directname.setValue(nodeBinding.getAttribute("clntdir_name"));
      this.directQualifications.setValue(nodeBinding.getAttribute("clntdir_qualifications"));
      this.directshare.setValue(nodeBinding.getAttribute("clntdir_pct_holdg"));
      
      this.saveAgDirectorButton.setText("Update");
      
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:agentDirectorsPop').show(hints);");
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("No record selected.");
      return null;
    }
    return null;
  }
  
  public String deleteAgencyDirectors()
  {
    Object key2 = this.agentDirectorsTable.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:confirmDeleteClientDirectors').show(hints);");
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("No Record Selected.");
      return null;
    }
    return null;
  }
  
  public void setDirectname(RichInputText directname)
  {
    this.directname = directname;
  }
  
  public RichInputText getDirectname()
  {
    return this.directname;
  }
  
  public void setSaveAgDirectorButton(RichCommandButton saveAgDirectorButton)
  {
    this.saveAgDirectorButton = saveAgDirectorButton;
  }
  
  public RichCommandButton getSaveAgDirectorButton()
  {
    return this.saveAgDirectorButton;
  }
  
  public void setAgentDirectorsTable(RichTable agentDirectorsTable)
  {
    this.agentDirectorsTable = agentDirectorsTable;
  }
  
  public RichTable getAgentDirectorsTable()
  {
    return this.agentDirectorsTable;
  }
  
  public void setTabAuditors(RichShowDetailItem tabAuditors)
  {
    this.tabAuditors = tabAuditors;
  }
  
  public RichShowDetailItem getTabAuditors()
  {
    return this.tabAuditors;
  }
  
  public void setAddAgencyAuditors(RichCommandButton addAgencyAuditors)
  {
    this.addAgencyAuditors = addAgencyAuditors;
  }
  
  public RichCommandButton getAddAgencyAuditors()
  {
    return this.addAgencyAuditors;
  }
  
  public String deleteAgencyAuditors()
  {
    Object key2 = this.agentAuditorsTable.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:confirmDeleteClientAuditors').show(hints);");
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("No Record Selected.");
      return null;
    }
    return null;
  }
  
  public String editAgencyAuditors()
  {
    Object key2 = this.agentAuditorsTable.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.agencyAuditorId.setValue(nodeBinding.getAttribute("clntaud_code"));
      
      this.auditName.setValue(nodeBinding.getAttribute("clntaud_name"));
      this.directAuditorQualification.setValue(nodeBinding.getAttribute("clntaud_qualifications"));
      this.auditorTelephone.setValue(nodeBinding.getAttribute("clntaud_telephone"));
      
      this.saveAgAuditorButton.setText("Update");
      
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:agentAuditorsPop').show(hints);");
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("No record selected.");
      return null;
    }
    return null;
  }
  
  public void setEditAgencyAuditors(RichCommandButton editAgencyAuditors)
  {
    this.editAgencyAuditors = editAgencyAuditors;
  }
  
  public RichCommandButton getEditAgencyAuditors()
  {
    return this.editAgencyAuditors;
  }
  
  public void setDeleteAgencyAuditors(RichCommandButton deleteAgencyAuditors)
  {
    this.deleteAgencyAuditors = deleteAgencyAuditors;
  }
  
  public RichCommandButton getDeleteAgencyAuditors()
  {
    return this.deleteAgencyAuditors;
  }
  
  public void setAgencyAuditorId(RichInputText agencyAuditorId)
  {
    this.agencyAuditorId = agencyAuditorId;
  }
  
  public RichInputText getAgencyAuditorId()
  {
    return this.agencyAuditorId;
  }
  
  public String saveAgAuditorAction()
  {
    DBConnector connection = new DBConnector();
    String query = "begin TQC_CLIENTS_PKG.TQC_CLIENT_AUDITORS_PRC(?,?,?,?,?,?,?,?,?);end;";
    
    OracleConnection conn = null;
    OracleCallableStatement stmt = null;
    
    String auYear = GlobalCC.checkNullValues(this.auditYER.getValue());
    String auName = GlobalCC.checkNullValues(this.auditName.getValue());
    String qual = GlobalCC.checkNullValues(this.directAuditorQualification.getValue());
    
    String telephone = GlobalCC.checkNullValues(this.auditorTelephone.getValue());
    if (auYear == null)
    {
      GlobalCC.errorValueNotEntered("YEAR Required::");
      return null;
    }
    if (auName == null)
    {
      GlobalCC.errorValueNotEntered("Auditor  Name Required::");
      return null;
    }
    if (this.saveAgAuditorButton.getText().equals("Save"))
    {
      BigDecimal yr = null;
      java.util.Date year = null;
      if ((auYear != null) && (auYear != "")) {
        year = (java.util.Date)this.auditYER.getValue();
      }
      if ((year != null) && (this.auditYER.getValue() != "")) {
        yr = new BigDecimal(new SimpleDateFormat("yyyy").format(year));
      }
      try
      {
        conn = connection.getDatabaseConnection();
        stmt = (OracleCallableStatement)conn.prepareCall(query);
        
        stmt.setString(1, "A");
        stmt.setBigDecimal(2, null);
        stmt.setBigDecimal(3, new BigDecimal(this.session.getAttribute("ClientCode").toString()));
        
        stmt.setBigDecimal(4, yr);
        stmt.setString(5, auName);
        stmt.setString(6, qual);
        stmt.setString(7, telephone);
        stmt.setString(8, "");
        stmt.registerOutParameter(9, 12);
        
        stmt.execute();
        String error = stmt.getString(9);
        if (error == null)
        {
          GlobalCC.INFORMATIONREPORTING("RECORD SAVED SUCCESSFULLY");
          ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
          
          erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:agentAuditorsPop').hide(hints);");
          
          stmt.close();
          conn.close();
          ADFUtils.findIterator("findClientsAuditorsIterator").executeQuery();
          GlobalCC.refreshUI(this.agentAuditorsTable);
          return null;
        }
        GlobalCC.INFORMATIONREPORTING(error);
        return null;
      }
      catch (Exception e)
      {
        GlobalCC.EXCEPTIONREPORTING(conn, e);
        return null;
      }
    }
    if (this.saveAgAuditorButton.getText().equals("Update"))
    {
      BigDecimal yr = null;
      java.util.Date year = (java.util.Date)this.auditYER.getValue();
      if ((year != null) && (this.auditYER.getValue() != "")) {
        yr = new BigDecimal(new SimpleDateFormat("yyyy").format(year));
      }
      try
      {
        conn = connection.getDatabaseConnection();
        stmt = (OracleCallableStatement)conn.prepareCall(query);
        
        stmt.setString(1, "E");
        
        stmt.setBigDecimal(2, new BigDecimal(this.agencyAuditorId.getValue().toString()));
        
        stmt.setBigDecimal(3, new BigDecimal(this.session.getAttribute("ClientCode").toString()));
        
        stmt.setBigDecimal(4, yr);
        stmt.setString(5, (String)this.auditName.getValue());
        stmt.setString(6, (String)this.directAuditorQualification.getValue());
        
        stmt.setString(7, (String)this.auditorTelephone.getValue());
        stmt.setString(8, (String)this.directAuditorQualification.getValue());
        
        stmt.registerOutParameter(9, 12);
        
        stmt.execute();
        
        String error = stmt.getString(9);
        if (error == null)
        {
          GlobalCC.INFORMATIONREPORTING("RECORD UPDTED SUCCESSFULLY");
          ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
          
          erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:agentAuditorsPop').hide(hints);");
          
          stmt.close();
          conn.close();
          ADFUtils.findIterator("findClientsAuditorsIterator").executeQuery();
          GlobalCC.refreshUI(this.agentAuditorsTable);
          
          return null;
        }
        GlobalCC.INFORMATIONREPORTING(error);
        return null;
      }
      catch (Exception e)
      {
        GlobalCC.EXCEPTIONREPORTING(conn, e);
        return null;
      }
    }
    return null;
  }
  
  public void setSaveAgAuditorButton(RichCommandButton saveAgAuditorButton)
  {
    this.saveAgAuditorButton = saveAgAuditorButton;
  }
  
  public RichCommandButton getSaveAgAuditorButton()
  {
    return this.saveAgAuditorButton;
  }
  
  public void setDirectAuditorQualification(RichInputText directAuditorQualification)
  {
    this.directAuditorQualification = directAuditorQualification;
  }
  
  public RichInputText getDirectAuditorQualification()
  {
    return this.directAuditorQualification;
  }
  
  public void setAuditName(RichInputText auditName)
  {
    this.auditName = auditName;
  }
  
  public RichInputText getAuditName()
  {
    return this.auditName;
  }
  
  public void setAuditYr(RichInputText auditYr)
  {
    this.auditYr = auditYr;
  }
  
  public RichInputText getAuditYr()
  {
    return this.auditYr;
  }
  
  public void setAuditYear(RichInputText auditYear)
  {
    this.auditYear = auditYear;
  }
  
  public RichInputText getAuditYear()
  {
    return this.auditYear;
  }
  
  public void setAuditYER(RichInputDate auditYER)
  {
    this.auditYER = auditYER;
  }
  
  public RichInputDate getAuditYER()
  {
    return this.auditYER;
  }
  
  public void setAuditorTelephone(RichInputText auditorTelephone)
  {
    this.auditorTelephone = auditorTelephone;
  }
  
  public RichInputText getAuditorTelephone()
  {
    return this.auditorTelephone;
  }
  
  public void setAgentAuditorsTable(RichTable agentAuditorsTable)
  {
    this.agentAuditorsTable = agentAuditorsTable;
  }
  
  public RichTable getAgentAuditorsTable()
  {
    return this.agentAuditorsTable;
  }
  
  public void setAddClientAuditors(RichCommandButton addClientAuditors)
  {
    this.addClientAuditors = addClientAuditors;
  }
  
  public RichCommandButton getAddClientAuditors()
  {
    return this.addClientAuditors;
  }
  
  public String addClientAuditors()
  {
    if (this.session.getAttribute("ClientCode") != null)
    {
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:agentAuditorsPop').show(hints);");
      
      this.auditYER.setValue(null);
      this.auditName.setValue(null);
      this.directAuditorQualification.setValue(null);
      this.auditorTelephone.setValue(null);
      this.saveAgAuditorButton.setText("Save");
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("CLIENT CODE REQUIRED");
      return null;
    }
    return null;
  }
  
  public String actionAcceptParentCompany()
  {
    Object key2 = this.tableParentComp.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.txtParentCompany.setValue(nodeBinding.getAttribute("code"));
      this.txtParentCompanyCode.setValue(nodeBinding.getAttribute("name"));
    }
    GlobalCC.refreshUI(this.txtParentCompanyCode);
    GlobalCC.dismissPopUp("pt1", "parentCompanyPop");
    return null;
  }
  
  public String actionAcceptBranch()
  {
    Object key2 = this.tblRegBranches.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.txtRegBranchCode.setValue(nodeBinding.getAttribute("branchCode"));
      this.txtRegBranchName.setValue(nodeBinding.getAttribute("branchName"));
    }
    GlobalCC.refreshUI(this.txtRegBranchName);
    return null;
  }
  
  public void tbParentCompanyListener(SelectionEvent selectionEvent) {}
  
  public void setTxtParentCompanyCode(RichInputText txtParentCompanyCode)
  {
    this.txtParentCompanyCode = txtParentCompanyCode;
  }
  
  public RichInputText getTxtParentCompanyCode()
  {
    return this.txtParentCompanyCode;
  }
  
  public void setParentcompanyPan(RichPanelLabelAndMessage parentcompanyPan)
  {
    this.parentcompanyPan = parentcompanyPan;
  }
  
  public RichPanelLabelAndMessage getParentcompanyPan()
  {
    return this.parentcompanyPan;
  }
  
  public void setTbParentCompanyPop(RichPopup tbParentCompanyPop)
  {
    this.tbParentCompanyPop = tbParentCompanyPop;
  }
  
  public RichPopup getTbParentCompanyPop()
  {
    return this.tbParentCompanyPop;
  }
  
  public void setTableParentComp(RichTable tableParentComp)
  {
    this.tableParentComp = tableParentComp;
  }
  
  public RichTable getTableParentComp()
  {
    return this.tableParentComp;
  }
  
  public void setTxtProjectedBiz(RichInputNumberSpinbox txtProjectedBiz)
  {
    this.txtProjectedBiz = txtProjectedBiz;
  }
  
  public RichInputNumberSpinbox getTxtProjectedBiz()
  {
    return this.txtProjectedBiz;
  }
  
  public void setTxtRegBranchName(RichInputText txtRegBranchName)
  {
    this.txtRegBranchName = txtRegBranchName;
  }
  
  public RichInputText getTxtRegBranchName()
  {
    return this.txtRegBranchName;
  }
  
  public void setTxtRegBranchCode(RichInputText txtRegBranchCode)
  {
    this.txtRegBranchCode = txtRegBranchCode;
  }
  
  public RichInputText getTxtRegBranchCode()
  {
    return this.txtRegBranchCode;
  }
  
  public void setTblBranches(RichCommandButton tblBranches)
  {
    this.tblBranches = tblBranches;
  }
  
  public RichCommandButton getTblBranches()
  {
    return this.tblBranches;
  }
  
  public void setTblRegBranches(RichTable tblRegBranches)
  {
    this.tblRegBranches = tblRegBranches;
  }
  
  public RichTable getTblRegBranches()
  {
    return this.tblRegBranches;
  }
  
  public void setBtnAcceptBranch(RichCommandButton btnAcceptBranch)
  {
    this.btnAcceptBranch = btnAcceptBranch;
  }
  
  public RichCommandButton getBtnAcceptBranch()
  {
    return this.btnAcceptBranch;
  }
  
  public void setBranchPop(RichPopup branchPop)
  {
    this.branchPop = branchPop;
  }
  
  public RichPopup getBranchPop()
  {
    return this.branchPop;
  }
  
  public String actionNewGroup()
  {
    this.txtGrpCode.setValue(null);
    this.txtGrpName.setValue(null);
    this.txtGrpMinimum.setValue(null);
    this.txtGrpMax.setValue(null);
    this.btnsaveGrp.setText("Save");
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:addGrpClient').show(hints);");
    
    return null;
  }
  
  public String actionEditGroupClient()
  {
    if (this.session.getAttribute("grpCode") != null)
    {
      Object key2 = this.tblClientGroup.getSelectedRowData();
      JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
      this.txtGrpCode.setValue(null);
      this.txtGrpName.setValue(null);
      this.txtGrpMinimum.setValue(null);
      this.txtGrpMax.setValue(null);
      if (nodeBinding != null)
      {
        this.txtGrpCode.setValue(nodeBinding.getAttribute("grp_Code"));
        this.txtGrpName.setValue(nodeBinding.getAttribute("grp_Name"));
        this.txtGrpMinimum.setValue(nodeBinding.getAttribute("grp_Minimum"));
        this.txtGrpMax.setValue(nodeBinding.getAttribute("grp_Maximum"));
        this.btnsaveGrp.setText("update");
        
        ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
        
        erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:addGrpClient').show(hints);");
      }
      else
      {
        GlobalCC.INFORMATIONREPORTING("No record selected::");
        return null;
      }
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("No record selected::");
      return null;
    }
    return null;
  }
  
  public void actionConfirmDeleteClntGrp(DialogEvent dialogEvent)
  {
    if (!dialogEvent.getOutcome().equals(DialogEvent.Outcome.no)) {
      if (dialogEvent.getOutcome().equals(DialogEvent.Outcome.yes)) {
        actionDeleteGroupClient();
      }
    }
  }
  
  public void actionConfirmDeleteClntGrpMember(DialogEvent dialogEvent)
  {
    if (!dialogEvent.getOutcome().equals(DialogEvent.Outcome.no)) {
      if (dialogEvent.getOutcome().equals(DialogEvent.Outcome.yes))
      {
        DBConnector dbConnector = new DBConnector();
        OracleConnection conn = null;
        OracleCallableStatement statement = null;
        try
        {
          conn = dbConnector.getDatabaseConnection();
          String query = "begin TQC_SETUPS_PKG.clientGroupMembers_prc(?,?,?,?); end;";
          
          statement = (OracleCallableStatement)conn.prepareCall(query);
          statement.setString(1, "D");
          statement.setBigDecimal(2, new BigDecimal(this.session.getAttribute("grpdCode").toString()));
          
          statement.setBigDecimal(3, null);
          statement.setBigDecimal(4, null);
          statement.execute();
          
          statement.close();
          conn.commit();
          conn.close();
          this.btnRemoveClientFromGroup.setDisabled(true);
          GlobalCC.refreshUI(this.btnRemoveClientFromGroup);
          GlobalCC.INFORMATIONREPORTING("Client Deleted Successfully");
          
          ADFUtils.findIterator("findClientGroupMembersIterator").executeQuery();
          GlobalCC.refreshUI(this.tblClientGrpMembers);
        }
        catch (Exception e)
        {
          GlobalCC.EXCEPTIONREPORTING(conn, e);
        }
      }
    }
  }
  
  public String actionDeleteGroupClient()
  {
    Object key2 = this.tblClientGroup.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      DBConnector dbCon = new DBConnector();
      OracleConnection conn = null;
      try
      {
        conn = dbCon.getDatabaseConnection();
        
        String query = "begin TQC_SETUPS_PKG.clientGroup_prc(?,?,?,?,?); end;";
        
        OracleCallableStatement cst = null;
        cst = (OracleCallableStatement)conn.prepareCall(query);
        cst.setString(1, "D");
        cst.setBigDecimal(2, new BigDecimal(this.session.getAttribute("grpCode").toString()));
        
        cst.setString(3, null);
        cst.setBigDecimal(4, null);
        cst.setBigDecimal(5, null);
        
        cst.execute();
        cst.close();
        conn.commit();
        conn.close();
        GlobalCC.INFORMATIONREPORTING("Record Successfully Deleted");
        this.btnActionDeleteGroupClient.setDisabled(true);
        GlobalCC.refreshUI(this.btnActionDeleteGroupClient);
        ADFUtils.findIterator("findClientGroupsIterator").executeQuery();
        GlobalCC.refreshUI(this.tblClientGroup);
        ADFUtils.findIterator("findClientGroupMembersIteratorr").executeQuery();
        GlobalCC.refreshUI(this.tblClientGrpMembers);
        
        return null;
      }
      catch (Exception e)
      {
        e.printStackTrace();
        GlobalCC.EXCEPTIONREPORTING(conn, e);
        return null;
      }
    }
    GlobalCC.INFORMATIONREPORTING("No record Selected::");
    return null;
  }
  
  public String actionHideUserGroupLov()
  {
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:addClientGrpPopt').hide(hints);");
    
    return null;
  }
  
  public String actionAddClientToGroup()
  {
    if (this.session.getAttribute("grpCode") != null)
    {
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:searchClientPop').show(hints);");
      
      return null;
    }
    GlobalCC.INFORMATIONREPORTING("First select  The group::");
    
    return null;
  }
  
  public String actionShowConfirmDelete()
  {
    if (this.session.getAttribute("grpCode") != null)
    {
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:confirmDeleteClientGrp').show(hints);");
      
      return null;
    }
    GlobalCC.INFORMATIONREPORTING("First select  The group::");
    
    return null;
  }
  
  public String actionSaveGroupClient()
  {
    if (this.btnsaveGrp.getText().equalsIgnoreCase("save"))
    {
      String name = GlobalCC.checkNullValues(this.txtGrpName.getValue());
      String min = GlobalCC.checkNullValues(this.txtGrpMinimum.getValue());
      String max = GlobalCC.checkNullValues(this.txtGrpMax.getValue());
      if (name == null)
      {
        GlobalCC.errorValueNotEntered("Group name required::");
        return null;
      }
      if (min == null)
      {
        GlobalCC.errorValueNotEntered("Min number  required::");
        return null;
      }
      if (max == null)
      {
        GlobalCC.errorValueNotEntered("Max number required::");
        return null;
      }
      DBConnector dbCon = new DBConnector();
      OracleConnection conn = null;
      try
      {
        conn = dbCon.getDatabaseConnection();
        
        String query = "begin TQC_SETUPS_PKG.clientGroup_prc(?,?,?,?,?); end;";
        
        OracleCallableStatement cst = null;
        cst = (OracleCallableStatement)conn.prepareCall(query);
        cst.setString(1, "A");
        cst.setBigDecimal(2, null);
        cst.setString(3, name);
        cst.setBigDecimal(4, new BigDecimal(min));
        cst.setBigDecimal(5, new BigDecimal(max));
        
        cst.execute();
        cst.close();
        conn.commit();
        conn.close();
        GlobalCC.INFORMATIONREPORTING("Record Successfully saved");
        ADFUtils.findIterator("findClientGroupsIterator").executeQuery();
        GlobalCC.refreshUI(this.tblClientGroup);
        ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
        
        erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:addGrpClient').hide(hints);");
        
        return null;
      }
      catch (Exception e)
      {
        e.printStackTrace();
        GlobalCC.EXCEPTIONREPORTING(conn, e);
        return null;
      }
    }
    String name = GlobalCC.checkNullValues(this.txtGrpName.getValue());
    String min = GlobalCC.checkNullValues(this.txtGrpMinimum.getValue());
    String max = GlobalCC.checkNullValues(this.txtGrpMax.getValue());
    String code = GlobalCC.checkNullValues(this.txtGrpCode.getValue());
    if (name == null)
    {
      GlobalCC.errorValueNotEntered("Group name required::");
      return null;
    }
    if (min == null)
    {
      GlobalCC.errorValueNotEntered("Min number  required::");
      return null;
    }
    if (max == null)
    {
      GlobalCC.errorValueNotEntered("Max number required::");
      return null;
    }
    if (code == null)
    {
      GlobalCC.errorValueNotEntered("Grp Code required::");
      return null;
    }
    DBConnector dbCon = new DBConnector();
    OracleConnection conn = null;
    try
    {
      conn = dbCon.getDatabaseConnection();
      
      String query = "begin TQC_SETUPS_PKG.clientGroup_prc(?,?,?,?,?); end;";
      
      OracleCallableStatement cst = null;
      cst = (OracleCallableStatement)conn.prepareCall(query);
      cst.setString(1, "E");
      cst.setBigDecimal(2, new BigDecimal(code));
      cst.setString(3, name);
      cst.setBigDecimal(4, new BigDecimal(min));
      cst.setBigDecimal(5, new BigDecimal(max));
      
      cst.execute();
      cst.close();
      conn.commit();
      conn.close();
      GlobalCC.INFORMATIONREPORTING("Record Successfully Updated");
      this.btnActionEditGroupClient.setDisabled(false);
      
      GlobalCC.refreshUI(this.btnActionEditGroupClient);
      ADFUtils.findIterator("findClientGroupsIterator").executeQuery();
      GlobalCC.refreshUI(this.tblClientGroup);
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:addGrpClient').hide(hints);");
      
      return null;
    }
    catch (Exception e)
    {
      e.printStackTrace();
      GlobalCC.EXCEPTIONREPORTING(conn, e);
    }
    return null;
  }
  
  public boolean checkIfAnyRowselected()
  {
    RowKeySet rks = new RowKeySetImpl();
    
    int rowcount = this.tblClientPop.getRowCount();
    
    int count = 0;
    for (int i = 0; i < rowcount; i++)
    {
      this.tblClientPop.setRowIndex(i);
      Object key = this.tblClientPop.getRowKey();
      this.tblClientPop.setRowKey(key);
      JUCtrlHierNodeBinding nodeBinding = (JUCtrlHierNodeBinding)this.tblClientPop.getRowData();
      if (nodeBinding.getAttribute("selected").toString().equalsIgnoreCase("true")) {
        count++;
      }
    }
    return count > 0;
  }
  
  public String selectAll()
  {
    RowKeySet rks = new RowKeySetImpl();
    
    int rowcount = this.tblClientPop.getRowCount();
    for (int i = 0; i < rowcount; i++)
    {
      this.tblClientPop.setRowIndex(i);
      Object key = this.tblClientPop.getRowKey();
      this.tblClientPop.setRowKey(key);
      JUCtrlHierNodeBinding nodeBinding = (JUCtrlHierNodeBinding)this.tblClientPop.getRowData();
      
      this.columnSelect.setSelected(true);
      GlobalCC.refreshUI(this.columnSelect);
    }
    return null;
  }
  
  public String actionAcceptClientLov()
  {
    if (checkIfAnyRowselected() == true)
    {
      Object xy = null;
      RowKeySet rks = new RowKeySetImpl();
      
      int rowcount = this.tblClientPop.getRowCount();
      for (int i = 0; i < rowcount; i++)
      {
        this.tblClientPop.setRowIndex(i);
        Object key = this.tblClientPop.getRowKey();
        this.tblClientPop.setRowKey(key);
        JUCtrlHierNodeBinding nodeBinding = (JUCtrlHierNodeBinding)this.tblClientPop.getRowData();
        
        Object selected = nodeBinding.getAttribute("selected");
        if (selected.toString().equalsIgnoreCase("true")) {
          if (this.session.getAttribute("grpCode") != null)
          {
            DBConnector dbConnector = new DBConnector();
            OracleConnection conn = null;
            OracleCallableStatement statement = null;
            try
            {
              conn = dbConnector.getDatabaseConnection();
              String query = "begin TQC_SETUPS_PKG.clientGroupMembers_prc(?,?,?,?); end;";
              
              statement = (OracleCallableStatement)conn.prepareCall(query);
              
              statement.setString(1, "A");
              statement.setBigDecimal(2, null);
              statement.setBigDecimal(3, new BigDecimal(nodeBinding.getAttribute("code").toString()));
              
              statement.setBigDecimal(4, new BigDecimal(this.session.getAttribute("grpCode").toString()));
              
              statement.execute();
              
              statement.close();
              conn.commit();
              conn.close();
            }
            catch (Exception e)
            {
              e.printStackTrace();
              GlobalCC.EXCEPTIONREPORTING(conn, e);
              return null;
            }
          }
          else
          {
            GlobalCC.INFORMATIONREPORTING("First Select Client Group ::");
            return null;
          }
        }
      }
      ADFUtils.findIterator("findClientGroupMembersIterator").executeQuery();
      GlobalCC.refreshUI(this.tblClientGrpMembers);
      ADFUtils.findIterator("fetchClientsByCriteriaIterator").executeQuery();
      GlobalCC.refreshUI(this.tblClientPop);
      GlobalCC.dismissPopUp("pt1", "addClientGrpPop");
      
      return null;
    }
    GlobalCC.INFORMATIONREPORTING("No Record Selected");
    return null;
  }
  
  public void actionTblClientGroupListener(SelectionEvent selectionEvent)
  {
    Object key2 = this.tblClientGroup.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.session.setAttribute("grpCode", nodeBinding.getAttribute("grp_Code"));
      
      this.btnActionEditGroupClient.setDisabled(false);
      this.btnActionDeleteGroupClient.setDisabled(false);
      
      GlobalCC.refreshUI(this.btnActionEditGroupClient);
      GlobalCC.refreshUI(this.btnActionDeleteGroupClient);
      
      ADFUtils.findIterator("findClientGroupMembersIterator").executeQuery();
      GlobalCC.refreshUI(this.tblClientGrpMembers);
    }
  }
  
  public String actionDeleteClntFromGroup()
  {
    Object key2 = this.tblClientGrpMembers.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      if (nodeBinding.getAttribute("grpd_Code") != null)
      {
        this.session.setAttribute("grpdCode", nodeBinding.getAttribute("grpd_Code"));
        
        ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
        
        erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:confirmDeleteClientGrpMember').show(hints);");
        
        return null;
      }
      GlobalCC.INFORMATIONREPORTING("No record selected::");
      return null;
    }
    GlobalCC.INFORMATIONREPORTING("No record selected::");
    return null;
  }
  
  public void actiontblGrpMemberListener(SelectionEvent selectionEvent)
  {
    Object key2 = this.tblClientGrpMembers.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.session.setAttribute("grpdCode", nodeBinding.getAttribute("grpd_Code"));
      
      this.btnRemoveClientFromGroup.setDisabled(false);
      
      GlobalCC.refreshUI(this.btnRemoveClientFromGroup);
    }
  }
  
  public void setTxtGrpName(RichInputText txtGrpName)
  {
    this.txtGrpName = txtGrpName;
  }
  
  public RichInputText getTxtGrpName()
  {
    return this.txtGrpName;
  }
  
  public void setTxtGrpMinimum(RichInputNumberSpinbox txtGrpMinimum)
  {
    this.txtGrpMinimum = txtGrpMinimum;
  }
  
  public RichInputNumberSpinbox getTxtGrpMinimum()
  {
    return this.txtGrpMinimum;
  }
  
  public void setTxtGrpMax(RichInputNumberSpinbox txtGrpMax)
  {
    this.txtGrpMax = txtGrpMax;
  }
  
  public RichInputNumberSpinbox getTxtGrpMax()
  {
    return this.txtGrpMax;
  }
  
  public void setBtnsaveGrp(RichCommandButton btnsaveGrp)
  {
    this.btnsaveGrp = btnsaveGrp;
  }
  
  public RichCommandButton getBtnsaveGrp()
  {
    return this.btnsaveGrp;
  }
  
  public void setTxtGrpCode(RichInputText txtGrpCode)
  {
    this.txtGrpCode = txtGrpCode;
  }
  
  public RichInputText getTxtGrpCode()
  {
    return this.txtGrpCode;
  }
  
  public void setTblClientGroup(RichTable tblClientGroup)
  {
    this.tblClientGroup = tblClientGroup;
  }
  
  public RichTable getTblClientGroup()
  {
    return this.tblClientGroup;
  }
  
  public void setTblClientGrpMembers(RichTable tblClientGrpMembers)
  {
    this.tblClientGrpMembers = tblClientGrpMembers;
  }
  
  public RichTable getTblClientGrpMembers()
  {
    return this.tblClientGrpMembers;
  }
  
  public void setTblClientPop(RichTable tblClientPop)
  {
    this.tblClientPop = tblClientPop;
  }
  
  public RichTable getTblClientPop()
  {
    return this.tblClientPop;
  }
  
  public void setBtnRemoveClientFromGroup(RichCommandButton btnRemoveClientFromGroup)
  {
    this.btnRemoveClientFromGroup = btnRemoveClientFromGroup;
  }
  
  public RichCommandButton getBtnRemoveClientFromGroup()
  {
    return this.btnRemoveClientFromGroup;
  }
  
  public void setBtnActionEditGroupClient(RichCommandButton btnActionEditGroupClient)
  {
    this.btnActionEditGroupClient = btnActionEditGroupClient;
  }
  
  public RichCommandButton getBtnActionEditGroupClient()
  {
    return this.btnActionEditGroupClient;
  }
  
  public void setBtnActionDeleteGroupClient(RichCommandButton btnActionDeleteGroupClient)
  {
    this.btnActionDeleteGroupClient = btnActionDeleteGroupClient;
  }
  
  public RichCommandButton getBtnActionDeleteGroupClient()
  {
    return this.btnActionDeleteGroupClient;
  }
  
  public void setSearchCriteria(RichSelectOneChoice searchCriteria)
  {
    this.searchCriteria = searchCriteria;
  }
  
  public RichSelectOneChoice getSearchCriteria()
  {
    return this.searchCriteria;
  }
  
  public void setXtSearchSectorName(RichInputText txtSearchSectorName)
  {
    this.txtSearchSectorName = txtSearchSectorName;
  }
  
  public RichInputText getXtSearchSectorName()
  {
    return this.txtSearchSectorName;
  }
  
  public void setColumnSelect(RichSelectBooleanCheckbox columnSelect)
  {
    this.columnSelect = columnSelect;
  }
  
  public RichSelectBooleanCheckbox getColumnSelect()
  {
    return this.columnSelect;
  }
  
  public void setTxtSearchSector(RichInputText txtSearchSector)
  {
    this.txtSearchSector = txtSearchSector;
  }
  
  public RichInputText getTxtSearchSector()
  {
    return this.txtSearchSector;
  }
  
  public void setTxtSrchSectorName(RichInputText txtSrchSectorName)
  {
    this.txtSrchSectorName = txtSrchSectorName;
  }
  
  public RichInputText getTxtSrchSectorName()
  {
    return this.txtSrchSectorName;
  }
  
  public void setTxtAccountOfficerCode(RichInputText txtAccountOfficerCode)
  {
    this.txtAccountOfficerCode = txtAccountOfficerCode;
  }
  
  public RichInputText getTxtAccountOfficerCode()
  {
    return this.txtAccountOfficerCode;
  }
  
  public void setTxtAccountOfficerName(RichInputText txtAccountOfficerName)
  {
    this.txtAccountOfficerName = txtAccountOfficerName;
  }
  
  public RichInputText getTxtAccountOfficerName()
  {
    return this.txtAccountOfficerName;
  }
  
  public String actionAcceptAccountOfficer()
  {
    Object key2 = this.tblAccountOfficer.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.session.setAttribute("bactUserCode", nodeBinding.getAttribute("userCode"));
      
      this.txtBACT_ACC_OFFICER.setValue(nodeBinding.getAttribute("username"));
      GlobalCC.refreshUI(this.txtBACT_ACC_OFFICER);
    }
    GlobalCC.dismissPopUp("pt1", "accountOfficersPop");
    return null;
  }
  
  public void setTblAccountOfficer(RichTable tblAccountOfficer)
  {
    this.tblAccountOfficer = tblAccountOfficer;
  }
  
  public RichTable getTblAccountOfficer()
  {
    return this.tblAccountOfficer;
  }
  
  public void setLaySignature(RichPanelGroupLayout laySignature)
  {
    this.laySignature = laySignature;
  }
  
  public RichPanelGroupLayout getLaySignature()
  {
    return this.laySignature;
  }
  
  public void setLayClientImage(RichPanelGroupLayout layClientImage)
  {
    this.layClientImage = layClientImage;
  }
  
  public RichPanelGroupLayout getLayClientImage()
  {
    return this.layClientImage;
  }
  
  public void setBtnDeleteClient(RichCommandButton btnDeleteClient)
  {
    this.btnDeleteClient = btnDeleteClient;
  }
  
  public RichCommandButton getBtnDeleteClient()
  {
    return this.btnDeleteClient;
  }
  
  public void setSearchFormHolder(RichPanelGroupLayout searchFormHolder)
  {
    this.searchFormHolder = searchFormHolder;
  }
  
  public RichPanelGroupLayout getSearchFormHolder()
  {
    return this.searchFormHolder;
  }
  
  public void setSEARCHHOLDER(RichPanelFormLayout SEARCHHOLDER)
  {
    this.SEARCHHOLDER = SEARCHHOLDER;
  }
  
  public RichPanelFormLayout getSEARCHHOLDER()
  {
    return this.SEARCHHOLDER;
  }
  
  public void setStatusHolder(RichPanelLabelAndMessage statusHolder)
  {
    this.statusHolder = statusHolder;
  }
  
  public RichPanelLabelAndMessage getStatusHolder()
  {
    return this.statusHolder;
  }
  
  public void setSearchClientType(RichPanelLabelAndMessage searchClientType)
  {
    this.searchClientType = searchClientType;
  }
  
  public RichPanelLabelAndMessage getSearchClientType()
  {
    return this.searchClientType;
  }
  
  public void setTabClientAccounts(RichShowDetailItem tabClientAccounts)
  {
    this.tabClientAccounts = tabClientAccounts;
  }
  
  public RichShowDetailItem getTabClientAccounts()
  {
    return this.tabClientAccounts;
  }
  
  public void setClientTab(RichPanelTabbed clientTab)
  {
    this.clientTab = clientTab;
  }
  
  public RichPanelTabbed getClientTab()
  {
    return this.clientTab;
  }
  
  public void actionConfirmDeleteDirectors(DialogEvent dialogEvent)
  {
    if (!dialogEvent.getOutcome().equals(DialogEvent.Outcome.no)) {
      if (dialogEvent.getOutcome().equals(DialogEvent.Outcome.yes))
      {
        Object key2 = this.agentDirectorsTable.getSelectedRowData();
        JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
        
        DBConnector connection = new DBConnector();
        String query = "begin TQC_CLIENTS_PKG.TQC_CLIENT_DIRECTORS_PRC(?,?,?,?,?,?,?,?,?);end;";
        
        OracleConnection conn = null;
        OracleCallableStatement stmt = null;
        try
        {
          conn = connection.getDatabaseConnection();
          stmt = (OracleCallableStatement)conn.prepareCall(query);
          
          stmt.setString(1, "D");
          stmt.setBigDecimal(2, new BigDecimal(nodeBinding.getAttribute("clntdir_code").toString()));
          
          stmt.setBigDecimal(3, null);
          stmt.setBigDecimal(4, null);
          stmt.setString(5, null);
          stmt.setString(6, null);
          stmt.setBigDecimal(7, null);
          stmt.setString(8, null);
          
          stmt.registerOutParameter(9, 12);
          
          stmt.execute();
          String error = stmt.getString(9);
          
          stmt.close();
          conn.commit();
          conn.close();
          
          ADFUtils.findIterator("findClientsDirectorsIterator").executeQuery();
          GlobalCC.refreshUI(this.agentDirectorsTable);
          
          String message = "Record DELETED Successfully!";
          GlobalCC.INFORMATIONREPORTING(message);
        }
        catch (Exception e)
        {
          GlobalCC.EXCEPTIONREPORTING(conn, e);
        }
      }
    }
  }
  
  public void actionConfirmDeleteAuditor(DialogEvent dialogEvent)
  {
    if (!dialogEvent.getOutcome().equals(DialogEvent.Outcome.no)) {
      if (dialogEvent.getOutcome().equals(DialogEvent.Outcome.yes))
      {
        Object key2 = this.agentAuditorsTable.getSelectedRowData();
        JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
        DBConnector connection = new DBConnector();
        String query = "begin TQC_CLIENTS_PKG.TQC_CLIENT_AUDITORS_PRC(?,?,?,?,?,?,?,?,?);end;";
        
        OracleConnection conn = null;
        OracleCallableStatement stmt = null;
        try
        {
          conn = connection.getDatabaseConnection();
          stmt = (OracleCallableStatement)conn.prepareCall(query);
          
          stmt.setString(1, "D");
          stmt.setBigDecimal(2, new BigDecimal(nodeBinding.getAttribute("clntaud_code").toString()));
          
          stmt.setBigDecimal(3, null);
          stmt.setBigDecimal(4, null);
          stmt.setString(5, null);
          stmt.setString(6, null);
          stmt.setBigDecimal(7, null);
          stmt.setString(8, null);
          stmt.registerOutParameter(9, 12);
          
          stmt.execute();
          String error = stmt.getString(9);
          stmt.close();
          conn.commit();
          conn.close();
          ADFUtils.findIterator("findClientsAuditorsIterator").executeQuery();
          GlobalCC.refreshUI(this.agentAuditorsTable);
          String message = "Record DELETED Successfully!";
          GlobalCC.INFORMATIONREPORTING(message);
        }
        catch (Exception e)
        {
          GlobalCC.EXCEPTIONREPORTING(conn, e);
        }
      }
    }
  }
  
  public void setPanelCollSearch(RichPanelCollection panelCollSearch)
  {
    this.panelCollSearch = panelCollSearch;
  }
  
  public RichPanelCollection getPanelCollSearch()
  {
    return this.panelCollSearch;
  }
  
  public void setTxtGender(RichSelectOneChoice txtGender)
  {
    this.txtGender = txtGender;
  }
  
  public RichSelectOneChoice getTxtGender()
  {
    return this.txtGender;
  }
  
  public void setPictureFile(UploadedFile pictureFile)
  {
    if (pictureFile != null)
    {
      this.filename = pictureFile.getFilename();
      this.filesize = pictureFile.getLength();
      fileContent = pictureFile.getContentType();
      try
      {
        fileStream = pictureFile.getInputStream();
      }
      catch (IOException e)
      {
        e.printStackTrace();
      }
    }
    this.pictureFile = pictureFile;
  }
  
  public UploadedFile getPictureFile()
  {
    return this.pictureFile;
  }
  
  public String saveYes()
  {
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:p2').hide(hints);");
    
    processCreateUpdateClient();
    return null;
  }
  
  public String saveSaccoYes()
  {
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:saccoReq').hide(hints);");
    
    processCreateUpdateClient();
    return null;
  }
  
  public String saveNo()
  {
    ADFUtils.findIterator("fetchAllClientsByNamesIterator").executeQuery();
    GlobalCC.refreshUI(this.tbClientListingBasedOnNames);
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:p2').hide(hints);");
    
    return null;
  }
  
  public String saveSaccoNo()
  {
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:saccoReq').hide(hints);");
    
    return null;
  }
  
  public void setInputstream(InputStream inputstream)
  {
    this.inputstream = inputstream;
  }
  
  public InputStream getInputstream()
  {
    return this.inputstream;
  }
  
  public void setFileStream(InputStream fileStream)
  {
    fileStream = fileStream;
  }
  
  public InputStream getFileStream()
  {
    return fileStream;
  }
  
  public void setFilename(String filename)
  {
    this.filename = filename;
  }
  
  public String getFilename()
  {
    return this.filename;
  }
  
  public void setFilesize(long filesize)
  {
    this.filesize = filesize;
  }
  
  public long getFilesize()
  {
    return this.filesize;
  }
  
  public void setFileContent(String fileContent)
  {
    fileContent = fileContent;
  }
  
  public String getFileContent()
  {
    return fileContent;
  }
  
  public void setFiletype(String filetype)
  {
    this.filetype = filetype;
  }
  
  public String getFiletype()
  {
    return this.filetype;
  }
  
  public void setFileStream2(InputStream fileStream2)
  {
    fileStream2 = fileStream2;
  }
  
  public InputStream getFileStream2()
  {
    return fileStream2;
  }
  
  public void setFilename2(String filename2)
  {
    this.filename2 = filename2;
  }
  
  public String getFilename2()
  {
    return this.filename2;
  }
  
  public void setFilesize2(long filesize2)
  {
    this.filesize2 = filesize2;
  }
  
  public long getFilesize2()
  {
    return this.filesize2;
  }
  
  public void setFileContent2(String fileContent2)
  {
    fileContent2 = fileContent2;
  }
  
  public String getFileContent2()
  {
    return fileContent2;
  }
  
  public void setFiletype2(String filetype2)
  {
    this.filetype2 = filetype2;
  }
  
  public String getFiletype2()
  {
    return this.filetype2;
  }
  
  public void setSignatureFile(UploadedFile signatureFile)
  {
    if (signatureFile != null)
    {
      this.filename2 = signatureFile.getFilename();
      this.filesize2 = signatureFile.getLength();
      fileContent2 = signatureFile.getContentType();
      try
      {
        fileStream2 = signatureFile.getInputStream();
      }
      catch (IOException e) {}
    }
    this.signatureFile = signatureFile;
  }
  
  public UploadedFile getSignatureFile()
  {
    return this.signatureFile;
  }
  
  public void setTxtClientCellNos(RichInputText txtClientCellNos)
  {
    this.txtClientCellNos = txtClientCellNos;
  }
  
  public RichInputText getTxtClientCellNos()
  {
    return this.txtClientCellNos;
  }
  
  public void setTxtCltBankTelNo(RichInputText txtCltBankTelNo)
  {
    this.txtCltBankTelNo = txtCltBankTelNo;
  }
  
  public RichInputText getTxtCltBankTelNo()
  {
    return this.txtCltBankTelNo;
  }
  
  public void setTxtCltBankCellNo(RichInputText txtCltBankCellNo)
  {
    this.txtCltBankCellNo = txtCltBankCellNo;
  }
  
  public RichInputText getTxtCltBankCellNo()
  {
    return this.txtCltBankCellNo;
  }
  
  public void setTxtCltEmployerTelNo(RichInputText txtCltEmployerTelNo)
  {
    this.txtCltEmployerTelNo = txtCltEmployerTelNo;
  }
  
  public RichInputText getTxtCltEmployerTelNo()
  {
    return this.txtCltEmployerTelNo;
  }
  
  public void setTxtCltEmployerCellNo(RichInputText txtCltEmployerCellNo)
  {
    this.txtCltEmployerCellNo = txtCltEmployerCellNo;
  }
  
  public RichInputText getTxtCltEmployerCellNo()
  {
    return this.txtCltEmployerCellNo;
  }
  
  public void setGrpEmploymentDetails(RichPanelGroupLayout grpEmploymentDetails)
  {
    this.grpEmploymentDetails = grpEmploymentDetails;
  }
  
  public RichPanelGroupLayout getGrpEmploymentDetails()
  {
    return this.grpEmploymentDetails;
  }
  
  public void setTxtCltOccupation(RichInputText txtCltOccupation)
  {
    this.txtCltOccupation = txtCltOccupation;
  }
  
  public RichInputText getTxtCltOccupation()
  {
    return this.txtCltOccupation;
  }
  
  public void setPgridPersonnalDetails(HtmlPanelGrid pgridPersonnalDetails)
  {
    this.pgridPersonnalDetails = pgridPersonnalDetails;
  }
  
  public HtmlPanelGrid getPgridPersonnalDetails()
  {
    return this.pgridPersonnalDetails;
  }
  
  public void setDetailEmploymentDetails(RichShowDetailItem detailEmploymentDetails)
  {
    this.detailEmploymentDetails = detailEmploymentDetails;
  }
  
  public RichShowDetailItem getDetailEmploymentDetails()
  {
    return this.detailEmploymentDetails;
  }
  
  public void setTblAdminRegions(RichTable tblAdminRegions)
  {
    this.tblAdminRegions = tblAdminRegions;
  }
  
  public RichTable getTblAdminRegions()
  {
    return this.tblAdminRegions;
  }
  
  public void setPanMsgRegionTypeName(RichPanelLabelAndMessage panMsgRegionTypeName)
  {
    this.panMsgRegionTypeName = panMsgRegionTypeName;
  }
  
  public RichPanelLabelAndMessage getPanMsgRegionTypeName()
  {
    return this.panMsgRegionTypeName;
  }
  
  public void setDlgAdminRegionTypes(RichDialog dlgAdminRegionTypes)
  {
    this.dlgAdminRegionTypes = dlgAdminRegionTypes;
  }
  
  public RichDialog getDlgAdminRegionTypes()
  {
    return this.dlgAdminRegionTypes;
  }
  
  public void setTxtAdminRegionType(RichInputText txtAdminRegionType)
  {
    this.txtAdminRegionType = txtAdminRegionType;
  }
  
  public RichInputText getTxtAdminRegionType()
  {
    return this.txtAdminRegionType;
  }
  
  public void setTxtAdminRegionName(RichInputText txtAdminRegionName)
  {
    this.txtAdminRegionName = txtAdminRegionName;
  }
  
  public RichInputText getTxtAdminRegionName()
  {
    return this.txtAdminRegionName;
  }
  
  public void setTxtAdminRegionCode(RichInputText txtAdminRegionCode)
  {
    this.txtAdminRegionCode = txtAdminRegionCode;
  }
  
  public RichInputText getTxtAdminRegionCode()
  {
    return this.txtAdminRegionCode;
  }
  
  public void setPnMsgTownName(RichPanelLabelAndMessage pnMsgTownName)
  {
    this.pnMsgTownName = pnMsgTownName;
  }
  
  public RichPanelLabelAndMessage getPnMsgTownName()
  {
    return this.pnMsgTownName;
  }
  
  public String actionAcceptSystem()
  {
    return null;
  }
  
  public String actionCancelSytem()
  {
    return null;
  }
  
  public void setDlgNewEditAdminUnit(RichDialog dlgNewEditAdminUnit)
  {
    this.dlgNewEditAdminUnit = dlgNewEditAdminUnit;
  }
  
  public RichDialog getDlgNewEditAdminUnit()
  {
    return this.dlgNewEditAdminUnit;
  }
  
  public void setLbMsgState(RichPanelLabelAndMessage lbMsgState)
  {
    this.lbMsgState = lbMsgState;
  }
  
  public RichPanelLabelAndMessage getLbMsgState()
  {
    return this.lbMsgState;
  }
  
  public void setTxtAgencyName(RichInputText txtAgencyName)
  {
    this.txtAgencyName = txtAgencyName;
  }
  
  public RichInputText getTxtAgencyName()
  {
    return this.txtAgencyName;
  }
  
  public void setTxtAgencyCode(RichInputText txtAgencyCode)
  {
    this.txtAgencyCode = txtAgencyCode;
  }
  
  public RichInputText getTxtAgencyCode()
  {
    return this.txtAgencyCode;
  }
  
  public String actionAcceptAgency()
  {
    Object key = this.tblAgenciesLOV.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key;
    if (nodeBinding != null)
    {
      this.txtAgencyCode.setValue(nodeBinding.getAttribute("agentCode"));
      this.txtAgencyName.setValue(nodeBinding.getAttribute("name"));
      GlobalCC.refreshUI(this.txtAgencyName);
    }
    GlobalCC.dismissPopUp("pt1", "AgenciesLOVPOP");
    return null;
  }
  
  public void setTblAgenciesLOV(RichTable tblAgenciesLOV)
  {
    this.tblAgenciesLOV = tblAgenciesLOV;
  }
  
  public RichTable getTblAgenciesLOV()
  {
    return this.tblAgenciesLOV;
  }
  
  private void ClientTypeChanged()
  {
    Util checkClientAgency = new Util();
    String clientAgencyTyingCheck = checkClientAgency.getClientAgencyTying();
    
    String type = GlobalCC.checkNullValues(this.txtClientTypes.getValue());
    try
    {
      if (type != null) {
        if ("I".equalsIgnoreCase(type))
        {
          if (this.renderer.isCLIENT_OCCUPATION_VISIBLE()) {}
          this.session.setAttribute("typeVAl", "I");
          this.sbrIndividual.setSelected(true);
          this.sbrCorporate.setSelected(false);
          this.clientTitlePan.setVisible(true);
          this.txtTitle.setDisabled(false);
          this.txtTitle.setVisible(false);
          this.txtSurname.setLabel("Surname Name");
          this.txtDOB.setLabel("Date of Birth");
          
          this.txtOtherNames.setVisible(this.renderer.isCLIENT_OTHER_NAMES_VISIBLE());
          this.txtPhysicalAddress.setShowRequired(false);
          
          this.btnShowContactPersons.setVisible(false);
          this.txtPhone1.setRendered(false);
          this.btnShowContactPersons.setDisabled(true);
          this.txtWebsite.setVisible(false);
          this.txtAuditors.setVisible(false);
          this.txtParentCompany.setVisible(false);
          this.parentcompanyPan.setVisible(false);
          this.tabDirectors.setVisible(false);
          this.tabAuditors.setVisible(false);
          this.txtDLNo.setVisible(true);
          this.txtDateOfEmployment.setVisible(true);
          this.layClientImage.setVisible(true);
          this.txtGender.setRendered(true);
          this.grpEmploymentDetails.setRendered(true);
          this.txtDrvExperience.setRendered(true);
          this.layClientImage.setVisible(true);
          this.clientTitlePan.setRendered(true);
          this.txtClientTitle.setRendered(true);
          this.txtSelectClientTitle.setRendered(true);
          this.txtPassportNo.setVisible(true);
          if (clientAgencyTyingCheck.equals("Y"))
          {
            this.pnLabelAgency.setVisible(true);
            
            this.txtAgencyName.setVisible(true);
            this.txtAgencies.setVisible(true);
          }
          else
          {
            this.pnLabelAgency.setVisible(false);
            
            this.txtAgencyName.setVisible(false);
            this.txtAgencies.setVisible(false);
          }
          if (this.renderer.isClientId() == true)
          {
            this.txtPIN.setDisabled(true);
            this.txtId.setDisabled(false);
            this.txtId.setRequired(true);
            this.txtDrvExperience.setRendered(true);
          }
        }
        else if ("S".equalsIgnoreCase(type))
        {
          if (this.renderer.isCLIENT_OCCUPATION_VISIBLE()) {}
          this.session.setAttribute("typeVAl", "S");
          this.sbrIndividual.setSelected(true);
          this.sbrCorporate.setSelected(false);
          this.clientTitlePan.setVisible(true);
          this.txtTitle.setDisabled(false);
          this.txtTitle.setVisible(false);
          this.txtSurname.setLabel("Surname Name");
          this.txtDOB.setLabel("Date of Birth");
          this.txtOtherNames.setVisible(this.renderer.isCLIENT_OTHER_NAMES_VISIBLE());
          this.txtPhysicalAddress.setShowRequired(false);
          
          this.btnShowContactPersons.setVisible(false);
          this.btnShowContactPersons.setDisabled(true);
          this.txtWebsite.setVisible(false);
          this.txtAuditors.setVisible(false);
          this.txtParentCompany.setVisible(false);
          this.parentcompanyPan.setVisible(false);
          this.tabDirectors.setVisible(false);
          this.tabAuditors.setVisible(false);
          this.txtDLNo.setVisible(true);
          this.txtDateOfEmployment.setVisible(true);
          this.layClientImage.setVisible(true);
          this.txtGender.setRendered(true);
          this.grpEmploymentDetails.setRendered(true);
          this.txtDrvExperience.setRendered(true);
          this.layClientImage.setVisible(true);
          this.clientTitlePan.setRendered(true);
          this.txtClientTitle.setRendered(true);
          this.txtPhone1.setRendered(false);
          this.txtPassportNo.setVisible(true);
          this.txtSelectClientTitle.setRendered(true);
          if (clientAgencyTyingCheck.equals("Y"))
          {
            this.pnLabelAgency.setVisible(true);
            
            this.txtAgencyName.setVisible(true);
            this.txtAgencies.setVisible(true);
          }
          else
          {
            this.pnLabelAgency.setVisible(false);
            
            this.txtAgencyName.setVisible(false);
            this.txtAgencies.setVisible(false);
          }
          this.txtAgencyName.setVisible(true);
          this.txtAgencies.setVisible(true);
          this.txtDirectClient.setValue("Y");
          if (this.renderer.isClientId() == true)
          {
            this.txtPIN.setDisabled(true);
            this.txtId.setDisabled(false);
            this.txtId.setRequired(true);
            this.txtDrvExperience.setRendered(true);
          }
        }
        else if ("F".equalsIgnoreCase(type))
        {
          if (this.renderer.isCLIENT_OCCUPATION_VISIBLE()) {}
          this.session.setAttribute("typeVAl", "F");
          this.sbrIndividual.setSelected(true);
          this.sbrCorporate.setSelected(false);
          this.clientTitlePan.setVisible(true);
          this.txtTitle.setDisabled(false);
          this.txtTitle.setVisible(false);
          this.txtSurname.setLabel("Surname Name");
          this.txtDOB.setLabel("Date of Birth");
          this.txtOtherNames.setVisible(this.renderer.isCLIENT_OTHER_NAMES_VISIBLE());
          this.txtPhysicalAddress.setShowRequired(false);
          
          this.btnShowContactPersons.setVisible(false);
          this.btnShowContactPersons.setDisabled(true);
          this.txtWebsite.setVisible(false);
          this.txtAuditors.setVisible(false);
          this.txtParentCompany.setVisible(false);
          this.parentcompanyPan.setVisible(false);
          this.tabDirectors.setVisible(false);
          this.tabAuditors.setVisible(false);
          this.txtDLNo.setVisible(true);
          this.txtDateOfEmployment.setVisible(true);
          this.layClientImage.setVisible(true);
          this.txtGender.setRendered(true);
          this.grpEmploymentDetails.setRendered(true);
          this.txtDrvExperience.setRendered(true);
          this.layClientImage.setVisible(true);
          this.clientTitlePan.setRendered(true);
          this.txtClientTitle.setRendered(true);
          this.txtPhone1.setRendered(false);
          this.txtPassportNo.setVisible(true);
          this.txtSelectClientTitle.setRendered(true);
          if (clientAgencyTyingCheck.equals("Y"))
          {
            this.pnLabelAgency.setVisible(true);
            
            this.txtAgencyName.setVisible(true);
            this.txtAgencies.setVisible(true);
          }
          else
          {
            this.pnLabelAgency.setVisible(false);
            
            this.txtAgencyName.setVisible(false);
            this.txtAgencies.setVisible(false);
          }
          this.txtAgencyName.setVisible(true);
          this.txtAgencies.setVisible(true);
          this.txtDirectClient.setValue("Y");
          if (this.renderer.isClientId() == true)
          {
            this.txtPIN.setDisabled(true);
            this.txtId.setDisabled(false);
            this.txtId.setRequired(true);
            this.txtDrvExperience.setRendered(true);
          }
        }
        else if ("G".equalsIgnoreCase(type))
        {
          this.session.setAttribute("typeVAl", "G");
          if (this.renderer.isCLIENT_OCCUPATION_VISIBLE()) {}
          this.txtPhysicalAddress.setShowRequired(true);
          this.sbrCorporate.setSelected(true);
          this.sbrIndividual.setSelected(false);
          this.grpEmploymentDetails.setRendered(false);
          this.clientTitlePan.setVisible(false);
          this.txtTitle.setVisible(false);
          this.txtTitle.setDisabled(true);
          this.txtSurname.setLabel("Government:");
          this.txtDOB.setLabel("Date of Incorporation");
          this.txtOtherNames.setVisible(false);
          this.layClientImage.setVisible(false);
          this.txtOtherNames.setValue(null);
          this.txtWebsite.setVisible(true);
          this.txtAuditors.setVisible(false);
          this.txtGender.setRendered(false);
          this.txtParentCompanyCode.setVisible(true);
          this.parentcompanyPan.setVisible(true);
          this.txtDLNo.setVisible(false);
          this.txtDateOfEmployment.setVisible(false);
          this.txtPassportNo.setVisible(false);
          this.tabAuditors.setVisible(true);
          this.tabDirectors.setVisible(true);
          this.txtDrvExperience.setRendered(false);
          this.txtPhone1.setRendered(true);
          
          this.btnShowContactPersons.setVisible(true);
          this.btnShowContactPersons.setDisabled(false);
          this.txtSelectClientTitle.setRendered(false);
          this.clientTitlePan.setRendered(false);
          this.txtClientTitle.setRendered(false);
          this.pnLabelAgency.setVisible(false);
          this.txtAgencyName.setVisible(false);
          this.txtAgencies.setVisible(false);
          if (this.renderer.isCooperatePin() == true)
          {
            this.txtPIN.setDisabled(false);
            this.txtId.setDisabled(true);
            this.txtPIN.setRequired(true);
            this.txtDrvExperience.setRendered(false);
          }
        }
        else if ("C".equalsIgnoreCase(type))
        {
          this.session.setAttribute("typeVAl", "C");
          if (this.renderer.isCLIENT_OCCUPATION_VISIBLE()) {}
          this.txtPhysicalAddress.setShowRequired(true);
          this.sbrCorporate.setSelected(true);
          this.sbrIndividual.setSelected(false);
          this.grpEmploymentDetails.setRendered(false);
          this.clientTitlePan.setVisible(false);
          this.txtTitle.setVisible(false);
          this.txtTitle.setDisabled(true);
          this.txtSurname.setLabel("Corporate Name");
          this.txtDOB.setLabel("Date of Incorporation");
          this.txtOtherNames.setVisible(false);
          this.layClientImage.setVisible(false);
          this.txtOtherNames.setValue(null);
          this.txtWebsite.setVisible(true);
          this.txtAuditors.setVisible(false);
          this.txtGender.setRendered(false);
          this.txtParentCompanyCode.setVisible(true);
          this.parentcompanyPan.setVisible(true);
          this.txtDLNo.setVisible(false);
          this.txtDateOfEmployment.setVisible(false);
          this.txtPassportNo.setVisible(false);
          this.tabAuditors.setVisible(true);
          this.tabDirectors.setVisible(true);
          this.txtDrvExperience.setRendered(false);
          this.txtPhone1.setRendered(true);
          
          this.btnShowContactPersons.setVisible(true);
          this.btnShowContactPersons.setDisabled(false);
          this.txtSelectClientTitle.setRendered(false);
          this.clientTitlePan.setRendered(false);
          this.txtClientTitle.setRendered(false);
          this.pnLabelAgency.setVisible(false);
          this.txtAgencyName.setVisible(false);
          this.txtAgencies.setVisible(false);
          if (this.renderer.isCooperatePin() == true)
          {
            this.txtPIN.setDisabled(false);
            this.txtId.setDisabled(true);
            this.txtPIN.setRequired(true);
            this.txtDrvExperience.setRendered(false);
          }
        }
        else if ("P".equalsIgnoreCase(type))
        {
          this.session.setAttribute("typeVAl", "P");
          if (this.renderer.isCLIENT_OCCUPATION_VISIBLE()) {}
          this.txtPhysicalAddress.setShowRequired(true);
          this.sbrCorporate.setSelected(true);
          this.sbrIndividual.setSelected(false);
          this.grpEmploymentDetails.setRendered(false);
          this.clientTitlePan.setVisible(false);
          this.txtTitle.setVisible(false);
          this.txtTitle.setDisabled(true);
          this.txtSurname.setLabel("Corporate Name");
          this.txtDOB.setLabel("Date of Incorporation");
          this.txtOtherNames.setVisible(false);
          this.layClientImage.setVisible(false);
          this.txtOtherNames.setValue(null);
          this.txtWebsite.setVisible(true);
          this.txtAuditors.setVisible(false);
          this.txtGender.setRendered(false);
          this.txtParentCompanyCode.setVisible(true);
          this.parentcompanyPan.setVisible(true);
          this.txtDLNo.setVisible(false);
          this.txtDateOfEmployment.setVisible(false);
          this.txtPassportNo.setVisible(false);
          this.tabAuditors.setVisible(true);
          this.tabDirectors.setVisible(true);
          this.txtDrvExperience.setRendered(false);
          this.txtPhone1.setRendered(true);
          
          this.btnShowContactPersons.setVisible(true);
          this.btnShowContactPersons.setDisabled(false);
          this.txtSelectClientTitle.setRendered(false);
          this.clientTitlePan.setRendered(false);
          this.txtClientTitle.setRendered(false);
          this.pnLabelAgency.setVisible(false);
          this.txtAgencyName.setVisible(false);
          this.txtAgencies.setVisible(false);
          if (this.renderer.isCooperatePin() == true)
          {
            this.txtPIN.setDisabled(false);
            this.txtId.setDisabled(true);
            this.txtPIN.setRequired(true);
            this.txtDrvExperience.setRendered(false);
          }
        }
        else if ("M".equalsIgnoreCase(type))
        {
          this.session.setAttribute("typeVAl", "M");
          if (this.renderer.isCLIENT_OCCUPATION_VISIBLE()) {}
          this.txtPhysicalAddress.setShowRequired(true);
          this.sbrCorporate.setSelected(true);
          this.sbrIndividual.setSelected(false);
          this.grpEmploymentDetails.setRendered(false);
          this.clientTitlePan.setVisible(false);
          this.txtTitle.setVisible(false);
          this.txtTitle.setDisabled(true);
          this.txtSurname.setLabel("Corporate Name");
          this.txtDOB.setLabel("Date of Incorporation");
          this.txtOtherNames.setVisible(false);
          this.layClientImage.setVisible(false);
          this.txtOtherNames.setValue(null);
          this.txtWebsite.setVisible(true);
          this.txtAuditors.setVisible(false);
          this.txtGender.setRendered(false);
          this.txtParentCompanyCode.setVisible(true);
          this.parentcompanyPan.setVisible(true);
          this.txtDLNo.setVisible(false);
          this.txtDateOfEmployment.setVisible(false);
          this.txtPassportNo.setVisible(false);
          this.tabAuditors.setVisible(true);
          this.tabDirectors.setVisible(true);
          this.txtDrvExperience.setRendered(false);
          this.txtPhone1.setRendered(true);
          
          this.btnShowContactPersons.setVisible(true);
          this.btnShowContactPersons.setDisabled(false);
          this.txtSelectClientTitle.setRendered(false);
          this.clientTitlePan.setRendered(false);
          this.txtClientTitle.setRendered(false);
          this.pnLabelAgency.setVisible(false);
          this.txtAgencyName.setVisible(false);
          this.txtAgencies.setVisible(false);
          if (this.renderer.isCooperatePin() == true)
          {
            this.txtPIN.setDisabled(false);
            this.txtId.setDisabled(true);
            this.txtPIN.setRequired(true);
            this.txtDrvExperience.setRendered(false);
          }
        }
      }
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(e);
    }
    if ((type != null) && (!type.equalsIgnoreCase("I"))) {
      this.session.setAttribute("SMS_REQUIRED", "N");
    }
    GlobalCC.refreshUI(this.txtSelectClientTitle);
    GlobalCC.refreshUI(this.sbrIndividual);
    GlobalCC.refreshUI(this.sbrCorporate);
    GlobalCC.refreshUI(this.clientTab);
    GlobalCC.refreshUI(this.panelCreateClient);
    GlobalCC.refreshUI(this.mainPanel);
    this.panelCreateClient.setVisible(true);
  }
  
  public void clientCategoryChanged(ValueChangeEvent valueChangeEvent)
  {
    Util mand = new Util();
    String tying = mand.getClientAgencyTying();
    if (!tying.equals("Y")) {
      return;
    }
    String directClient = GlobalCC.checkNullValues(this.txtDirectClient.getValue());
    if ((directClient != null) && (valueChangeEvent.getNewValue() != valueChangeEvent.getOldValue())) {
      if (directClient == null)
      {
        this.pnLabelAgency.setVisible(false);
        this.txtAgencyName.setVisible(false);
        this.txtAgencies.setVisible(false);
        this.pnLabelAgency.setShowRequired(false);
        this.labelAndMessage.setShowRequired(true);
      }
      else
      {
        if (directClient.equals("I"))
        {
          this.pnLabelAgency.setVisible(false);
          this.txtAgencyName.setVisible(false);
          this.txtAgencies.setVisible(false);
          this.pnLabelAgency.setShowRequired(false);
          this.labelAndMessage.setShowRequired(true);
        }
        if (directClient.equals("C"))
        {
          this.pnLabelAgency.setVisible(true);
          this.txtAgencyName.setVisible(true);
          this.txtAgencies.setVisible(true);
          this.pnLabelAgency.setShowRequired(true);
          this.labelAndMessage.setShowRequired(false);
        }
      }
    }
    GlobalCC.refreshUI(this.pnLabelAgency);
    GlobalCC.refreshUI(this.txtAgencyName);
    GlobalCC.refreshUI(this.txtAgencies);
    GlobalCC.refreshUI(this.labelAndMessage);
  }
  
  public void setPnLabelAgency(RichPanelLabelAndMessage pnLabelAgency)
  {
    this.pnLabelAgency = pnLabelAgency;
  }
  
  public RichPanelLabelAndMessage getPnLabelAgency()
  {
    return this.pnLabelAgency;
  }
  
  public void setClntContacts(RichTable clntContacts)
  {
    this.clntContacts = clntContacts;
  }
  
  public RichTable getClntContacts()
  {
    return this.clntContacts;
  }
  
  public String newContact()
  {
    this.conCode.setValue(null);
    this.conName.setValue(null);
    this.conAddress.setValue(null);
    this.conPhysi.setValue(null);
    this.conSect.setValue(null);
    this.conSect.setLabel(null);
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:clntCont').show(hints);");
    
    return null;
  }
  
  public String editContact()
  {
    Object key2 = this.clntContacts.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.conCode.setValue(nodeBinding.getAttribute("clcoCode"));
      this.conName.setValue(nodeBinding.getAttribute("clcoName"));
      this.conAddress.setValue(nodeBinding.getAttribute("clcoPostAdd"));
      this.conPhysi.setValue(nodeBinding.getAttribute("clcoPhysAdd"));
      this.conSect.setValue(nodeBinding.getAttribute("secName"));
      this.conSect.setLabel(nodeBinding.getAttribute("secCode").toString());
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:clntCont').show(hints);");
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("No record selected.");
      return null;
    }
    return null;
  }
  
  public String deleteContact()
  {
    Object key2 = this.clntContacts.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      String code = nodeBinding.getAttribute("clcoCode").toString();
      
      DBConnector dbConnector = new DBConnector();
      OracleConnection conn = null;
      OracleCallableStatement statement = null;
      try
      {
        conn = dbConnector.getDatabaseConnection();
        String query = "begin TQC_CLIENTS_PKG.client_contacts_proc(?,?,?); end;";
        
        ArrayDescriptor descriptor = ArrayDescriptor.createDescriptor("TQC_CLIENT_CONTACTS_TAB", conn);
        
        ArrayList activityList = new ArrayList();
        UserSystem conType = new UserSystem();
        conType.setSQLTypeName("TQC_CLIENT_CONTACTS_OBJ");
        
        conType.setClcoCode(new BigDecimal(code));
        
        activityList.add(conType);
        ARRAY array = new ARRAY(descriptor, conn, activityList.toArray());
        
        statement = (OracleCallableStatement)conn.prepareCall(query);
        statement.setString(1, "D");
        statement.setArray(2, array);
        statement.setObject(3, null);
        statement.execute();
        
        statement.close();
        conn.commit();
        conn.close();
        
        ADFUtils.findIterator("fetchClientContactsIterator").executeQuery();
        GlobalCC.refreshUI(this.clntContacts);
        
        String message = "Record DELETED Successfully!";
        GlobalCC.INFORMATIONREPORTING(message);
      }
      catch (Exception e)
      {
        GlobalCC.EXCEPTIONREPORTING(conn, e);
      }
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("You need to select an existing Record to proceed.");
      return null;
    }
    return null;
  }
  
  public void setConCode(RichInputText conCode)
  {
    this.conCode = conCode;
  }
  
  public RichInputText getConCode()
  {
    return this.conCode;
  }
  
  public void setConName(RichInputText conName)
  {
    this.conName = conName;
  }
  
  public RichInputText getConName()
  {
    return this.conName;
  }
  
  public void setConAddress(RichInputText conAddress)
  {
    this.conAddress = conAddress;
  }
  
  public RichInputText getConAddress()
  {
    return this.conAddress;
  }
  
  public void setConPhysi(RichInputText conPhysi)
  {
    this.conPhysi = conPhysi;
  }
  
  public RichInputText getConPhysi()
  {
    return this.conPhysi;
  }
  
  public void setConSect(RichInputText conSect)
  {
    this.conSect = conSect;
  }
  
  public RichInputText getConSect()
  {
    return this.conSect;
  }
  
  public String launchSector()
  {
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:conSector').show(hints);");
    
    return null;
  }
  
  public void setSector(RichTable sector)
  {
    this.sector = sector;
  }
  
  public RichTable getSector()
  {
    return this.sector;
  }
  
  public String sectorSelected()
  {
    Object key2 = this.sector.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.conSect.setValue(nodeBinding.getAttribute("name"));
      this.conSect.setLabel(nodeBinding.getAttribute("code").toString());
      GlobalCC.refreshUI(this.conSect);
      GlobalCC.hidePopup("pt1:conSector");
    }
    return null;
  }
  
  public String HoldingCompanySelected()
  {
    Object key2 = this.holdingCompanyTbl.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.txtHoldingCompany.setValue(nodeBinding.getAttribute("CLNT_NAME"));
      this.session.setAttribute("ClnCode", nodeBinding.getAttribute("CLNT_CODE"));
      
      GlobalCC.refreshUI(this.txtHoldingCompany);
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:holdingCompanyPop').hide(hints);");
    }
    return null;
  }
  
  public String saveContact()
    throws SQLException
  {
    String conCodeVal = GlobalCC.checkNullValues(this.conCode.getValue());
    String conNameVal = GlobalCC.checkNullValues(this.conName.getValue());
    String address = GlobalCC.checkNullValues(this.conAddress.getValue());
    String phys = GlobalCC.checkNullValues(this.conPhysi.getValue());
    String sect = GlobalCC.checkNullValues(this.conSect.getValue());
    if (conNameVal == null)
    {
      GlobalCC.errorValueNotEntered("Error Value Missing: Name");
      return null;
    }
    if (sect != null) {
      sect = this.conSect.getLabel();
    }
    DBConnector dbConnector = new DBConnector();
    OracleConnection conn = null;
    OracleCallableStatement statement = null;
    try
    {
      conn = dbConnector.getDatabaseConnection();
      String query = "begin TQC_CLIENTS_PKG.client_contacts_proc(?,?,?); end;";
      
      ArrayDescriptor descriptor = ArrayDescriptor.createDescriptor("TQC_CLIENT_CONTACTS_TAB", conn);
      
      ArrayList activityList = new ArrayList();
      UserSystem conType = new UserSystem();
      conType.setSQLTypeName("TQC_CLIENT_CONTACTS_OBJ");
      if (conCodeVal != null) {
        conType.setClcoCode(new BigDecimal(conCodeVal));
      } else {
        conType.setClcoCode(null);
      }
      conType.setClntCode(new BigDecimal(this.session.getAttribute("ClientCode").toString()));
      conType.setClcoName(conNameVal);
      conType.setClcoPhysAddress(phys);
      conType.setClcoPostAddress(address);
      if (sect != null) {
        conType.setClcoSecCode(new BigDecimal(sect));
      }
      activityList.add(conType);
      ARRAY array = new ARRAY(descriptor, conn, activityList.toArray());
      
      statement = (OracleCallableStatement)conn.prepareCall(query);
      if (conCodeVal != null) {
        statement.setString(1, "E");
      } else {
        statement.setString(1, "A");
      }
      BigDecimal contactCode = null;
      statement.setArray(2, array);
      statement.setObject(3, Integer.valueOf(4));
      statement.execute();
      
      statement.close();
      conn.commit();
      conn.close();
      
      ADFUtils.findIterator("fetchClientContactsIterator").executeQuery();
      GlobalCC.refreshUI(this.clntContacts);
      
      GlobalCC.dismissPopUp("pt1", "clntCont");
      String message = "Record saved Successfully!";
      GlobalCC.INFORMATIONREPORTING(message);
    }
    catch (SQLException e)
    {
      GlobalCC.EXCEPTIONREPORTING(conn, e);
    }
    return null;
  }
  
  public void setLegacyShtDesc(RichInputText legacyShtDesc)
  {
    this.legacyShtDesc = legacyShtDesc;
  }
  
  public RichInputText getLegacyShtDesc()
  {
    return this.legacyShtDesc;
  }
  
  public void setTxtZipCode(RichInputText txtZipCode)
  {
    this.txtZipCode = txtZipCode;
  }
  
  public RichInputText getTxtZipCode()
  {
    return this.txtZipCode;
  }
  
  public void setTxtAnniversary(RichInputDate txtAnniversary)
  {
    this.txtAnniversary = txtAnniversary;
  }
  
  public RichInputDate getTxtAnniversary()
  {
    return this.txtAnniversary;
  }
  
  public void setTxtCreditRting(RichSelectOneChoice txtCreditRting)
  {
    this.txtCreditRting = txtCreditRting;
  }
  
  public RichSelectOneChoice getTxtCreditRting()
  {
    return this.txtCreditRting;
  }
  
  public void setTxtHoldingCompany(RichInputText txtHoldingCompany)
  {
    this.txtHoldingCompany = txtHoldingCompany;
  }
  
  public RichInputText getTxtHoldingCompany()
  {
    return this.txtHoldingCompany;
  }
  
  public void setHoldingCompanyTbl(RichTable holdingCompanyTbl)
  {
    this.holdingCompanyTbl = holdingCompanyTbl;
  }
  
  public RichTable getHoldingCompanyTbl()
  {
    return this.holdingCompanyTbl;
  }
  
  public void setTxtClientCategory(RichSelectOneChoice txtClientCategory)
  {
    this.txtClientCategory = txtClientCategory;
  }
  
  public RichSelectOneChoice getTxtClientCategory()
  {
    return this.txtClientCategory;
  }
  
  public void setClientSelected(UISelectItems clientSelected)
  {
    this.clientSelected = clientSelected;
  }
  
  public UISelectItems getClientSelected()
  {
    return this.clientSelected;
  }
  
  public void setSelectClientSelected(RichSelectItem selectClientSelected)
  {
    this.selectClientSelected = selectClientSelected;
  }
  
  public RichSelectItem getSelectClientSelected()
  {
    return this.selectClientSelected;
  }
  
  public void setClnt_code(BigDecimal clnt_code)
  {
    this.clnt_code = clnt_code;
  }
  
  public BigDecimal getClnt_code()
  {
    return this.clnt_code;
  }
  
  public void setTxtClientTypes(RichSelectOneChoice txtClientTypes)
  {
    this.txtClientTypes = txtClientTypes;
  }
  
  public RichSelectOneChoice getTxtClientTypes()
  {
    return this.txtClientTypes;
  }
  
  public void setTxtDrvExperience(RichInputText txtDrvExperience)
  {
    this.txtDrvExperience = txtDrvExperience;
  }
  
  public RichInputText getTxtDrvExperience()
  {
    return this.txtDrvExperience;
  }
  
  public void selectHoldingCompany(ValueChangeEvent valueChangeEvent)
  {
    if (this.txtProposer.getValue().toString().equalsIgnoreCase("N"))
    {
      this.session.setAttribute("HoldingCompany", "Y");
      
      this.txtHoldingCompany.setDisabled(true);
      this.txtCommandBtn.setDisabled(false);
      GlobalCC.refreshUI(this.txtHoldingCompany);
      GlobalCC.refreshUI(this.txtCommandBtn);
    }
    else if (this.txtProposer.getValue().toString().equalsIgnoreCase("Y"))
    {
      this.session.setAttribute("HoldingCompany", "N");
      
      this.txtHoldingCompany.setDisabled(true);
      this.txtCommandBtn.setDisabled(true);
      GlobalCC.refreshUI(this.txtHoldingCompany);
      GlobalCC.refreshUI(this.txtCommandBtn);
    }
  }
  
  public void setTxtHoldingCompanyCont(RichPanelLabelAndMessage txtHoldingCompanyCont)
  {
    this.txtHoldingCompanyCont = txtHoldingCompanyCont;
  }
  
  public RichPanelLabelAndMessage getTxtHoldingCompanyCont()
  {
    return this.txtHoldingCompanyCont;
  }
  
  public void setTxtCommandBtn(RichCommandButton txtCommandBtn)
  {
    this.txtCommandBtn = txtCommandBtn;
  }
  
  public RichCommandButton getTxtCommandBtn()
  {
    return this.txtCommandBtn;
  }
  
  public void setTxtSacco(RichSelectOneChoice txtSacco)
  {
    this.txtSacco = txtSacco;
  }
  
  public RichSelectOneChoice getTxtSacco()
  {
    return this.txtSacco;
  }
  
  public void saccoSelected(ValueChangeEvent valueChangeEvent) {}
  
  public void setTxtSelectClientTitle(RichCommandButton txtSelectClientTitle)
  {
    this.txtSelectClientTitle = txtSelectClientTitle;
  }
  
  public RichCommandButton getTxtSelectClientTitle()
  {
    return this.txtSelectClientTitle;
  }
  
  public void setComfirmContinue(RichDialog comfirmContinue)
  {
    this.comfirmContinue = comfirmContinue;
  }
  
  public RichDialog getComfirmContinue()
  {
    return this.comfirmContinue;
  }
  
  public void setTxtReasonForUpdate(RichInputText txtReasonForUpdate)
  {
    this.txtReasonForUpdate = txtReasonForUpdate;
  }
  
  public RichInputText getTxtReasonForUpdate()
  {
    return this.txtReasonForUpdate;
  }
  
  public void setWebClientName(RichInputText webClientName)
  {
    this.webClientName = webClientName;
  }
  
  public RichInputText getWebClientName()
  {
    return this.webClientName;
  }
  
  public void setWebClientShtDesc(RichInputText webClientShtDesc)
  {
    this.webClientShtDesc = webClientShtDesc;
  }
  
  public RichInputText getWebClientShtDesc()
  {
    return this.webClientShtDesc;
  }
  
  public void setSaveShtDesc(RichCommandButton saveShtDesc)
  {
    this.saveShtDesc = saveShtDesc;
  }
  
  public RichCommandButton getSaveShtDesc()
  {
    return this.saveShtDesc;
  }
  
  public void setAddClientBranches(RichCommandButton addClientBranches)
  {
    this.addClientBranches = addClientBranches;
  }
  
  public RichCommandButton getAddClientBranches()
  {
    return this.addClientBranches;
  }
  
  public void setEditClientBranches(RichCommandButton editClientBranches)
  {
    this.editClientBranches = editClientBranches;
  }
  
  public RichCommandButton getEditClientBranches()
  {
    return this.editClientBranches;
  }
  
  public void setDeleteClientBranches(RichCommandButton deleteClientBranches)
  {
    this.deleteClientBranches = deleteClientBranches;
  }
  
  public RichCommandButton getDeleteClientBranches()
  {
    return this.deleteClientBranches;
  }
  
  public String addClientBrches()
  {
    this.session.setAttribute("action", "A");
    this.webClientName.setValue(null);
    this.webClientShtDesc.setValue(null);
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:webClientPop').show(hints);");
    
    return null;
  }
  
  public String editClntBranches()
  {
    this.session.setAttribute("action", "E");
    Object key2 = this.clientBranch.getSelectedRowData();
    JUCtrlValueBinding r = (JUCtrlValueBinding)key2;
    if (r == null) {
      GlobalCC.INFORMATIONREPORTING("Please Select A Branch to edit");
    }
    this.session.setAttribute("clientBankCode", r.getAttribute("clientBankCode"));
    
    this.webClientName.setValue(r.getAttribute("clientBankName"));
    this.webClientShtDesc.setValue(r.getAttribute("clientShtDesc"));
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:webClientPop').show(hints);");
    
    return null;
  }
  
  public String deleteClntBranches()
  {
    BigDecimal Code = null;
    if (this.session.getAttribute("clientBankCode") != null) {
      Code = new BigDecimal(this.session.getAttribute("clientBankCode").toString());
    } else {
      Code = null;
    }
    DBConnector dbCon = new DBConnector();
    OracleConnection conn = null;
    try
    {
      conn = dbCon.getDatabaseConnection();
      
      String query = "begin TQC_SETUPS_PKG.createBankBranches(?,?,?,?,?); end;";
      
      OracleCallableStatement cst = null;
      cst = (OracleCallableStatement)conn.prepareCall(query);
      cst.setString(1, "D");
      cst.setBigDecimal(2, Code);
      cst.setBigDecimal(3, null);
      cst.setString(4, null);
      cst.setString(5, null);
      cst.execute();
      cst.close();
      conn.commit();
      conn.close();
      GlobalCC.INFORMATIONREPORTING("Record Successfully Deleted");
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(e);
    }
    ADFUtils.findIterator("findWebClientBranchesIterator").executeQuery();
    GlobalCC.refreshUI(this.clientBranch);
    return null;
  }
  
  public void setClientBranch(RichTable clientBranch)
  {
    this.clientBranch = clientBranch;
  }
  
  public RichTable getClientBranch()
  {
    return this.clientBranch;
  }
  
  public String saveBranchDetails()
  {
    BigDecimal clientCode = null;
    BigDecimal Code = null;
    String Branchname = null;
    String BranchshtDesc = null;
    
    clientCode = GlobalCC.checkBDNullValues(this.session.getAttribute("ClientCode"));
    if (clientCode == null)
    {
      GlobalCC.INFORMATIONREPORTING("Please select a client or Create one");
      return null;
    }
    if (this.session.getAttribute("clientBankCode") != null) {
      Code = new BigDecimal(this.session.getAttribute("clientBankCode").toString());
    } else {
      Code = null;
    }
    if (this.webClientName.getValue() != null) {
      Branchname = this.webClientName.getValue().toString();
    } else {
      Branchname = null;
    }
    if (this.webClientShtDesc.getValue() != null) {
      BranchshtDesc = this.webClientShtDesc.getValue().toString();
    } else {
      BranchshtDesc = null;
    }
    DBConnector dbCon = new DBConnector();
    OracleConnection conn = null;
    OracleCallableStatement cst = null;
    try
    {
      conn = dbCon.getDatabaseConnection();
      
      String query = "begin TQC_SETUPS_PKG.createBankBranches(?,?,?,?,?); end;";
      
      cst = (OracleCallableStatement)conn.prepareCall(query);
      cst.setString(1, this.session.getAttribute("action").toString());
      cst.setBigDecimal(2, Code);
      cst.setBigDecimal(3, clientCode);
      cst.setString(4, BranchshtDesc);
      cst.setString(5, Branchname);
      cst.execute();
      cst.close();
      conn.commit();
      conn.close();
      GlobalCC.INFORMATIONREPORTING("Record Successfully Updated");
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(e);
    }
    finally
    {
      DbUtils.closeQuietly(conn, cst, null);
    }
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:webClientPop').hide(hints);");
    
    ADFUtils.findIterator("findWebClientBranchesIterator").executeQuery();
    GlobalCC.refreshUI(this.clientBranch);
    
    return null;
  }
  
  public String assignBank()
  {
    DBConnector datahandler = new DBConnector();
    Connection conn = null;
    CallableStatement cst = null;
    int rowCount = this.unAssignedBank.getRowCount();
    if (rowCount < 1)
    {
      GlobalCC.INFORMATIONREPORTING("No Bank To Assign");
      return null;
    }
    conn = datahandler.getDatabaseConnection();
    try
    {
      for (int i = 0; i < rowCount; i++)
      {
        Boolean Accept = Boolean.valueOf(false);
        JUCtrlValueBinding r = (JUCtrlValueBinding)this.unAssignedBank.getRowData(i);
        
        Accept = (Boolean)r.getAttribute("select");
        if (r == null)
        {
          GlobalCC.INFORMATIONREPORTING("Please select a Bank To Assign");
          return null;
        }
        if (Accept.booleanValue())
        {
          String Query = "begin TQC_SETUPS_PKG.assignBankToClient(?,?,?); end;";
          
          datahandler = new DBConnector();
          conn = datahandler.getDatabaseConnection();
          cst = conn.prepareCall(Query);
          cst.setString(1, "A");
          cst.setBigDecimal(2, (BigDecimal)this.session.getAttribute("clientAccCode"));
          
          cst.setBigDecimal(3, (BigDecimal)r.getAttribute("CLNT_CODE"));
          
          cst.execute();
        }
      }
      ADFUtils.findIterator("findUnassignedCompaniesIterator").executeQuery();
      ADFUtils.findIterator("findassignedCompaniesIterator").executeQuery();
      GlobalCC.refreshUI(this.unAssignedBank);
      GlobalCC.refreshUI(this.assignedBank);
      ADFUtils.findIterator("findDefaultBranchLovIterator").executeQuery();
      GlobalCC.refreshUI(this.defaultBranch);
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(e);
    }
    return null;
  }
  
  public void setUnAssignedBank(RichTable unAssignedBank)
  {
    this.unAssignedBank = unAssignedBank;
  }
  
  public RichTable getUnAssignedBank()
  {
    return this.unAssignedBank;
  }
  
  public void setUnAssigned(RichSelectBooleanCheckbox unAssigned)
  {
    this.unAssigned = unAssigned;
  }
  
  public RichSelectBooleanCheckbox getUnAssigned()
  {
    return this.unAssigned;
  }
  
  public void setAssignedBank(RichTable assignedBank)
  {
    this.assignedBank = assignedBank;
  }
  
  public RichTable getAssignedBank()
  {
    return this.assignedBank;
  }
  
  public void selectWebAccount(SelectionEvent selectionEvent)
  {
    Object keys = this.tblwebAccounts.getSelectedRowData();
    JUCtrlValueBinding r = (JUCtrlValueBinding)keys;
    if (r == null)
    {
      GlobalCC.INFORMATIONREPORTING("Please select A web Account");
      return;
    }
    this.session.setAttribute("clientAccCode", r.getAttribute("clientAccCode"));
    ADFUtils.findIterator("findUnassignedCompaniesIterator").executeQuery();
    GlobalCC.refreshUI(this.unAssignedBank);
    ADFUtils.findIterator("findassignedCompaniesIterator").executeQuery();
    GlobalCC.refreshUI(this.assignedBank);
    ADFUtils.findIterator("findDefaultBranchLovIterator").executeQuery();
    GlobalCC.refreshUI(this.defaultBranch);
  }
  
  public String unassignBank()
  {
    DBConnector datahandler = new DBConnector();
    Connection conn = null;
    CallableStatement cst = null;
    int rowCount = this.assignedBank.getRowCount();
    if (rowCount < 1)
    {
      GlobalCC.INFORMATIONREPORTING("No Bank To Re-Assign");
      return null;
    }
    conn = datahandler.getDatabaseConnection();
    try
    {
      for (int i = 0; i < rowCount; i++)
      {
        Boolean Accept = Boolean.valueOf(false);
        JUCtrlValueBinding r = (JUCtrlValueBinding)this.assignedBank.getRowData(i);
        
        Accept = (Boolean)r.getAttribute("select");
        if (r == null)
        {
          GlobalCC.INFORMATIONREPORTING("Please select a Bank To Assign");
          return null;
        }
        if (Accept.booleanValue())
        {
          String Query = "begin TQC_SETUPS_PKG.assignBankToClient(?,?,?); end;";
          
          datahandler = new DBConnector();
          conn = datahandler.getDatabaseConnection();
          cst = conn.prepareCall(Query);
          cst.setString(1, "D");
          cst.setBigDecimal(2, null);
          cst.setBigDecimal(3, (BigDecimal)r.getAttribute("CLNT_CODE"));
          
          cst.execute();
        }
      }
      ADFUtils.findIterator("findUnassignedCompaniesIterator").executeQuery();
      ADFUtils.findIterator("findassignedCompaniesIterator").executeQuery();
      GlobalCC.refreshUI(this.unAssignedBank);
      GlobalCC.refreshUI(this.assignedBank);
      ADFUtils.findIterator("findDefaultBranchLovIterator").executeQuery();
      GlobalCC.refreshUI(this.defaultBranch);
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(e);
    }
    return null;
  }
  
  public String assingAllBanks()
  {
    int j = 0;
    while (j < this.unAssignedBank.getRowCount())
    {
      JUCtrlValueBinding r = (JUCtrlValueBinding)this.unAssignedBank.getRowData(j);
      
      r.setAttribute("select", Boolean.valueOf(true));
      this.unAssigned.setSelected(true);
      GlobalCC.refreshUI(this.unAssigned);
      j++;
    }
    assignBank();
    return null;
  }
  
  public String unAssignAllBanks()
  {
    int j = 0;
    while (j < this.assignedBank.getRowCount())
    {
      JUCtrlValueBinding r = (JUCtrlValueBinding)this.assignedBank.getRowData(j);
      
      r.setAttribute("select", Boolean.valueOf(false));
      this.assignedCheck.setSelected(false);
      GlobalCC.refreshUI(this.assignedCheck);
      j++;
    }
    unassignBank();
    return null;
  }
  
  public void setAssignedCheck(RichSelectBooleanCheckbox assignedCheck)
  {
    this.assignedCheck = assignedCheck;
  }
  
  public RichSelectBooleanCheckbox getAssignedCheck()
  {
    return this.assignedCheck;
  }
  
  public void setTxtDefaultBranch(RichInputText txtDefaultBranch)
  {
    this.txtDefaultBranch = txtDefaultBranch;
  }
  
  public RichInputText getTxtDefaultBranch()
  {
    return this.txtDefaultBranch;
  }
  
  public String addSaveDefaultBranch()
  {
    BigDecimal branchCode = null;
    if (this.session.getAttribute("clientBranchCode") != null) {
      branchCode = new BigDecimal(this.session.getAttribute("clientBranchCode").toString());
    } else {
      branchCode = null;
    }
    DBConnector dbCon = new DBConnector();
    OracleConnection conn = null;
    OracleCallableStatement cst = null;
    try
    {
      conn = dbCon.getDatabaseConnection();
      
      String query = "begin TQC_SETUPS_PKG.assignDefaultBranch(?); end;";
      cst = (OracleCallableStatement)conn.prepareCall(query);
      cst.setBigDecimal(1, branchCode);
      cst.execute();
      cst.close();
      conn.commit();
      conn.close();
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(e);
    }
    finally
    {
      DbUtils.closeQuietly(conn, cst, null);
    }
    return null;
  }
  
  public String addClientDetails()
  {
    Object keys = this.defaultBranch.getSelectedRowData();
    JUCtrlValueBinding r = (JUCtrlValueBinding)keys;
    if (r == null)
    {
      GlobalCC.INFORMATIONREPORTING("Please select A Default Branch");
      return null;
    }
    this.session.setAttribute("clientBranchCode", r.getAttribute("clientBankCode"));
    
    this.txtDefaultBranch.setValue(r.getAttribute("clientBankName"));
    GlobalCC.refreshUI(this.txtDefaultBranch);
    addSaveDefaultBranch();
    GlobalCC.INFORMATIONREPORTING("Default Branch Set Successfully");
    return null;
  }
  
  public void setDefaultBranch(RichTable defaultBranch)
  {
    this.defaultBranch = defaultBranch;
  }
  
  public RichTable getDefaultBranch()
  {
    return this.defaultBranch;
  }
  
  public String addProductAttribute()
  {
    this.session.setAttribute("action", "A");
    this.txtWebProduct.setValue(null);
    this.txtUserName.setValue(null);
    this.txtDebitLimit.setValue(null);
    this.txtCrLimits.setValue(null);
    this.txtClientAccount.setValue(null);
    this.txtPolicyCheck.setSelected(false);
    this.txtEndorsCheck.setSelected(false);
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:productAttributePop').show(hints);");
    
    return null;
  }
  
  public String editProductAttribute()
  {
    this.session.setAttribute("action", "E");
    Object keys = this.webProductsDetails.getSelectedRowData();
    
    JUCtrlValueBinding r = (JUCtrlValueBinding)keys;
    if (r == null)
    {
      GlobalCC.INFORMATIONREPORTING("Please select A Web product");
      return null;
    }
    this.session.setAttribute("productCode1", r.getAttribute("productCode1"));
    this.session.setAttribute("webProductCode", r.getAttribute("productCode1"));
    this.session.setAttribute("WebuserCode", r.getAttribute("userCode1"));
    this.session.setAttribute("AccCode", r.getAttribute("clnaCode"));
    this.txtWebProduct.setValue(r.getAttribute("PRO_DESC"));
    this.txtUserName.setValue(r.getAttribute("userName1"));
    this.txtDebitLimit.setValue(r.getAttribute("drLimitAmount"));
    this.txtCrLimits.setValue(r.getAttribute("crLimitAmount"));
    if (r.getAttribute("polUse") != null)
    {
      if (r.getAttribute("polUse").equals("Y")) {
        this.txtPolicyCheck.setSelected(true);
      } else {
        this.txtPolicyCheck.setSelected(false);
      }
    }
    else {
      this.txtPolicyCheck.setSelected(false);
    }
    if (r.getAttribute("endosUse") != null)
    {
      if (r.getAttribute("endosUse").equals("Y")) {
        this.txtEndorsCheck.setSelected(true);
      } else {
        this.txtEndorsCheck.setSelected(false);
      }
    }
    else {
      this.txtEndorsCheck.setSelected(false);
    }
    if (r.getAttribute("clnaShtDesc") != null) {
      this.txtClientAccount.setValue(r.getAttribute("clnaShtDesc"));
    } else {
      this.txtClientAccount.setValue(null);
    }
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:productAttributePop').show(hints);");
    
    return null;
  }
  
  public String deleteProductAttribute()
  {
    BigDecimal clientCode = null;BigDecimal webProductCode = null;
    if (this.session.getAttribute("ClientCode") != null) {
      clientCode = new BigDecimal(this.session.getAttribute("ClientCode").toString());
    } else {
      clientCode = null;
    }
    if (this.session.getAttribute("wbProductCode") != null) {
      webProductCode = new BigDecimal(this.session.getAttribute("wbProductCode").toString());
    } else {
      webProductCode = null;
    }
    DBConnector dbCon = new DBConnector();
    OracleConnection conn = null;
    try
    {
      conn = dbCon.getDatabaseConnection();
      
      String query = "begin TQC_SETUPS_PKG.createWebProductDetails(?,?,?,?,?,?,?,?,?); end;";
      
      OracleCallableStatement cst = null;
      cst = (OracleCallableStatement)conn.prepareCall(query);
      cst.setString(1, "D");
      cst.setBigDecimal(2, clientCode);
      cst.setBigDecimal(3, webProductCode);
      cst.setBigDecimal(4, null);
      cst.setString(5, null);
      cst.setBigDecimal(6, null);
      cst.setBigDecimal(7, null);
      cst.setString(8, null);
      cst.setString(9, null);
      cst.execute();
      cst.close();
      conn.commit();
      conn.close();
      ADFUtils.findIterator("findWebProductsDetailsIterator").executeQuery();
      GlobalCC.refreshUI(this.webProductsDetails);
      GlobalCC.INFORMATIONREPORTING("Record Successfully Deleted");
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:productAttributePop').hide(hints);");
    }
    catch (Exception e)
    {
      e.printStackTrace();
      GlobalCC.EXCEPTIONREPORTING(conn, e);
      return null;
    }
    return null;
  }
  
  public void setTxtDebitLimit(RichInputNumberSpinbox txtDebitLimit)
  {
    this.txtDebitLimit = txtDebitLimit;
  }
  
  public RichInputNumberSpinbox getTxtDebitLimit()
  {
    return this.txtDebitLimit;
  }
  
  public void setTxtCrLimits(RichInputNumberSpinbox txtCrLimits)
  {
    this.txtCrLimits = txtCrLimits;
  }
  
  public RichInputNumberSpinbox getTxtCrLimits()
  {
    return this.txtCrLimits;
  }
  
  public void setTxtWebProduct(RichInputText txtWebProduct)
  {
    this.txtWebProduct = txtWebProduct;
  }
  
  public RichInputText getTxtWebProduct()
  {
    return this.txtWebProduct;
  }
  
  public void setTxtUserName(RichInputText txtUserName)
  {
    this.txtUserName = txtUserName;
  }
  
  public RichInputText getTxtUserName()
  {
    return this.txtUserName;
  }
  
  public String saveProductAttribute()
  {
    BigDecimal accountCode = null;
    if (this.session.getAttribute("AccCode") != null) {
      accountCode = new BigDecimal(this.session.getAttribute("AccCode").toString());
    } else {
      accountCode = null;
    }
    BigDecimal clientCode = null;
    if (this.session.getAttribute("ClientCode") != null) {
      clientCode = new BigDecimal(this.session.getAttribute("ClientCode").toString());
    } else {
      clientCode = null;
    }
    BigDecimal webProductCode = null;
    if (this.session.getAttribute("webProductCode") != null) {
      webProductCode = new BigDecimal(this.session.getAttribute("webProductCode").toString());
    } else {
      webProductCode = null;
    }
    BigDecimal userCode = null;
    if (this.session.getAttribute("WebuserCode") != null) {
      userCode = new BigDecimal(this.session.getAttribute("WebuserCode").toString());
    } else {
      userCode = null;
    }
    String userName = null;
    if (this.session.getAttribute("WebuserName") != null) {
      userName = this.session.getAttribute("WebuserName").toString();
    } else {
      userName = null;
    }
    BigDecimal DrLimits = null;
    if (this.txtDebitLimit.getValue() != null) {
      DrLimits = new BigDecimal(this.txtDebitLimit.getValue().toString());
    } else {
      DrLimits = null;
    }
    BigDecimal CrLimits = null;
    if (this.txtCrLimits.getValue() != null) {
      CrLimits = new BigDecimal(this.txtCrLimits.getValue().toString());
    } else {
      CrLimits = null;
    }
    String PolicyUse = null;
    if (this.txtPolicyCheck.isSelected()) {
      PolicyUse = "Y";
    } else {
      PolicyUse = "N";
    }
    String endosUse = null;
    if (this.txtEndorsCheck.isSelected()) {
      endosUse = "Y";
    } else {
      endosUse = "N";
    }
    DBConnector dbCon = new DBConnector();
    OracleConnection conn = null;
    try
    {
      conn = dbCon.getDatabaseConnection();
      
      String query = "begin TQC_SETUPS_PKG.createWebProductDetails(?,?,?,?,?,?,?,?,?,?); end;";
      
      OracleCallableStatement cst = null;
      cst = (OracleCallableStatement)conn.prepareCall(query);
      cst.setString(1, (String)this.session.getAttribute("action"));
      cst.setBigDecimal(2, clientCode);
      cst.setBigDecimal(3, webProductCode);
      cst.setBigDecimal(4, userCode);
      cst.setString(5, userName);
      cst.setBigDecimal(6, DrLimits);
      cst.setBigDecimal(7, CrLimits);
      cst.setString(8, PolicyUse);
      cst.setString(9, endosUse);
      cst.setBigDecimal(10, accountCode);
      cst.execute();
      cst.close();
      conn.commit();
      conn.close();
      ADFUtils.findIterator("findWebProductsDetailsIterator").executeQuery();
      GlobalCC.refreshUI(this.webProductsDetails);
      GlobalCC.INFORMATIONREPORTING("Record Successfully inserted");
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:productAttributePop').hide(hints);");
    }
    catch (Exception e)
    {
      e.printStackTrace();
      GlobalCC.EXCEPTIONREPORTING(conn, e);
      return null;
    }
    return null;
  }
  
  public void setWebProductTbl(RichTable webProductTbl)
  {
    this.webProductTbl = webProductTbl;
  }
  
  public RichTable getWebProductTbl()
  {
    return this.webProductTbl;
  }
  
  public String addWebproductDetails()
  {
    Object keys = this.webProductTbl.getSelectedRowData();
    JUCtrlValueBinding rows = (JUCtrlValueBinding)keys;
    if (rows == null)
    {
      GlobalCC.INFORMATIONREPORTING("No Record Selected");
      return null;
    }
    this.session.setAttribute("webProductCode", rows.getAttribute("webProductCode"));
    
    this.txtWebProduct.setValue(rows.getAttribute("productDesc"));
    GlobalCC.refreshUI(this.txtWebProduct);
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:productAttributePop').show(hints);");
    
    return null;
  }
  
  public String addWebUser()
  {
    Object keys = this.tblUser.getSelectedRowData();
    JUCtrlValueBinding r = (JUCtrlValueBinding)keys;
    if (r == null)
    {
      GlobalCC.INFORMATIONREPORTING("Please select a user");
      return null;
    }
    this.session.setAttribute("WebuserCode", r.getAttribute("webUserCode"));
    this.session.setAttribute("WebuserName", r.getAttribute("userName"));
    this.txtUserName.setValue(r.getAttribute("userName"));
    GlobalCC.refreshUI(this.txtUserName);
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:productAttributePop').show(hints);");
    
    return null;
  }
  
  public void setTblUser(RichTable tblUser)
  {
    this.tblUser = tblUser;
  }
  
  public RichTable getTblUser()
  {
    return this.tblUser;
  }
  
  public void setTxtPolicyCheck(RichSelectBooleanCheckbox txtPolicyCheck)
  {
    this.txtPolicyCheck = txtPolicyCheck;
  }
  
  public RichSelectBooleanCheckbox getTxtPolicyCheck()
  {
    return this.txtPolicyCheck;
  }
  
  public void setTxtEndorsCheck(RichSelectBooleanCheckbox txtEndorsCheck)
  {
    this.txtEndorsCheck = txtEndorsCheck;
  }
  
  public RichSelectBooleanCheckbox getTxtEndorsCheck()
  {
    return this.txtEndorsCheck;
  }
  
  public void setWebProductsDetails(RichTable webProductsDetails)
  {
    this.webProductsDetails = webProductsDetails;
  }
  
  public RichTable getWebProductsDetails()
  {
    return this.webProductsDetails;
  }
  
  public String selectProductPop()
  {
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:WebproductPop').show(hints);");
    
    return null;
  }
  
  public void selectWebProducts(SelectionEvent selectionEvent)
  {
    Object keys = this.webProductsDetails.getSelectedRowData();
    JUCtrlValueBinding r = (JUCtrlValueBinding)keys;
    if (r == null)
    {
      GlobalCC.INFORMATIONREPORTING("Please select a user");
      return;
    }
    this.session.setAttribute("wbProductCode", r.getAttribute("productCode1"));
  }
  
  public void selectEndorsment(ValueChangeEvent valueChangeEvent)
  {
    if (this.txtEndorsCheck.isSelected()) {
      this.txtPolicyCheck.setDisabled(true);
    } else {
      this.txtPolicyCheck.setDisabled(false);
    }
    GlobalCC.refreshUI(this.txtPolicyCheck);
  }
  
  public void selectPolicyCheck(ValueChangeEvent valueChangeEvent)
  {
    if (this.txtPolicyCheck.isSelected()) {
      this.txtEndorsCheck.setDisabled(true);
    } else {
      this.txtEndorsCheck.setDisabled(false);
    }
    GlobalCC.refreshUI(this.txtEndorsCheck);
  }
  
  public void setTxtAgencies(RichCommandButton txtAgencies)
  {
    this.txtAgencies = txtAgencies;
  }
  
  public RichCommandButton getTxtAgencies()
  {
    return this.txtAgencies;
  }
  
  public String checkIfIdIsUnique(String idRegNumber)
  {
    String message = null;
    DBConnector dbCon = new DBConnector();
    OracleConnection conn = null;
    OracleCallableStatement cst = null;
    try
    {
      conn = dbCon.getDatabaseConnection();
      
      String query = "begin TQC_CLIENTS_PKG.check_if_id_unique(?,?); end;";
      
      cst = (OracleCallableStatement)conn.prepareCall(query);
      cst.setString(1, idRegNumber);
      cst.registerOutParameter(2, 12);
      cst.execute();
      message = cst.getString(2);
      cst.close();
      conn.commit();
      conn.close();
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(e);
    }
    finally
    {
      DbUtils.closeQuietly(conn, cst, null);
    }
    return message;
  }
  
  public String showSmsTemplates()
  {
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:smsTempPop').show(hints);");
    
    return null;
  }
  
  public String showEmailTempates()
  {
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:emailTemPop').show(hints);");
    
    return null;
  }
  
  public String selectSmsTemplate()
  {
    return null;
  }
  
  public String selectEmailTemplate()
  {
    return null;
  }
  
  public void setSmsTbl(RichTable smsTbl)
  {
    this.smsTbl = smsTbl;
  }
  
  public RichTable getSmsTbl()
  {
    return this.smsTbl;
  }
  
  public void setEmailTbl(RichTable emailTbl)
  {
    this.emailTbl = emailTbl;
  }
  
  public RichTable getEmailTbl()
  {
    return this.emailTbl;
  }
  
  public void setTxtPrefix(RichSelectOneChoice txtPrefix)
  {
    this.txtPrefix = txtPrefix;
  }
  
  public RichSelectOneChoice getTxtPrefix()
  {
    return this.txtPrefix;
  }
  
  public void setTxtClientAccount(RichInputText txtClientAccount)
  {
    this.txtClientAccount = txtClientAccount;
  }
  
  public RichInputText getTxtClientAccount()
  {
    return this.txtClientAccount;
  }
  
  public String addWebClientAccount()
  {
    return null;
  }
  
  public void setClientAccountTbl(RichTable clientAccountTbl)
  {
    this.clientAccountTbl = clientAccountTbl;
  }
  
  public RichTable getClientAccountTbl()
  {
    return this.clientAccountTbl;
  }
  
  public String addClientAccount()
  {
    Object key = this.clientAccountTbl.getSelectedRowData();
    JUCtrlValueBinding r = (JUCtrlValueBinding)key;
    if (r == null)
    {
      GlobalCC.INFORMATIONREPORTING("No Record Selected");
      return null;
    }
    this.txtClientAccount.setValue(r.getAttribute("clnaShtDesc"));
    this.session.setAttribute("AccCode", r.getAttribute("clnaCode"));
    GlobalCC.refreshUI(this.txtClientAccount);
    GlobalCC.refreshUI(this.txtUserName);
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:productAttributePop').show(hints);");
    
    return null;
  }
  
  public void setMarketerTbl(RichTable marketerTbl)
  {
    this.marketerTbl = marketerTbl;
  }
  
  public RichTable getMarketerTbl()
  {
    return this.marketerTbl;
  }
  
  public String selectMarketer()
  {
    Object key = this.marketerTbl.getSelectedRowData();
    JUCtrlValueBinding r = (JUCtrlValueBinding)key;
    if (r == null)
    {
      GlobalCC.INFORMATIONREPORTING("No Record Selected");
      return null;
    }
    this.session.setAttribute("MarketeragentCode", r.getAttribute("agentCode"));
    this.txtAccountManager.setValue(r.getAttribute("agentName"));
    this.txtAccountManagerCode.setValue(r.getAttribute("agentCode"));
    GlobalCC.refreshUI(this.txtAccountManager);
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:MarketerPop').hide(hints);");
    
    return null;
  }
  
  public void setLabelAndMessage(RichPanelLabelAndMessage labelAndMessage)
  {
    this.labelAndMessage = labelAndMessage;
  }
  
  public RichPanelLabelAndMessage getLabelAndMessage()
  {
    return this.labelAndMessage;
  }
  
  public void setRelationShipPop(RichCommandButton relationShipPop)
  {
    this.relationShipPop = relationShipPop;
  }
  
  public RichCommandButton getRelationShipPop()
  {
    return this.relationShipPop;
  }
  
  public void setTxtPrefixManager(RichInputText txtPrefixManager)
  {
    this.txtPrefixManager = txtPrefixManager;
  }
  
  public RichInputText getTxtPrefixManager()
  {
    return this.txtPrefixManager;
  }
  
  public void setPrefixPop(RichCommandButton prefixPop)
  {
    this.prefixPop = prefixPop;
  }
  
  public RichCommandButton getPrefixPop()
  {
    return this.prefixPop;
  }
  
  public String selectPrefix()
  {
    Object key = this.prefixTbl.getSelectedRowData();
    JUCtrlValueBinding r = (JUCtrlValueBinding)key;
    if (r == null)
    {
      GlobalCC.INFORMATIONREPORTING("No record Selected");
      return null;
    }
    this.session.setAttribute("mptpCode", r.getAttribute("mptpCode"));
    this.session.setAttribute("mptCode", r.getAttribute("mptCode"));
    this.txtPrefixManager.setValue(r.getAttribute("prefix"));
    GlobalCC.refreshUI(this.txtPrefixManager);
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:prefixPOP').hide(hints);");
    
    return null;
  }
  
  public String selectPrefix2()
  {
    Object key = this.prefixTbl2.getSelectedRowData();
    JUCtrlValueBinding r = (JUCtrlValueBinding)key;
    if (r == null)
    {
      GlobalCC.INFORMATIONREPORTING("No record Selected");
      return null;
    }
    this.txtTelPayPrefix.setValue(r.getAttribute("prefix"));
    GlobalCC.refreshUI(this.txtTelPayPrefix);
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:prefixPOP2').hide(hints);");
    
    return null;
  }
  
  public void setPrefixTbl(RichTable prefixTbl)
  {
    this.prefixTbl = prefixTbl;
  }
  
  public RichTable getPrefixTbl()
  {
    return this.prefixTbl;
  }
  
  public void selectPrefixFirst(FacesContext facesContext, UIComponent uIComponent, Object object)
  {
    if (GlobalCC.checkNullValues(this.txtPrefixManager.getValue()) == null)
    {
      GlobalCC.errorValueNotEntered("Select Prefix First");
      return;
    }
  }
  
  public void selectPrefixFirst2(FacesContext facesContext, UIComponent uIComponent, Object object)
  {
    if ((this.txtTelPayPrefix.getValue() == null) && (this.renderer.isSMSRequired()))
    {
      GlobalCC.errorValueNotEntered("Select Prefix First");
      return;
    }
  }
  
  public void validateSms(FacesContext facesContext, UIComponent uIComponent, Object object)
  {
    if (object != null)
    {
      String name = object.toString();
      String expression = "^0[1-9]{1}[0-9]{8}$";
      
      CharSequence inputStr = name;
      Pattern pattern = Pattern.compile(expression);
      Matcher matcher = pattern.matcher(inputStr);
      String msg = "Please check format.SMS No. Must be at least 10 Numbers and should start with 0(zero)";
      if (!matcher.matches()) {
        throw new ValidatorException(new FacesMessage(FacesMessage.SEVERITY_ERROR, msg, null));
      }
    }
  }
  
  public void setPanelBinding(RichPanelFormLayout panelBinding)
  {
    this.panelBinding = panelBinding;
  }
  
  public RichPanelFormLayout getPanelBinding()
  {
    return this.panelBinding;
  }
  
  public void selectAnniversary(ActionEvent actionEvent) {}
  
  public void setTxtCreditAllowed(RichSelectOneChoice txtCreditAllowed)
  {
    this.txtCreditAllowed = txtCreditAllowed;
  }
  
  public RichSelectOneChoice getTxtCreditAllowed()
  {
    return this.txtCreditAllowed;
  }
  
  public void selectCredit(ValueChangeEvent valueChangeEvent)
  {
    if (valueChangeEvent.getOldValue() != valueChangeEvent.getNewValue()) {
      if (this.txtCreditAllowed.getValue() != null)
      {
        if (this.txtCreditAllowed.getValue().equals("Y")) {
          this.txtCreditLimit.setVisible(true);
        } else {
          this.txtCreditLimit.setVisible(false);
        }
      }
      else {
        this.txtCreditLimit.setVisible(false);
      }
    }
    GlobalCC.refreshUI(this.txtCreditLimit);
  }
  
  public void setTxtCreditLimit(RichInputNumberSpinbox txtCreditLimit)
  {
    this.txtCreditLimit = txtCreditLimit;
  }
  
  public RichInputNumberSpinbox getTxtCreditLimit()
  {
    return this.txtCreditLimit;
  }
  
  public void setTxtNationality(RichInputText txtNationality)
  {
    this.txtNationality = txtNationality;
  }
  
  public RichInputText getTxtNationality()
  {
    return this.txtNationality;
  }
  
  public void setTxtSurburbs(RichInputText txtSurburbs)
  {
    this.txtSurburbs = txtSurburbs;
  }
  
  public RichInputText getTxtSurburbs()
  {
    return this.txtSurburbs;
  }
  
  public String actionSelectLocation()
  {
    ADFUtils.findIterator("fetchPostalCodesByTownIterator").executeQuery();
    GlobalCC.refreshUI(this.postalCodeTable);
    GlobalCC.showPopup("pt1:postalCodePOP");
    return null;
  }
  
  public void setTxtSurburbsLbl(RichPanelLabelAndMessage txtSurburbsLbl)
  {
    this.txtSurburbsLbl = txtSurburbsLbl;
  }
  
  public RichPanelLabelAndMessage getTxtSurburbsLbl()
  {
    return this.txtSurburbsLbl;
  }
  
  public void setLocationTbl(RichTable locationTbl)
  {
    this.locationTbl = locationTbl;
  }
  
  public RichTable getLocationTbl()
  {
    return this.locationTbl;
  }
  
  public String selectLocationDtls()
  {
    Object key = this.locationTbl.getSelectedRowData();
    JUCtrlValueBinding r = (JUCtrlValueBinding)key;
    if (r == null)
    {
      GlobalCC.INFORMATIONREPORTING("No Record Selected");
      return null;
    }
    this.session.setAttribute("locCode", r.getAttribute("locCode"));
    this.txtSurburbs.setValue(r.getAttribute("locName"));
    GlobalCC.refreshUI(this.txtSurburbs);
    GlobalCC.hidePopup("pt1:locationPop");
    return null;
  }
  
  public void validatePin(FacesContext facesContext, UIComponent uIComponent, Object object)
  {
    if (object != null)
    {
      String name = object.toString();
      String expression = "[A-Za-z]+[A-Za-z0-9.-]+[A-Za-z]{1,9,1}";
      CharSequence inputStr = name;
      Pattern pattern = Pattern.compile(expression);
      Matcher matcher = pattern.matcher(inputStr);
      String msg = "Email is not in Proper Format";
      if (!matcher.matches()) {
        throw new ValidatorException(new FacesMessage(FacesMessage.SEVERITY_ERROR, msg, null));
      }
    }
  }
  
  public void selectPin(FacesContext facesContext, UIComponent uIComponent, Object object)
  {
    System.out.print("val 5345345534534");
    
    String name = object.toString();
    String expression = "[A-Za-z]+[A-Za-z0-9.-]+[A-Za-z]{1,9,1}";
    CharSequence inputStr = name;
    Pattern pattern = Pattern.compile(expression);
    Matcher matcher = pattern.matcher(inputStr);
    String msg = "Email is not in Proper Format";
    if (matcher.matches())
    {
      System.out.print("val 5345345534535354");
    }
    else
    {
      System.out.print("val 5345345553534535354");
      GlobalCC.INFORMATIONREPORTING("Format not ok");
      return;
    }
  }
  
  public void setTxtSector(RichInputText txtSector)
  {
    this.txtSector = txtSector;
  }
  
  public RichInputText getTxtSector()
  {
    return this.txtSector;
  }
  
  public String getAutoAuthirize()
  {
    DBConnector myConn = new DBConnector();
    Connection conn = myConn.getDatabaseConnection();
    String delink = "NONE";
    CallableStatement cst = null;
    try
    {
      cst = conn.prepareCall("begin ? := TQC_PARAMETERS_PKG.GET_PARAM_VARCHAR(?); end;");
      
      cst.registerOutParameter(1, 12);
      cst.setString(2, "AUTHORISE_CLIENT_AUTO");
      cst.execute();
      delink = cst.getString(1);
      if (delink.equals("Y")) {
        this.txtStatus.setValue("A");
      }
      GlobalCC.refreshUI(this.txtStatus);
    }
    catch (SQLException e) {}finally
    {
      DbUtils.closeQuietly(conn, cst, null);
    }
    return delink;
  }
  
  public void setTxtSmsPrefix(RichInputText txtSmsPrefix)
  {
    this.txtSmsPrefix = txtSmsPrefix;
  }
  
  public RichInputText getTxtSmsPrefix()
  {
    return this.txtSmsPrefix;
  }
  
  public void setTxtBouncedCheque(RichSelectOneChoice txtBouncedCheque)
  {
    this.txtBouncedCheque = txtBouncedCheque;
  }
  
  public RichSelectOneChoice getTxtBouncedCheque()
  {
    return this.txtBouncedCheque;
  }
  
  public void enterClientId(ValueChangeEvent valueChangeEvent)
  {
    if ((valueChangeEvent.getNewValue() != valueChangeEvent.getOldValue()) && (valueChangeEvent.getNewValue().toString() != null)) {
      this.session.setAttribute("idRegNumber", this.txtIdRegNum.getValue());
    }
  }
  
  public void enterClientFullName(ValueChangeEvent valueChangeEvent)
  {
    try
    {
      if ((!Rendering.isDisabledField("CLIENT_FULLNAME")) && (Rendering.isVisibleField("CLIENT_FULLNAME")))
      {
        String fullnames = GlobalCC.checkNullValues(this.txtFullNames.getValue());
        
        String surname = null;
        String othernames = null;
        if ((fullnames != null) && ("".equals(fullnames) != true))
        {
          int s = fullnames.trim().indexOf(" ");
          if (s > 0)
          {
            surname = fullnames.substring(0, s);
            othernames = fullnames.substring(s + 1, fullnames.length());
          }
        }
        System.out.println("surname: " + surname + " othernames: " + othernames);
        
        this.txtSurname.setValue(surname);
        this.txtOtherNames.setValue(othernames);
        GlobalCC.refreshUI(this.txtSurname);
        GlobalCC.refreshUI(this.txtOtherNames);
      }
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(e);
    }
  }
  
  public void enterCustomerCompany(ValueChangeEvent valueChangeEvent)
  {
    this.session.setAttribute("CustomerCompany", valueChangeEvent.getNewValue());
  }
  
  public void enterCMId(ValueChangeEvent valueChangeEvent)
  {
    String client = GlobalCC.getSysParamValue("CLIENT");
    if ((GlobalCC.getSysParamValue("CHANNEL_MANAGER") != null) && (GlobalCC.getSysParamValue("CHANNEL_MANAGER").equals("Y")))
    {
      Map clntDtls = new HashMap();
      if ("CBA".equalsIgnoreCase(client))
      {
        String customerNo = GlobalCC.checkNullValues(valueChangeEvent.getNewValue());
        
        String customerCompany = GlobalCC.checkNullValues(this.session.getAttribute("CustomerCompany"));
        if (customerNo != null)
        {
          if ((customerNo.length() == 6) && (!customerNo.matches("[0-9]{6}")))
          {
            GlobalCC.errorValueNotEntered("Invalid Customer Number! Enter a six digit number!");
            return;
          }
          if (customerCompany == null)
          {
            GlobalCC.errorValueNotEntered("Enter Customer Company!");
            return;
          }
          if (customerNo.matches("[0-9]{6}"))
          {
            CbaCustomerAccountInfo info = new CbaCustomerAccountInfo();
            
            HashMap m = info.customerInfo(customerCompany, customerNo);
            if (m.size() > 0)
            {
              try
              {
                this.legacyShtDesc.setValue(m.get("CLNT_OLD_SHT_DESC"));
                String fullnames = GlobalCC.checkNullValues(m.get("CLNT_FULLNAME"));
                
                String surname = null;
                String othernames = null;
                if (fullnames != null)
                {
                  int s = fullnames.trim().indexOf(" ");
                  if (s > 0)
                  {
                    surname = fullnames.substring(0, s);
                    
                    othernames = fullnames.substring(s + 1, fullnames.length());
                  }
                }
                this.txtSurname.setValue(surname);
                this.txtOtherNames.setValue(othernames);
                this.txtFullNames.setValue(fullnames);
                this.txtIdRegNum.setValue(m.get("CLNT_ID_REG_NO"));
                this.txtEmail.setValue(m.get("CLNT_EMAIL_ADDRS"));
                this.txtClientTitle.setValue(m.get("CLNT_TITLE"));
                this.txtPhone1.setValue(m.get("CLNT_TEL"));
                this.txtPIN.setValue(m.get("CLNT_PIN"));
                this.txtPassportNo.setValue(m.get("CLNT_PASSPORT_NO"));
                this.txtClientCellNos.setValue(m.get("CLNT_SMS_TEL"));
                this.txtGender.setValue(m.get("CLNT_GENDER"));
                
                String couZipCode = GlobalCC.checkNullValues(m.get("CLNT_COU_ZIP_CODE"));
                
                String no_format = "^((\\+" + couZipCode + ")|0){0,1}\\d{9}$";
                
                String prefix = null;
                String suffix = null;
                String sms = GlobalCC.checkNullValues(m.get("CLNT_SMS_TEL"));
                
                System.out.println("sms: " + sms);
                if (sms != null)
                {
                  sms = sms.replaceAll("\\-", "");
                  
                  System.out.println("sms: " + sms);
                  if ((sms.length() >= 9) && ((sms.matches(no_format)) || (couZipCode == null)))
                  {
                    sms = sms.substring(sms.length() - 9, sms.length());
                    
                    prefix = "0" + sms.substring(0, 3);
                    
                    suffix = sms.substring(3, 9);
                  }
                  else
                  {
                    prefix = null;
                    suffix = null;
                  }
                }
                System.out.println("prefix: " + prefix);
                
                System.out.println("suffix: " + suffix);
                
                this.txtPrefixManager.setValue(prefix);
                this.txtSms.setValue(suffix);
                
                this.txtPostalAddress.setValue(m.get("CLNT_POSTAL_ADDRS"));
                this.txtGender.setValue(m.get("CLNT_GENDER"));
                this.txtDOB.setValue(m.get("CLNT_DOB"));
                this.txtRegBranchCode.setValue(m.get("CLNT_BRN_CODE"));
                this.txtRegBranchName.setValue(m.get("CLNT_BRN_NAME"));
                
                this.txtZipCode.setValue(m.get("CLNT_POSTAL_CODE"));
                this.txtSurburbs.setValue(m.get("CLNT_POSTAL_CODE"));
                String clientType = GlobalCC.checkNullValues(m.get("CLNT_TYPE"));
                
                SetTxtClientTypesValue(clientType);
              }
              catch (Exception e)
              {
                GlobalCC.EXCEPTIONREPORTING(e);
              }
              GlobalCC.refreshUI(this.clientTab);
            }
            else
            {
              GlobalCC.errorValueNotEntered("Customer not found!");
            }
          }
        }
      }
      if ("KCB".equalsIgnoreCase(client))
      {
        ChannelManager cm = new ChannelManager();
        clntDtls = cm.getCustomerInfo(valueChangeEvent.getNewValue().toString());
        
        System.out.println("fetched_customer_details:" + clntDtls);
        if (clntDtls.size() > 0)
        {
          try
          {
            this.legacyShtDesc.setValue(clntDtls.get("customerId"));
            
            String fullnames = (String)clntDtls.get("customerName");
            
            String surname = null;
            String othernames = null;
            if ((fullnames != null) && ("".equals(fullnames) != true))
            {
              int s = fullnames.trim().indexOf(" ");
              if (s > 0)
              {
                surname = fullnames.substring(0, s);
                othernames = fullnames.substring(s + 1, fullnames.length());
              }
            }
            this.txtSurname.setValue(surname);
            this.txtOtherNames.setValue(othernames);
            this.txtFullNames.setValue(fullnames);
            
            this.txtIdRegNum.setValue(clntDtls.get("customerIdentifDoc"));
            this.txtEmail.setValue(clntDtls.get("emailAddress"));
            this.txtPhone1.setValue(clntDtls.get("offphone"));
            this.txtClientCellNos.setValue(clntDtls.get("phoneNumber"));
            this.txtPostalAddress.setValue(clntDtls.get("postAdd"));
            this.txtGender.setValue(clntDtls.get("gender"));
            this.txtDOB.setValue(clntDtls.get("dateofbirth"));
            this.txtRegBranchCode.setValue(clntDtls.get("accountofficer"));
            this.txtRegBranchName.setValue(clntDtls.get("branchName"));
            this.txtMaritalStatus.setValue(clntDtls.get("maritalstatus"));
            this.txtCltOccupation.setValue(clntDtls.get("occupation"));
            this.txtZipCode.setValue(clntDtls.get("postcode"));
            this.txtSurburbs.setValue(clntDtls.get("postcode"));
            this.txtTownName.setValue(clntDtls.get("towncountry"));
            SetTxtClientTypesValue((String)clntDtls.get("localref"));
          }
          catch (Exception e)
          {
            GlobalCC.EXCEPTIONREPORTING(e);
          }
          GlobalCC.refreshUI(this.clientTab);
        }
      }
    }
  }
  
  public void SetTxtClientTypesValue(String value)
  {
    System.out.println("SetTxtClientTypesValue: " + value);
    for (SelectItem item : getClientType()) {
      if (item != null)
      {
        String v = GlobalCC.checkNullValues(item.getValue());
        System.out.println("clientType: " + v);
        if ((v != null) && (v.equalsIgnoreCase(value)))
        {
          System.out.println("clientType set as: " + v);
          this.txtClientTypes.setValue(v);
          GlobalCC.refreshUI(this.txtClientTypes);
          ClientTypeChanged();
        }
      }
    }
  }
  
  public void clientVaraibleInitialization(Connection conn)
  {
    CallableStatement callStmt = null;
    try
    {
      HttpSession session = (HttpSession)FacesContext.getCurrentInstance().getExternalContext().getSession(false);
      
      String globalUserVar = "begin pkg_global_vars.set_pvar(?,?); end;";
      
      callStmt = (OracleCallableStatement)conn.prepareCall("begin pkg_global_vars.set_pvar(?,?); end;");
      
      callStmt.setString(1, "pkg_global_vars.pvg_username");
      callStmt.setString(2, (String)session.getAttribute("Username"));
      callStmt.execute();
      callStmt = conn.prepareCall(globalUserVar);
      
      callStmt.setString(1, "Pkg_Global_Vars.Pvg_ClientCode");
      callStmt.setString(2, (String)session.getAttribute("ClientCode"));
      callStmt.execute();
    }
    catch (Exception e)
    {
      e.printStackTrace();
      GlobalCC.EXCEPTIONREPORTING(e);
    }
  }
  
  public void setTxtMaritalStatus(RichSelectOneChoice txtMaritalStatus)
  {
    this.txtMaritalStatus = txtMaritalStatus;
  }
  
  public RichSelectOneChoice getTxtMaritalStatus()
  {
    return this.txtMaritalStatus;
  }
  
  public void setTxtModeOfComm(RichSelectOneChoice txtModeOfComm)
  {
    this.txtModeOfComm = txtModeOfComm;
  }
  
  public RichSelectOneChoice getTxtModeOfComm()
  {
    return this.txtModeOfComm;
  }
  
  public void setTxtPayroll(RichInputText txtPayroll)
  {
    this.txtPayroll = txtPayroll;
  }
  
  public RichInputText getTxtPayroll()
  {
    return this.txtPayroll;
  }
  
  public void setTxtMinSalary(RichInputNumberSpinbox txtMinSalary)
  {
    this.txtMinSalary = txtMinSalary;
  }
  
  public RichInputNumberSpinbox getTxtMinSalary()
  {
    return this.txtMinSalary;
  }
  
  public void setTxtMaxSalary(RichInputNumberSpinbox txtMaxSalary)
  {
    this.txtMaxSalary = txtMaxSalary;
  }
  
  public void setTxtType(RichSelectOneChoice txtType)
  {
    this.txtType = txtType;
  }
  
  public RichSelectOneChoice getTxtType()
  {
    return this.txtType;
  }
  
  public void setTxtBussinessPerson(RichInputText txtBussinessPerson)
  {
    this.txtBussinessPerson = txtBussinessPerson;
  }
  
  public RichInputText getTxtBussinessPerson()
  {
    return this.txtBussinessPerson;
  }
  
  public void setBussinesPersonTbl(RichTable bussinesPersonTbl)
  {
    this.bussinesPersonTbl = bussinesPersonTbl;
  }
  
  public RichTable getBussinesPersonTbl()
  {
    return this.bussinesPersonTbl;
  }
  
  public String selectBussinessPerson()
  {
    Object key = this.bussinesPersonTbl.getSelectedRowData();
    JUCtrlValueBinding r = (JUCtrlValueBinding)key;
    if (r == null)
    {
      GlobalCC.INFORMATIONREPORTING("No Record Selected");
      return null;
    }
    System.out.println("This is bpnCode" + r.getAttribute("bpnCode"));
    this.session.setAttribute("bpnCodeVal", r.getAttribute("bpnCode"));
    this.txtBussinessPerson.setValue(r.getAttribute("bpnName"));
    GlobalCC.refreshUI(this.txtBussinessPerson);
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:BussinessPop').hide(hints);");
    
    return null;
  }
  
  public String selectBussinessPersonPop()
  {
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:BussinessPop').show(hints);");
    
    return null;
  }
  
  public void setOccupationTbl(RichTable occupationTbl)
  {
    this.occupationTbl = occupationTbl;
  }
  
  public RichTable getOccupationTbl()
  {
    return this.occupationTbl;
  }
  
  public String selectOccupation()
  {
    Object key = this.occupationTbl.getSelectedRowData();
    JUCtrlValueBinding r = (JUCtrlValueBinding)key;
    if (r == null)
    {
      GlobalCC.INFORMATIONREPORTING("No Record selected");
      return null;
    }
    this.txtCltOccupation.setValue(r.getAttribute("occName"));
    this.session.setAttribute("occCode", r.getAttribute("occCode"));
    GlobalCC.refreshUI(this.txtCltOccupation);
    
    return null;
  }
  
  public String selectOccupationDetails()
  {
    try
    {
      Object key = this.occupationTbl.getSelectedRowData();
      JUCtrlValueBinding r = (JUCtrlValueBinding)key;
      if (r == null)
      {
        GlobalCC.INFORMATIONREPORTING("No Record selected");
        return null;
      }
      this.session.setAttribute("occupationCode", r.getAttribute("occCode"));
      this.txtCltOccupation.setValue(r.getAttribute("occName"));
      this.session.setAttribute("occCode", r.getAttribute("occCode"));
      
      GlobalCC.refreshUI(this.txtCltOccupation);
      ADFUtils.findIterator("findSpecializationsIterator").executeQuery();
      GlobalCC.refreshUI(this.specializationTbl);
      
      GlobalCC.hidePopup("pt1:occupationPop");
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(e);
    }
    return null;
  }
  
  public String selectSpecializationDetails()
  {
    Object key = this.specializationTbl.getSelectedRowData();
    JUCtrlValueBinding r = (JUCtrlValueBinding)key;
    if (r == null)
    {
      GlobalCC.INFORMATIONREPORTING("No Record selected");
      return null;
    }
    this.txtSpecialization.setValue(r.getAttribute("SPZ_NAME"));
    this.session.setAttribute("SPZ_CODE", r.getAttribute("SPZ_CODE"));
    GlobalCC.refreshUI(this.txtSpecialization);
    GlobalCC.hidePopup("pt1:SpecializationPop");
    return null;
  }
  
  public void setConfirmPin(RichDialog confirmPin)
  {
    this.confirmPin = confirmPin;
  }
  
  public RichInputNumberSpinbox getTxtMaxSalary()
  {
    return this.txtMaxSalary;
  }
  
  public RichDialog getConfirmPin()
  {
    return this.confirmPin;
  }
  
  public void confirmPinContinue(DialogEvent dialogEvent)
  {
    this.session.setAttribute("pinStatus", null);
    if (dialogEvent.getOutcome().equals(DialogEvent.Outcome.no))
    {
      this.session.setAttribute("pinStatus", "NO");
    }
    else if (dialogEvent.getOutcome().equals(DialogEvent.Outcome.yes))
    {
      this.session.setAttribute("pinStatus", "YES");
      checkIfSSuchRecorDExist();
    }
  }
  
  public void setTxtDlIssueDate(RichInputDate txtDlIssueDate)
  {
    this.txtDlIssueDate = txtDlIssueDate;
  }
  
  public RichInputDate getTxtDlIssueDate()
  {
    return this.txtDlIssueDate;
  }
  
  public void setTxtWorkPermit(RichInputText txtWorkPermit)
  {
    this.txtWorkPermit = txtWorkPermit;
  }
  
  public RichInputText getTxtWorkPermit()
  {
    return this.txtWorkPermit;
  }
  
  public boolean isForegn()
  {
    String defaultCountry = "NONE";
    defaultCountry = GlobalCC.checkNullValues(this.session.getAttribute("COUNTRY_NAME"));
    if (defaultCountry != null) {
      return !defaultCountry.equalsIgnoreCase((String)this.txtCountryName.getValue());
    }
    return true;
  }
  
  public void setUpFile(RichInputFile upFile)
  {
    this.upFile = upFile;
  }
  
  public RichInputFile getUpFile()
  {
    return this.upFile;
  }
  
  public void setDocTbl(RichTable docTbl)
  {
    this.docTbl = docTbl;
  }
  
  public RichTable getDocTbl()
  {
    return this.docTbl;
  }
  
  public String launchDebtor()
  {
    ADFUtils.findIterator("fetchClientAccountsIterator").executeQuery();
    GlobalCC.refreshUI(this.debtor);
    ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
    
    erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:conDebtor').show(hints);");
    
    return null;
  }
  
  public void setDebtor(RichTable debtor)
  {
    this.debtor = debtor;
  }
  
  public RichTable getDebtor()
  {
    return this.debtor;
  }
  
  public String debtorSelected()
  {
    Object key2 = this.debtor.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      this.conSect.setValue(nodeBinding.getAttribute("name"));
      
      this.conSect.setLabel(nodeBinding.getAttribute("code").toString());
      GlobalCC.refreshUI(this.conSect);
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:conDebtor').hide(hints);");
    }
    return null;
  }
  
  public void setPrefixTbl2(RichTable prefixTbl2)
  {
    this.prefixTbl2 = prefixTbl2;
  }
  
  public RichTable getPrefixTbl2()
  {
    return this.prefixTbl2;
  }
  
  public void setTxtTelPayPrefix(RichInputText txtTelPayPrefix)
  {
    this.txtTelPayPrefix = txtTelPayPrefix;
  }
  
  public RichInputText getTxtTelPayPrefix()
  {
    return this.txtTelPayPrefix;
  }
  
  public void setTxtPayTel(RichInputText txtPayTel)
  {
    this.txtPayTel = txtPayTel;
  }
  
  public RichInputText getTxtPayTel()
  {
    return this.txtPayTel;
  }
  
  public void setPostalCodeTable(RichTable postalCodeTable)
  {
    this.postalCodeTable = postalCodeTable;
  }
  
  public RichTable getPostalCodeTable()
  {
    return this.postalCodeTable;
  }
  
  public void setPostalCode(RichInputText postalCode)
  {
    this.postalCode = postalCode;
  }
  
  public RichInputText getPostalCode()
  {
    return this.postalCode;
  }
  
  public void setTxtEmail2(RichInputText txtEmail2)
  {
    this.txtEmail2 = txtEmail2;
  }
  
  public RichInputText getTxtEmail2()
  {
    return this.txtEmail2;
  }
  
  public void setTblCountryPop2(RichTable tblCountryPop2)
  {
    this.tblCountryPop2 = tblCountryPop2;
  }
  
  public RichTable getTblCountryPop2()
  {
    return this.tblCountryPop2;
  }
  
  public void setTxtCountryName2(RichInputText txtCountryName2)
  {
    this.txtCountryName2 = txtCountryName2;
  }
  
  public RichInputText getTxtCountryName2()
  {
    return this.txtCountryName2;
  }
  
  public void setTxtCountryCode2(RichInputText txtCountryCode2)
  {
    this.txtCountryCode2 = txtCountryCode2;
  }
  
  public RichInputText getTxtCountryCode2()
  {
    return this.txtCountryCode2;
  }
  
  public void setTxtCountryName3(RichInputText txtCountryName3)
  {
    this.txtCountryName3 = txtCountryName3;
  }
  
  public RichInputText getTxtCountryName3()
  {
    return this.txtCountryName3;
  }
  
  public void setTxtCountryCode3(RichInputText txtCountryCode3)
  {
    this.txtCountryCode3 = txtCountryCode3;
  }
  
  public RichInputText getTxtCountryCode3()
  {
    return this.txtCountryCode3;
  }
  
  public void setTxtIntTel(RichInputText txtIntTel)
  {
    this.txtIntTel = txtIntTel;
  }
  
  public RichInputText getTxtIntTel()
  {
    return this.txtIntTel;
  }
  
  public void setTblCountryPop3(RichTable tblCountryPop3)
  {
    this.tblCountryPop3 = tblCountryPop3;
  }
  
  public RichTable getTblCountryPop3()
  {
    return this.tblCountryPop3;
  }
  
  public void GSMCountriesListener(SelectionEvent selectionEvent)
  {
    Object key2 = this.tblCountryPop2.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null) {
      System.out.println("Country" + nodeBinding.getAttribute("name"));
    }
  }
  
  public void setTxtClientLevel(RichSelectOneChoice txtClientLevel)
  {
    this.txtClientLevel = txtClientLevel;
  }
  
  public RichSelectOneChoice getTxtClientLevel()
  {
    return this.txtClientLevel;
  }
  
  public void setTxtCheckedByComplianceOfficer(RichSelectOneChoice txtCheckedByComplianceOfficer)
  {
    this.txtCheckedByComplianceOfficer = txtCheckedByComplianceOfficer;
  }
  
  public RichSelectOneChoice getTxtCheckedByComplianceOfficer()
  {
    return this.txtCheckedByComplianceOfficer;
  }
  
  public void setChkGISClient(RichSelectBooleanCheckbox chkGISClient)
  {
    this.chkGISClient = chkGISClient;
  }
  
  public RichSelectBooleanCheckbox getChkGISClient()
  {
    return this.chkGISClient;
  }
  
  public void setChkLMSClient(RichSelectBooleanCheckbox chkLMSClient)
  {
    this.chkLMSClient = chkLMSClient;
  }
  
  public RichSelectBooleanCheckbox getChkLMSClient()
  {
    return this.chkLMSClient;
  }
  
  public void setTxtAccCntName(RichInputText txtAccCntName)
  {
    this.txtAccCntName = txtAccCntName;
  }
  
  public RichInputText getTxtAccCntName()
  {
    return this.txtAccCntName;
  }
  
  public void setTxtAccCntTitle(RichInputText txtAccCntTitle)
  {
    this.txtAccCntTitle = txtAccCntTitle;
  }
  
  public RichInputText getTxtAccCntTitle()
  {
    return this.txtAccCntTitle;
  }
  
  public void setTxtAccCntSmsNo(RichInputText txtAccCntSmsNo)
  {
    this.txtAccCntSmsNo = txtAccCntSmsNo;
  }
  
  public RichInputText getTxtAccCntSmsNo()
  {
    return this.txtAccCntSmsNo;
  }
  
  public void setTxtAccCntEmail(RichInputText txtAccCntEmail)
  {
    this.txtAccCntEmail = txtAccCntEmail;
  }
  
  public RichInputText getTxtAccCntEmail()
  {
    return this.txtAccCntEmail;
  }
  
  public void setTxtSelectContactTitle(RichCommandButton txtSelectContactTitle)
  {
    this.txtSelectContactTitle = txtSelectContactTitle;
  }
  
  public RichCommandButton getTxtSelectContactTitle()
  {
    return this.txtSelectContactTitle;
  }
  
  public void setTxtFullNames(RichInputText txtFullNames)
  {
    this.txtFullNames = txtFullNames;
  }
  
  public RichInputText getTxtFullNames()
  {
    return this.txtFullNames;
  }
  
  public void setTxtSearchCountry(RichInputText txtSearchCountry)
  {
    this.txtSearchCountry = txtSearchCountry;
  }
  
  public RichInputText getTxtSearchCountry()
  {
    return this.txtSearchCountry;
  }
  
  public void setBtnBackClient(RichCommandButton btnBackClient)
  {
    this.btnBackClient = btnBackClient;
  }
  
  public RichCommandButton getBtnBackClient()
  {
    return this.btnBackClient;
  }
  
  public void setSpecializationTbl(RichTable specializationTbl)
  {
    this.specializationTbl = specializationTbl;
  }
  
  public RichTable getSpecializationTbl()
  {
    return this.specializationTbl;
  }
  
  public void setTxtSpecialization(RichInputText txtSpecialization)
  {
    this.txtSpecialization = txtSpecialization;
  }
  
  public RichInputText getTxtSpecialization()
  {
    return this.txtSpecialization;
  }
  
  public void setDlgClientAccount(RichDialog dlgClientAccount)
  {
    this.dlgClientAccount = dlgClientAccount;
  }
  
  public RichDialog getDlgClientAccount()
  {
    return this.dlgClientAccount;
  }
  
  public void setTxtCustomerCompany(RichInputText txtCustomerCompany)
  {
    this.txtCustomerCompany = txtCustomerCompany;
  }
  
  public RichInputText getTxtCustomerCompany()
  {
    return this.txtCustomerCompany;
  }
  
  public void setTblBankAccounts(RichTable tblBankAccounts)
  {
    this.tblBankAccounts = tblBankAccounts;
  }
  
  public RichTable getTblBankAccounts()
  {
    return this.tblBankAccounts;
  }
  
  public void setTxtBACT_NAME(RichInputText txtBACT_NAME)
  {
    this.txtBACT_NAME = txtBACT_NAME;
  }
  
  public RichInputText getTxtBACT_NAME()
  {
    return this.txtBACT_NAME;
  }
  
  public void setTxtBACT_ACCOUNT_NO(RichInputText txtBACT_ACCOUNT_NO)
  {
    this.txtBACT_ACCOUNT_NO = txtBACT_ACCOUNT_NO;
  }
  
  public RichInputText getTxtBACT_ACCOUNT_NO()
  {
    return this.txtBACT_ACCOUNT_NO;
  }
  
  public void setTxtBACT_BANK_BRANCH(RichInputText txtBACT_BANK_BRANCH)
  {
    this.txtBACT_BANK_BRANCH = txtBACT_BANK_BRANCH;
  }
  
  public RichInputText getTxtBACT_BANK_BRANCH()
  {
    return this.txtBACT_BANK_BRANCH;
  }
  
  public void setTxtBACT_CURRENCY(RichInputText txtBACT_CURRENCY)
  {
    this.txtBACT_CURRENCY = txtBACT_CURRENCY;
  }
  
  public RichInputText getTxtBACT_CURRENCY()
  {
    return this.txtBACT_CURRENCY;
  }
  
  public void setTxtBACT_BANK_NAME(RichInputText txtBACT_BANK_NAME)
  {
    this.txtBACT_BANK_NAME = txtBACT_BANK_NAME;
  }
  
  public RichInputText getTxtBACT_BANK_NAME()
  {
    return this.txtBACT_BANK_NAME;
  }
  
  public void setTxtBACT_CELL_NOS(RichInputText txtBACT_CELL_NOS)
  {
    this.txtBACT_CELL_NOS = txtBACT_CELL_NOS;
  }
  
  public RichInputText getTxtBACT_CELL_NOS()
  {
    return this.txtBACT_CELL_NOS;
  }
  
  public void setTxtBACT_TEL_NOS(RichInputText txtBACT_TEL_NOS)
  {
    this.txtBACT_TEL_NOS = txtBACT_TEL_NOS;
  }
  
  public RichInputText getTxtBACT_TEL_NOS()
  {
    return this.txtBACT_TEL_NOS;
  }
  
  public void setTxtBACT_ACCOUNT_TYPE(RichInputText txtBACT_ACCOUNT_TYPE)
  {
    this.txtBACT_ACCOUNT_TYPE = txtBACT_ACCOUNT_TYPE;
  }
  
  public RichInputText getTxtBACT_ACCOUNT_TYPE()
  {
    return this.txtBACT_ACCOUNT_TYPE;
  }
  
  public void setTxtBACT_DEFAULT(RichSelectOneChoice txtBACT_DEFAULT)
  {
    this.txtBACT_DEFAULT = txtBACT_DEFAULT;
  }
  
  public RichSelectOneChoice getTxtBACT_DEFAULT()
  {
    return this.txtBACT_DEFAULT;
  }
  
  public void setTblCurrencyPop(RichTable tblCurrencyPop)
  {
    this.tblCurrencyPop = tblCurrencyPop;
  }
  
  public RichTable getTblCurrencyPop()
  {
    return this.tblCurrencyPop;
  }
  
  public void setPanelCurrencyRate(RichPanelBox panelCurrencyRate)
  {
    this.panelCurrencyRate = panelCurrencyRate;
  }
  
  public RichPanelBox getPanelCurrencyRate()
  {
    return this.panelCurrencyRate;
  }
  
  public void setSaveBankDetailsBtn(RichCommandButton saveBankDetailsBtn)
  {
    this.saveBankDetailsBtn = saveBankDetailsBtn;
  }
  
  public RichCommandButton getSaveBankDetailsBtn()
  {
    return this.saveBankDetailsBtn;
  }
  
  public void setTxtBACT_ACC_OFFICER(RichInputText txtBACT_ACC_OFFICER)
  {
    this.txtBACT_ACC_OFFICER = txtBACT_ACC_OFFICER;
  }
  
  public RichInputText getTxtBACT_ACC_OFFICER()
  {
    return this.txtBACT_ACC_OFFICER;
  }
  
  public void setTabBankAccounts(RichShowDetailItem tabBankAccounts)
  {
    this.tabBankAccounts = tabBankAccounts;
  }
  
  public RichShowDetailItem getTabBankAccounts()
  {
    return this.tabBankAccounts;
  }
  
  public void setBankDetailsPopUp(RichPopup bankDetailsPopUp)
  {
    this.bankDetailsPopUp = bankDetailsPopUp;
  }
  
  public RichPopup getBankDetailsPopUp()
  {
    return this.bankDetailsPopUp;
  }
  
  public void setTxtBnkIBAN(RichInputText txtBnkIBAN)
  {
    this.txtBnkIBAN = txtBnkIBAN;
  }
  
  public RichInputText getTxtBnkIBAN()
  {
    return this.txtBnkIBAN;
  }
  
  public void setTxtBACT_STATUS(RichSelectOneChoice txtBACT_STATUS)
  {
    this.txtBACT_STATUS = txtBACT_STATUS;
  }
  
  public RichSelectOneChoice getTxtBACT_STATUS()
  {
    return this.txtBACT_STATUS;
  }
  
  public String clientsRefs()
  {
    return null;
  }
  
  public void setCmdSelectPin(RichCommandLink cmdSelectPin)
  {
    this.cmdSelectPin = cmdSelectPin;
  }
  
  public RichCommandLink getCmdSelectPin()
  {
    return this.cmdSelectPin;
  }
  
  public void setTbPinRefs(RichTable tbPinRefs)
  {
    this.tbPinRefs = tbPinRefs;
  }
  
  public RichTable getTbPinRefs()
  {
    return this.tbPinRefs;
  }
  
  public void uploadDoc(ValueChangeEvent valueChangeEvent)
  {
    if (valueChangeEvent.getNewValue() != valueChangeEvent.getOldValue())
    {
      UploadedFile _file = (UploadedFile)valueChangeEvent.getNewValue();
      this.uploadedFile = _file;
      this.filename = _file.getFilename();
      this.filesize = _file.getLength();
      this.filetype = _file.getContentType();
      try
      {
        CSVtoADFTableProcessor CSVManip = new CSVtoADFTableProcessor();
        FileNameMap fileNameMap = URLConnection.getFileNameMap();
        String mimeType = fileNameMap.getContentTypeFor(_file.getFilename());
        
        CSVManip.uploadClientDocuments(this.uploadedFile.getInputStream(), _file.getFilename(), mimeType);
      }
      catch (Exception e)
      {
        GlobalCC.EXCEPTIONREPORTING(e);
      }
    }
  }
  
  public String generateDoc()
  {
    Object key2 = this.docTbl.getSelectedRowData();
    JUCtrlValueBinding r = (JUCtrlValueBinding)key2;
    if (r == null)
    {
      GlobalCC.errorValueNotEntered("No Record Selected");
      return null;
    }
    String id = (String)r.getAttribute("id");
    String[] ids = id.split(";");
    String finalId = "";
    if (ids.length > 1) {
      finalId = ids[0];
    } else {
      finalId = id;
    }
    Connection conn = null;
    String url = "";
    String user = "";
    String pass = "";
    DBConnector datahandler = new DBConnector();
    conn = datahandler.getDatabaseConnection();
    CallableStatement cstSections = null;
    ResultSet sectionsRS = null;
    try
    {
      cstSections = conn.prepareCall("begin ? := TQC_SETUPS_CURSOR.get_system_ecm_setups(?); end;");
      
      cstSections.registerOutParameter(1, -10);
      
      cstSections.setInt(2, 0);
      cstSections.execute();
      sectionsRS = (ResultSet)cstSections.getObject(1);
      if (sectionsRS.next())
      {
        url = sectionsRS.getString(2);
        user = sectionsRS.getString(3);
        pass = sectionsRS.getString(4);
      }
      String[] urls = url.split("/");
      String toPrint = urls[0] + "//" + urls[2] + "/" + "/OpenAnnotate/login/unencrypted.htm?username=" + user + "&password=" + pass + "&docbase=Company Home&docId=" + finalId;
      
      System.out.println(toPrint);
      this.session.setAttribute("toPrint", toPrint);
      ExtendedRenderKitService erkService = (ExtendedRenderKitService)Service.getService(FacesContext.getCurrentInstance().getRenderKit(), ExtendedRenderKitService.class);
      
      erkService.addScript(FacesContext.getCurrentInstance(), "var hints = {autodismissNever:false}; AdfPage.PAGE.findComponent('pt1:p201').show(hints);");
    }
    catch (SQLException e)
    {
      e.printStackTrace();
    }
    finally
    {
      DbUtils.closeQuietly(conn, cstSections, sectionsRS);
    }
    return null;
  }
  
  public String refreshDocs()
  {
    ADFUtils.findIterator("enquireDocsIterator").executeQuery();
    GlobalCC.refreshUI(this.docTbl);
    return null;
  }
  
  public void setUploadedFile(UploadedFile uploadedFile)
  {
    this.uploadedFile = uploadedFile;
    System.out.println(this.uploadedFile);
    this.filename = uploadedFile.getFilename();
    System.out.println(this.filename);
    this.filesize = uploadedFile.getLength();
    System.out.println(this.filesize);
    this.filetype = uploadedFile.getContentType();
    System.out.println(this.filetype);
  }
  
  public String searchCountry()
  {
    try
    {
      this.session.setAttribute("txtSearchCountry", this.txtSearchCountry.getValue());
      
      ADFUtils.findIterator("fetchAllCountriesInfoIterator").executeQuery();
      GlobalCC.refreshUI(this.tblCountryPop);
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(e);
    }
    return null;
  }
  
  public void refreshTabClientInfo(ValueChangeEvent valueChangeEvent)
  {
    GlobalCC.refreshUI(this.tabClientInfo);
  }
  
  public UploadedFile getUploadedFile()
  {
    return this.uploadedFile;
  }
  
  public void onPageLoad(PhaseEvent phaseEvent)
  {
    if (this.session.getAttribute("source") != null)
    {
      String source = (String)this.session.getAttribute("source");
      System.out.println("source: " + source);
      if (source.equals("GisNewClient")) {
        actionNewClient();
      }
      if (source.equals("LmsNewClient")) {
        actionNewClient();
      }
      this.session.removeAttribute("source");
    }
  }
  
  public String redirectToClientsJSPX()
  {
    try
    {
      this.session.setAttribute("source", "GisNewClient");
      String url = this.renderer.getCrmUrl() + "clients.jspx?sn=" + this.renderer.getSessionUrl();
      
      System.out.println("url: " + url);
      ExternalContext externalContext = FacesContext.getCurrentInstance().getExternalContext();
      
      externalContext.redirect(url);
    }
    catch (Exception e)
    {
      GlobalCC.EXCEPTIONREPORTING(e);
    }
    return null;
  }
  
  public void changeClientAccountStatus(ValueChangeEvent valueChangeEvent)
  {
    this.session.setAttribute("client_account_status", this.txtClientAccStatus.getValue());
    
    GlobalCC.refreshUI(this.dlgClientAccount);
  }
  
  public String actionAcceptCurrency()
  {
    Object key2 = this.tblCurrencyPop.getSelectedRowData();
    JUCtrlValueBinding n = (JUCtrlValueBinding)key2;
    if (n != null)
    {
      this.session.setAttribute("BACT_CUR_CODE", n.getAttribute("code"));
      this.txtBACT_CURRENCY.setValue(n.getAttribute("description"));
    }
    GlobalCC.refreshUI(this.txtBACT_CURRENCY);
    GlobalCC.hidePopup("pt1:currenciesPop");
    return null;
  }
  
  public String actionNewBankAccount()
  {
    try
    {
      if (this.session.getAttribute("bactAccCode") != null)
      {
        this.session.setAttribute("BACT_ACCOUNT_TYPE", "C");
        this.session.setAttribute("bankAccountAction", "A");
        this.session.setAttribute("BACT_CODE", null);
        this.session.setAttribute("BACT_BBR_CODE", null);
        this.session.setAttribute("BACT_CUR_CODE", null);
        this.session.setAttribute("bactUserCode", null);
        this.txtBACT_ACCOUNT_NO.setValue(null);
        if (this.txtSurname.getValue() != null) {
          this.txtBACT_NAME.setValue(this.txtSurname.getValue());
        } else {
          this.txtBACT_NAME.setValue(null);
        }
        this.txtBACT_CURRENCY.setValue(null);
        this.txtBACT_ACCOUNT_NO.setValue(null);
        this.txtBACT_ACC_OFFICER.setValue(null);
        this.txtBACT_STATUS.setValue("A");
        this.txtBACT_DEFAULT.setValue("N");
        this.txtBACT_CELL_NOS.setValue(null);
        this.txtBACT_TEL_NOS.setValue(null);
        this.txtBACT_BANK_BRANCH.setValue(null);
        this.txtBnkIBAN.setValue(null);
        this.txtBACT_NAME.setValue(null);
        
        this.saveBankDetailsBtn.setText("Save");
        
        GlobalCC.showPopup("pt1:BankDetailsPop");
      }
      else
      {
        GlobalCC.INFORMATIONREPORTING("No client Selected::");
      }
    }
    catch (Exception e)
    {
      e.printStackTrace();
    }
    return null;
  }
  
  public String actionEditBankAccount()
  {
    Object key2 = this.tblBankAccounts.getSelectedRowData();
    JUCtrlValueBinding n = (JUCtrlValueBinding)key2;
    if (n != null)
    {
      this.session.setAttribute("bankAccountAction", "E");
      this.session.setAttribute("BACT_CODE", n.getAttribute("BACT_CODE"));
      BigDecimal accCode = GlobalCC.checkBDNullValues(this.session.getAttribute("bactAccCode"));
      
      this.session.setAttribute("BACT_ACC_CODE", accCode);
      this.session.setAttribute("BACT_BBR_CODE", n.getAttribute("BACT_BBR_CODE"));
      
      this.session.setAttribute("BACT_CUR_CODE", n.getAttribute("BACT_CUR_CODE"));
      
      this.session.setAttribute("bactUserCode", n.getAttribute("BACT_USER_CODE"));
      
      this.session.setAttribute("BACT_ACCOUNT_TYPE", "C");
      
      this.txtBACT_ACC_OFFICER.setValue(n.getAttribute("BACT_ACCOUNT_OFFICER"));
      this.txtBACT_ACCOUNT_NO.setValue(n.getAttribute("BACT_ACCOUNT_NO"));
      this.txtBACT_NAME.setValue(n.getAttribute("BACT_NAME"));
      this.txtBACT_DEFAULT.setValue(n.getAttribute("BACT_DEFAULT"));
      this.txtBACT_CELL_NOS.setValue(n.getAttribute("BACT_CELL_NOS"));
      this.txtBACT_TEL_NOS.setValue(n.getAttribute("BACT_TEL_NOS"));
      this.txtBACT_CURRENCY.setValue(n.getAttribute("BACT_CURRENCY"));
      this.txtBACT_BANK_BRANCH.setValue(n.getAttribute("BACT_BANK_BRANCH"));
      this.txtBnkIBAN.setValue(n.getAttribute("BACT_IBAN"));
      this.txtBACT_STATUS.setValue(n.getAttribute("BACT_STATUS"));
      
      this.saveBankDetailsBtn.setText("Update");
      
      GlobalCC.showPopup("pt1:BankDetailsPop");
      GlobalCC.refreshUI(this.bankDetailsPopUp);
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("No record selected.");
      return null;
    }
    return null;
  }
  
  public String actionDeleteBankAccount()
  {
    Object key2 = this.tblBankAccounts.getSelectedRowData();
    JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
    if (nodeBinding != null)
    {
      BigDecimal accCode = GlobalCC.checkBDNullValues(nodeBinding.getAttribute("BACT_CODE"));
      if (accCode == null)
      {
        GlobalCC.INFORMATIONREPORTING("No Record selected.");
        return null;
      }
      String query = "DELETE FROM TQC_BANK_ACCOUNTS WHERE BACT_CODE = " + accCode.toString() + " ";
      if (IQuery.exec(query)) {
        GlobalCC.INFORMATIONREPORTING("pt1:confirmDeleteClientAcc");
      }
    }
    else
    {
      GlobalCC.INFORMATIONREPORTING("No Record selected.");
      return null;
    }
    ADFUtils.findIterator("fetchBankAccountsIterator").executeQuery();
    GlobalCC.refreshUI(this.tblBankAccounts);
    return null;
  }
  
  public String saveBankDetailsAction()
  {
    Connection conn = null;
    CallableStatement stmt = null;
    String query = null;
    
    String bnkBrn = GlobalCC.checkNullValues(this.session.getAttribute("BACT_BBR_CODE"));
    
    String bnkAccOfficer = GlobalCC.checkNullValues(this.session.getAttribute("bactUserCode"));
    
    String bnkAccNumber = GlobalCC.checkNullValues(this.txtBACT_ACCOUNT_NO.getValue());
    
    String bnkAccName = GlobalCC.checkNullValues(this.txtBACT_NAME.getValue());
    String bnkTelNo = GlobalCC.checkNullValues(this.txtBACT_TEL_NOS.getValue());
    String bnkCellNo = GlobalCC.checkNullValues(this.txtBACT_CELL_NOS.getValue());
    
    String bnkCurrency = GlobalCC.checkNullValues(this.session.getAttribute("BACT_CUR_CODE"));
    
    String bnkDefault = GlobalCC.checkNullValues(this.txtBACT_DEFAULT.getValue());
    
    String bactAccountType = GlobalCC.checkNullValues(this.session.getAttribute("bactAccountType"));
    
    String bactAccCode = GlobalCC.checkNullValues(this.session.getAttribute("bactAccCode"));
    
    String bnkIBAN = GlobalCC.checkNullValues(this.txtBnkIBAN.getValue());
    String bnkStatus = GlobalCC.checkNullValues(this.txtBACT_STATUS.getValue());
    String v_bact_code = null;
    String option = null;
    Rendering renderer = new Rendering();
    if ((renderer.isCLIENT_IBAN_REQUIRED()) && (bnkIBAN == null))
    {
      GlobalCC.errorValueNotEntered("Error Value Missing: IBAN is required!");
      return null;
    }
    if (this.saveBankDetailsBtn.getText().equalsIgnoreCase("Update"))
    {
      option = "E";
      Object key2 = this.tblBankAccounts.getSelectedRowData();
      JUCtrlValueBinding nodeBinding = (JUCtrlValueBinding)key2;
      v_bact_code = GlobalCC.checkNullValues(nodeBinding.getAttribute("BACT_CODE"));
    }
    else if (this.saveBankDetailsBtn.getText().equalsIgnoreCase("Save"))
    {
      option = "A";
    }
    try
    {
      DBConnector connection = new DBConnector();
      conn = connection.getDatabaseConnection();
      query = "begin tqc_setups_pkg.bank_details_prc(?,?,?,?,?,?,?,?,?,?,?,?,?,?); end;";
      
      stmt = (OracleCallableStatement)conn.prepareCall(query);
      
      stmt.setString(1, option);
      stmt.setString(2, v_bact_code);
      stmt.setString(3, bnkAccName);
      stmt.setString(4, bnkAccNumber);
      stmt.setString(5, bnkBrn);
      stmt.setString(6, bnkAccOfficer);
      stmt.setString(7, bnkCellNo);
      stmt.setString(8, bnkTelNo);
      stmt.setString(9, bactAccountType);
      stmt.setString(10, bnkDefault);
      stmt.setString(11, bnkCurrency);
      stmt.setString(12, bactAccCode);
      stmt.setString(13, bnkIBAN);
      stmt.setString(14, bnkStatus);
      stmt.execute();
      
      stmt.close();
      conn.close();
      GlobalCC.INFORMATIONREPORTING("Bank Details Successfully Saved!");
      ADFUtils.findIterator("fetchBankAccountsIterator").executeQuery();
      
      GlobalCC.hidePopup("pt1:BankDetailsPop");
      
      GlobalCC.refreshUI(this.tblBankAccounts);
    }
    catch (SQLException ex)
    {
      GlobalCC.EXCEPTIONREPORTING(ex);
    }
    return null;
  }
  
  public static enum mode
  {
    EDIT_MODE,  NEW_MODE,  DEFAULT_MODE;
    
    private mode() {}
  }
}
