-- TQC_CLIENTS_PKG.getClientContacts

FUNCTION getClientContacts(v_clntCode      TQC_CLIENT_CONTACTS.CLCO_CLNT_CODE%TYPE)RETURN client_contacts_ref IS
        v_cursor  client_contacts_ref;
BEGIN
    OPEN v_cursor FOR
    SELECT CLCO_CODE, CLCO_CLNT_CODE, CLCO_NAME, CLCO_POSTAL_ADDRS, CLCO_PHYSICAL_ADDRS, CLCO_SEC_CODE,
    nvl(SEC_NAME,(select CLNA_SHT_DESC from TQC_CLIENT_ACCOUNTS where CLNA_CODE= CLCO_SEC_CODE)) SEC_NAME
    FROM TQC_CLIENT_CONTACTS,TQC_SECTORS
    WHERE CLCO_SEC_CODE = SEC_CODE(+)
    AND CLCO_CLNT_CODE = v_clntCode;
    RETURN v_cursor;
END;